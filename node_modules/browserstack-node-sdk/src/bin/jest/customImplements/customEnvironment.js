const a16_0x25bc10=a16_0x369c;(function(_0x220cfa,_0x433c65){const _0xa2346e=a16_0x369c,_0x61d411=_0x220cfa();while(!![]){try{const _0x238c67=-parseInt(_0xa2346e(0x1a3))/0x1*(-parseInt(_0xa2346e(0x1ba))/0x2)+parseInt(_0xa2346e(0x1c9))/0x3*(-parseInt(_0xa2346e(0x195))/0x4)+parseInt(_0xa2346e(0x1d0))/0x5+-parseInt(_0xa2346e(0x19e))/0x6*(-parseInt(_0xa2346e(0x184))/0x7)+-parseInt(_0xa2346e(0x1ad))/0x8+-parseInt(_0xa2346e(0x19a))/0x9*(parseInt(_0xa2346e(0x1d6))/0xa)+parseInt(_0xa2346e(0x18a))/0xb*(parseInt(_0xa2346e(0x1ab))/0xc);if(_0x238c67===_0x433c65)break;else _0x61d411['push'](_0x61d411['shift']());}catch(_0x28105d){_0x61d411['push'](_0x61d411['shift']());}}}(a16_0x4b32,0xa28d1));const helper=require(a16_0x25bc10(0x18d)),constants=require(a16_0x25bc10(0x1dc)),{isTestObservabilitySession}=require(a16_0x25bc10(0x1e5)),RequestQueueHandler=require(a16_0x25bc10(0x19b)),ObservabilityReporter=require(a16_0x25bc10(0x1b5)),testhubUtils=require(a16_0x25bc10(0x190)),logger=require(a16_0x25bc10(0x1ce))[a16_0x25bc10(0x1a9)],getTestEnvironment=((()=>{const _0x230cbd=a16_0x25bc10,_0x81397d={};_0x81397d[_0x230cbd(0x1e6)]=_0x230cbd(0x1e7),_0x81397d['rZhcf']=_0x230cbd(0x1db);const _0x5710c0=_0x81397d;try{const _0x3f6251=helper['requireModule'](_0x5710c0[_0x230cbd(0x1e6)]);if(_0x3f6251[_0x230cbd(0x192)])return _0x3f6251[_0x230cbd(0x192)];const _0x3c47ee=helper[_0x230cbd(0x1c3)](_0x5710c0[_0x230cbd(0x199)]);if(_0x3c47ee[_0x230cbd(0x191)])return _0x3c47ee[_0x230cbd(0x191)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x37f574=a16_0x25bc10,_0x35b48b={'uXqbN':function(_0x1041a2,_0x368a5f){return _0x1041a2(_0x368a5f);},'XTnbF':_0x37f574(0x180),'uusLE':function(_0x576fd4,_0x159826){return _0x576fd4(_0x159826);},'Mpves':_0x37f574(0x1a1)},_0x5b101b=_0x35b48b['uXqbN'](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process[_0x37f574(0x1d9)]['BSTACK_JEST_TEST_ENV']||_0x35b48b[_0x37f574(0x1a7)]});if(!_0x5b101b)return _0x35b48b[_0x37f574(0x19d)](_interopRequireDefault,helper[_0x37f574(0x1c3)](_0x35b48b[_0x37f574(0x1d3)]));return _0x35b48b[_0x37f574(0x193)](_interopRequireDefault,helper[_0x37f574(0x1c3)](_0x5b101b));})()),_seleniumWebdriver2=((()=>{const _0x5df022=a16_0x25bc10,_0x2584b2={'Zmwrj':function(_0x2b70b3,_0x427d3c){return _0x2b70b3(_0x427d3c);}};try{const _0x30526e=helper['requireSeleniumWebdriver']();return helper[_0x5df022(0x1b1)](),_0x2584b2['Zmwrj'](_interopRequireDefault,_0x30526e);}catch{return null;}})());function _interopRequireDefault(_0x27ae63){const _0x4acf43=a16_0x25bc10;return _0x27ae63&&_0x27ae63[_0x4acf43(0x1ca)]?_0x27ae63:{'default':_0x27ae63};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x25bc10(0x1c8)][a16_0x25bc10(0x1d7)]:null;class CustomEnvironment extends _jestUserEnvironment['default']{constructor(_0x41a224){const _0x279c39=a16_0x25bc10,_0x2e03d0={'GDAAx':'quit','LRUWm':function(_0x480d1c,_0x1aa791){return _0x480d1c+_0x1aa791;},'shnRW':_0x279c39(0x1dd),'IrfdV':function(_0x154fed,_0x328689){return _0x154fed(_0x328689);},'lpLYL':_0x279c39(0x18b),'FfItO':_0x279c39(0x1bc),'FzAsg':'testEnvironmentOptions','gWoCB':_0x279c39(0x186),'uMJhj':_0x279c39(0x1d4),'wZzWZ':function(_0x59ff9f,_0x683f21){return _0x59ff9f(_0x683f21);},'bvQZk':'../../../index','PqDjh':_0x279c39(0x1e8),'GZVOf':'browserstackPercyBestPlatform'};super(_0x41a224),this[_0x279c39(0x188)]['__timeout']=0x0,this[_0x279c39(0x1df)]={};!_0x41a224[_0x279c39(0x1b2)]&&(_0x41a224[_0x279c39(0x1b2)]={});if(helper[_0x279c39(0x1b8)]()){_0x41a224['testEnvironmentOptions']=_0x41a224[_0x279c39(0x194)]?_0x41a224[_0x279c39(0x194)]['testEnvironmentOptions']:_0x41a224['testEnvironmentOptions'];_seleniumWebdriver2&&(this[_0x279c39(0x1aa)]=new _seleniumWebdriver2[(_0x279c39(0x1c8))]['Builder']());this['capability']=_0x41a224[_0x279c39(0x194)]?_0x41a224[_0x279c39(0x194)][_0x279c39(0x17c)]:_0x41a224[_0x279c39(0x17c)],this[_0x279c39(0x188)][_0x279c39(0x1a4)]=_0x2e03d0[_0x279c39(0x1bf)](this['configuration'][_0x279c39(0x1b0)],constants[_0x279c39(0x1ae)]),this[_0x279c39(0x187)]=_0x41a224[_0x279c39(0x1b2)][_0x279c39(0x1ea)];if(this[_0x279c39(0x187)]){const _0x4998d5=this[_0x279c39(0x17c)][_0x2e03d0[_0x279c39(0x1c2)]]?.['buildName']||'',_0x225bfe=this['capability'][_0x2e03d0[_0x279c39(0x1c2)]]?.[_0x279c39(0x1a6)]||'';this[_0x279c39(0x1ea)]=new(_0x2e03d0[_0x279c39(0x1cc)](require,_0x2e03d0['lpLYL']))(this[_0x279c39(0x187)],_0x4998d5,_0x225bfe),this[_0x279c39(0x188)][_0x279c39(0x1b6)]=![];}helper['isNotUndefined'](this[_0x279c39(0x1df)][_0x279c39(0x1a8)])&&(this['global'][_0x279c39(0x182)]=this[_0x279c39(0x1df)][_0x279c39(0x1a8)]);}if(testhubUtils['shouldProcessEventForTesthub']()){const _0x3b5303=new ObservabilityReporter();_0x3b5303[_0x279c39(0x1d8)]();}this['global']['browserStackGlobals']={},this[_0x279c39(0x1df)]=_0x41a224[_0x279c39(0x1b2)],this['configuration'][_0x279c39(0x18f)]=constants[_0x279c39(0x1cb)][_0x279c39(0x1b4)],this['global'][_0x279c39(0x196)]=(_0x41a224[_0x279c39(0x194)]?_0x41a224['projectConfig'][_0x279c39(0x196)]:_0x41a224['browserstackPlatformIndex'])||0x0,this[_0x279c39(0x188)][_0x279c39(0x1e9)]=this[_0x279c39(0x1df)]&&this[_0x279c39(0x1df)]['platformCaps']&&Array['isArray'](this[_0x279c39(0x1df)]['platformCaps'])&&this[_0x279c39(0x1df)][_0x279c39(0x1cd)][this[_0x279c39(0x188)][_0x279c39(0x196)]]||{};const _0x39e189=this['global'][_0x279c39(0x196)],_0x4d9a44={...this[_0x279c39(0x1df)],'capability':this[_0x279c39(0x1df)][_0x279c39(0x197)]&&Array[_0x279c39(0x1ed)](this[_0x279c39(0x1df)][_0x279c39(0x197)])&&this[_0x279c39(0x1df)][_0x279c39(0x197)][_0x39e189]||{},'platformCaps':this[_0x279c39(0x1df)][_0x279c39(0x1cd)]&&Array[_0x279c39(0x1ed)](this[_0x279c39(0x1df)][_0x279c39(0x1cd)])&&this['configuration']['platformCaps'][_0x39e189]||{}};delete _0x4d9a44['capabilities'],this[_0x279c39(0x188)][_0x279c39(0x181)]=_0x4d9a44;if(_seleniumWebdriver2){const _0x1515a4=_0x2e03d0[_0x279c39(0x1da)]['split']('|');let _0x109958=0x0;while(!![]){switch(_0x1515a4[_0x109958++]){case'0':this['global'][_0x279c39(0x1be)]=async()=>{const _0x48a008=_0x279c39;await this[_0x48a008(0x188)][_0x48a008(0x1cf)]['quit'](_0x2e03d0[_0x48a008(0x19c)]);};continue;case'1':this[_0x279c39(0x188)][_0x279c39(0x1d4)]=helper[_0x279c39(0x18e)](_0x41a224,[_0x2e03d0[_0x279c39(0x17e)],_0x2e03d0['gWoCB'],_0x2e03d0[_0x279c39(0x1b3)]]);continue;case'2':this[_0x279c39(0x188)]['__webdriver']=_0x2e03d0[_0x279c39(0x18c)](require,_0x2e03d0[_0x279c39(0x1ac)])[_0x279c39(0x17d)]({...this[_0x279c39(0x1df)],'capability':this[_0x279c39(0x17c)]||{}},this,testhubUtils[_0x279c39(0x1a0)]());continue;case'3':this[_0x279c39(0x188)]['__drivers']=[];continue;case'4':this[_0x279c39(0x188)][_0x279c39(0x1e8)]=helper[_0x279c39(0x18e)](_0x41a224,[_0x2e03d0[_0x279c39(0x17e)],_0x2e03d0['gWoCB'],_0x2e03d0['PqDjh']]);continue;case'5':this[_0x279c39(0x188)][_0x279c39(0x1af)]=helper[_0x279c39(0x17f)](this['configuration']['skipSessionStatus']);continue;case'6':this[_0x279c39(0x188)]['browserstackPercyBestPlatform']=helper[_0x279c39(0x18e)](_0x41a224,[_0x2e03d0[_0x279c39(0x17e)],_0x2e03d0[_0x279c39(0x1e0)],_0x2e03d0[_0x279c39(0x1c4)]]);continue;case'7':helper['isTrue'](this['configuration'][_0x279c39(0x19f)])?this[_0x279c39(0x188)][_0x279c39(0x1d2)]=!![]:this[_0x279c39(0x188)]['sessionNameProvided']=![];continue;}break;}}}async[a16_0x25bc10(0x1e2)](){const _0x16026f=a16_0x25bc10;_seleniumWebdriver2&&(await helper[_0x16026f(0x1b9)](this[_0x16026f(0x188)][_0x16026f(0x183)]),this[_0x16026f(0x188)][_0x16026f(0x1de)][_0x16026f(0x1d7)]=originalBuilder),await RequestQueueHandler['getInstance']()['shutdown']();}async[a16_0x25bc10(0x1b7)](){}async[a16_0x25bc10(0x1c7)](_0x41d2ee,_0x336173){const _0x4cb01d=a16_0x25bc10,_0x472eaf={};_0x472eaf[_0x4cb01d(0x1c5)]=function(_0x3a9f05,_0x3cf57f){return _0x3a9f05===_0x3cf57f;},_0x472eaf['BrvIe']='test_start',_0x472eaf[_0x4cb01d(0x1c6)]=_0x4cb01d(0x1a5),_0x472eaf[_0x4cb01d(0x1d5)]='test_done',_0x472eaf['OSbyv']='\x20>\x20',_0x472eaf[_0x4cb01d(0x1e1)]=_0x4cb01d(0x1c0),_0x472eaf[_0x4cb01d(0x1e4)]='teardown';const _0x5c1171=_0x472eaf,{name:_0x507d12}=_0x41d2ee;if(_0x5c1171[_0x4cb01d(0x1c5)](_0x507d12,_0x5c1171['BrvIe'])){this[_0x4cb01d(0x188)][_0x4cb01d(0x1e3)]=_0x41d2ee[_0x4cb01d(0x185)];if(_0x5c1171[_0x4cb01d(0x1c5)](this[_0x4cb01d(0x188)][_0x4cb01d(0x1b6)],!![])){const _0x2668d2=_0x41d2ee['test']['name'];logger['info'](_0x4cb01d(0x1eb)+_0x2668d2),_0x41d2ee[_0x4cb01d(0x185)][_0x4cb01d(0x1bd)]=_0x5c1171[_0x4cb01d(0x1c6)];}}if(this[_0x4cb01d(0x1ea)]&&_0x5c1171['hlvvL'](_0x507d12,_0x5c1171[_0x4cb01d(0x1d5)]))try{const _0xe5223a=_0x41d2ee[_0x4cb01d(0x185)]['testPath'][_0x4cb01d(0x1bb)](_0x5c1171[_0x4cb01d(0x1c1)]),_0x150c0d=_0x41d2ee[_0x4cb01d(0x185)][_0x4cb01d(0x189)];await this[_0x4cb01d(0x1ea)][_0x4cb01d(0x198)](_0xe5223a,_0x150c0d);const _0x507e38=await this[_0x4cb01d(0x1ea)][_0x4cb01d(0x1d1)]();_0x5c1171[_0x4cb01d(0x1c5)](this['global'][_0x4cb01d(0x1b6)],![])&&_0x5c1171[_0x4cb01d(0x1c5)](_0x507e38,!![])&&(this[_0x4cb01d(0x188)][_0x4cb01d(0x1b6)]=!![]);}catch(_0x33c61f){logger[_0x4cb01d(0x1ec)](_0x5c1171[_0x4cb01d(0x1e1)],_0x33c61f[_0x4cb01d(0x1a2)]);}_0x5c1171[_0x4cb01d(0x1c5)](_0x507d12,_0x5c1171[_0x4cb01d(0x1e4)])&&(this['failFast']&&this[_0x4cb01d(0x1ea)][_0x4cb01d(0x1be)]());}}function a16_0x369c(_0x85946c,_0x2f9b4d){const _0x4b32ad=a16_0x4b32();return a16_0x369c=function(_0x369c4e,_0x40b276){_0x369c4e=_0x369c4e-0x17c;let _0x3202bb=_0x4b32ad[_0x369c4e];return _0x3202bb;},a16_0x369c(_0x85946c,_0x2f9b4d);}module['exports']=CustomEnvironment;function a16_0x4b32(){const _0x5c005e=['shnRW','requireModule','GZVOf','hlvvL','bIPcg','handleTestEvent','default','396729MLLlhb','__esModule','FRAMEWORKS','IrfdV','platformCaps','../../../helpers/logger','driver','5302645GPnHOi','shouldFailFast','sessionNameProvided','Mpves','percyCaptureMode','mmITS','20ywUGsB','Builder','registerListeners','env','FfItO','jest-config','../../utils/constants','bstack:options','__webdriver','configuration','gWoCB','jJeWz','teardown','testContext','PsuwJ','../../../helpers/test-observability/utils','PlwEh','jest-resolve','percy','__platformCaps','failFast','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','debug','isArray','capability','browserstackAgentV2','FzAsg','isTrue','node','jestConfig','__jestRetries','__driversArray','63HucsoJ','test','browserStackPercyOptions','failFastOptions','global','errors','700601WevNUL','../../../helpers/test-orchestration/failfastManager','wZzWZ','../../../helpers/helper','nestedKeyValue','framework','../../../helpers/testhub/utils','getTestEnvironment','resolveTestEnvironment','uXqbN','projectConfig','16SHaiaD','browserstackPlatformIndex','capabilities','onTestDone','rZhcf','5686326bHQXJz','../../../helpers/test-observability/requestQueueHandler','GDAAx','uusLE','742986kRJvpg','skipSessionName','shouldProcessEventForTesthub','jest-environment-node','message','270491nvFroK','__timeout','skip','projectName','XTnbF','retries__','winstonLogger','builder','132XydXsN','bvQZk','5501528FyJFGM','BSTACK_DELTA','__skipSessionStatus','timeout__','modifyCommand','testEnvironmentOptions','uMJhj','JEST','../test-observability/obsReporter','failFastActive','setup','isBrowserstackInfra','cleanupDrivers','2TjNJBH','join','3|2|6|4|1|7|5|0','mode','cleanup','LRUWm','Error\x20in\x20fail-fast\x20test_done\x20handler:','OSbyv'];a16_0x4b32=function(){return _0x5c005e;};return a16_0x4b32();}