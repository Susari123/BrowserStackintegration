function a6_0xa442(){const _0x10b823=['../../v2/cliUtils','KTuvi','pickleId','wdZcT','failureType','hooks','iINCZ','kjfhX','1455076sMyKAr','fHDGp','onTestCase','envelope','LOG_REPORT','cliInitPromise','jtxDW','result','testCaseStarted','getTestUUID','testCases','uri','ohBfa','onGherkinDocument','rule','CNPAs','Executing\x20tests\x20for\x20','KtDUF','SKIPPED','forEach','ItwSM','testStepStarted','eventBroadcaster','setup','parseTestCaseAttempt','XZnQA','iVSuj','6TKcnSh','children','ensureCLIInitialized','cOMdg','INIT_TEST','cSjPn','testCaseMap','ArkmY','path','parse','onTestStepFinished','push','GuQEV','TestRunStarted','testCaseAttemptDataMap','bgIbS',',\x20binSessionId:\x20','log','ZNSsu','372758jFBAqp','stepDefinition','includes','\x20\x20\x20\x20','2051524jNFUca','pickleMap','util','1994496tsiNUA','PRE','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','CVvuV','pickle','onTestRunFinished','POST','../../v2/browserstackCLI.js','__platform','createTestFrameworkData','IOpIO','testRunStarted','type','gherkinDocument','getGherkinDocument','../../../helpers/helper','KsXvw','../test-observability.js','UnhandledError','testSteps','mYdSu','3|1|2|0|4','flat','LXmIM','gherkinDocumentMap','hook','TestRunFinished','eventDataCollector','goIsc','description','IqiVm','../../v2/state/testFrameworkState.js','PLAYWRIGHT','binSessionId','toLowerCase','AMBIGUOUS','643868kyUjWN','VfOXm','supportCodeLibrary','testCaseStartedId','../../../helpers/testhub/utils.js','split','isCliEnabled','cwd','FAILED','extractStepContainers','mUICm','lsKJu','sendHook','values','getGherkinStepMap','SYCJE','onTestCaseStarted','sourceLocation','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','format','toString','logTestCaseFinished','onPickle','map','status','onTestStepStarted','../../v2/utils/cucumber-utils.js','test','glWbW','ViTFM','sendTestRunEventForCucumber','BROWSERSTACK_CLI_BIN_SESSION_ID','PENDING','ddKWx','UNDEFINED','snippetBuilder','isBstackHook','testCaseFinished','exception','bstack','hook_type','PASSED','bootstrap','2940890iGzldr','onSource','source','actionLocation','seconds','nGfxF','name','ekUFB','background','testRunFinished','RrvlL','duration','CUCUMBER','feature','CZSeL','find','Exception\x20in\x20onTestStepFinished\x20event:\x20','createHookData','mrnNU','vrdmQ','CqrGD','isRunning','incrementCounter','steps','testCaseId','testStepFinished','dKiDa','FAcHT','12704432REehYS','trackEvent','getTestCaseAttempt','testUUID','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','toISOString','xWfGO','assign','onTestRunStarted','testStepId','getTestFramework','tMpRI','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','FxGph','onHook','testCaseAttempt','exports','onTestCaseFinished','jwzVL','JhKeR','debug','report','message','getInstance','rXsBW','Xiphn','isCLIReady','finished_at','UNKNOWN','TEST','env','testStepResult','CONFIG','text','../../../bin/v2/TestInfo.js','CLI\x20already\x20running\x20-\x20binSessionId:\x20','testCase','../../utils/constants','HookRunFinished','NEsFQ','scenario'];a6_0xa442=function(){return _0x10b823;};return a6_0xa442();}const a6_0x153eeb=a6_0x36a4;function a6_0x36a4(_0x4955fa,_0x3a6644){const _0xa4423e=a6_0xa442();return a6_0x36a4=function(_0x36a457,_0x1067ce){_0x36a457=_0x36a457-0x6b;let _0x11f593=_0xa4423e[_0x36a457];return _0x11f593;},a6_0x36a4(_0x4955fa,_0x3a6644);}(function(_0x591995,_0x7d6843){const _0x119af2=a6_0x36a4,_0x5527ea=_0x591995();while(!![]){try{const _0x2c032f=-parseInt(_0x119af2(0xf1))/0x1+parseInt(_0x119af2(0xc6))/0x2*(parseInt(_0x119af2(0xb3))/0x3)+-parseInt(_0x119af2(0xca))/0x4+-parseInt(_0x119af2(0x11c))/0x5+parseInt(_0x119af2(0xcd))/0x6+-parseInt(_0x119af2(0x98))/0x7+parseInt(_0x119af2(0x138))/0x8;if(_0x2c032f===_0x7d6843)break;else _0x5527ea['push'](_0x5527ea['shift']());}catch(_0x57ffa4){_0x5527ea['push'](_0x5527ea['shift']());}}}(a6_0xa442,0x531d1));const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x153eeb(0xdc)),util=require(a6_0x153eeb(0xcc)),{Formatter,formatterHelpers,Status}=requireModule('@cucumber/cucumber'),TestDetails=require('../../playwright/reporter/test-details.js'),TestObservabilityReporter=require(a6_0x153eeb(0xde)),{o11yClassErrorHandler}=require('../../../helpers/test-observability/error-handler'),{shouldProcessEventForTesthub}=require(a6_0x153eeb(0xf5)),BrowserstackCLI=require(a6_0x153eeb(0xd4)),TestFrameworkState=require(a6_0x153eeb(0xec)),HookState=require('../../v2/state/hookState.js'),CucumberUtils=require(a6_0x153eeb(0x10b)),TestInfo=require(a6_0x153eeb(0x89)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require('../../../helpers/logger')['winstonLogger'],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0xa16d68){const _0xfa7b95=a6_0x153eeb,_0x225bfc={};_0x225bfc[_0xfa7b95(0x97)]=_0xfa7b95(0x9b);const _0x32e2f4=_0x225bfc;super(_0xa16d68),this[_0xfa7b95(0x7c)]={},_0xa16d68[_0xfa7b95(0xae)]['on'](_0x32e2f4[_0xfa7b95(0x97)],async _0x33b8f0=>{const _0x5d8f6f=_0xfa7b95;switch(!![]){case!!_0x33b8f0['testRunStarted']:this['onTestRunStarted'](_0x33b8f0['testRunStarted']);break;case!!_0x33b8f0['testRunFinished']:this[_0x5d8f6f(0xd2)](_0x33b8f0[_0x5d8f6f(0x125)]);break;case!!_0x33b8f0['testCaseStarted']:this[_0x5d8f6f(0x101)](_0x33b8f0[_0x5d8f6f(0xa0)],_0xa16d68,_0x33b8f0);break;case!!_0x33b8f0['testCaseFinished']:this[_0x5d8f6f(0x78)](_0x33b8f0['testCaseFinished'],_0xa16d68,_0x33b8f0);break;case!!_0x33b8f0[_0x5d8f6f(0xad)]:this['onTestStepStarted'](_0x33b8f0[_0x5d8f6f(0xad)],_0xa16d68);break;case!!_0x33b8f0[_0x5d8f6f(0x135)]:this[_0x5d8f6f(0xbd)](_0x33b8f0[_0x5d8f6f(0x135)],_0xa16d68);break;case!!_0x33b8f0[_0x5d8f6f(0xe6)]:this['onHook'](_0x33b8f0['hook']);break;case!!_0x33b8f0[_0x5d8f6f(0x8b)]:this[_0x5d8f6f(0x9a)](_0x33b8f0[_0x5d8f6f(0x8b)]);break;case!!_0x33b8f0[_0x5d8f6f(0xd1)]:this['onPickle'](_0x33b8f0[_0x5d8f6f(0xd1)]);break;case!!_0x33b8f0[_0x5d8f6f(0xda)]:this['onGherkinDocument'](_0x33b8f0['gherkinDocument']);break;}});}[a6_0x153eeb(0x75)](_0x353b26){const _0xdec75c=a6_0x153eeb;this[_0xdec75c(0x7c)][_0xdec75c(0x95)]=Object[_0xdec75c(0x6e)]([],this[_0xdec75c(0x7c)]['hooks']||[]),this[_0xdec75c(0x7c)][_0xdec75c(0x95)][_0xdec75c(0xbe)](_0x353b26);}[a6_0x153eeb(0x107)](_0x5c1776){const _0x5d03ac=a6_0x153eeb;this[_0x5d03ac(0x7c)][_0x5d03ac(0xd1)]=Object[_0x5d03ac(0x6e)]([],this['report'][_0x5d03ac(0xd1)]||[],[_0x5c1776]),this[_0x5d03ac(0x7c)][_0x5d03ac(0xd1)][_0x5d03ac(0xbe)](_0x5c1776);}[a6_0x153eeb(0xa5)](_0x573eaf){const _0x3f1090=a6_0x153eeb;this['report']['gherkinDocument']=Object[_0x3f1090(0x6e)]([],this[_0x3f1090(0x7c)][_0x3f1090(0xda)]||[],[_0x573eaf]),this[_0x3f1090(0x7c)][_0x3f1090(0xda)][_0x3f1090(0xbe)](_0x573eaf);}[a6_0x153eeb(0x11d)](_0xfe1645){const _0x1e7573=a6_0x153eeb;this['report'][_0x1e7573(0x11e)]=_0xfe1645;}['onStepDefinition'](_0x3b445c){const _0x2ec514=a6_0x153eeb;this[_0x2ec514(0x7c)]['stepDefinition']=Object[_0x2ec514(0x6e)]([],this['report'][_0x2ec514(0xc7)]||[],[_0x3b445c]),this[_0x2ec514(0x7c)][_0x2ec514(0xc7)][_0x2ec514(0xbe)](_0x3b445c);}[a6_0x153eeb(0x9a)](_0x247fdc){const _0x318727=a6_0x153eeb;this[_0x318727(0x7c)][_0x318727(0xa2)]=Object['assign']([],this['report'][_0x318727(0xa2)]||[],[_0x247fdc]),this[_0x318727(0x7c)][_0x318727(0xa2)][_0x318727(0xbe)](_0x247fdc);}['logTestCaseFinished'](_0x12cbef){const _0x3d6157=a6_0x153eeb,_0x1c4b75={'rXsBW':function(_0x29dec9,_0x101e17){return _0x29dec9!==_0x101e17;},'FxGph':_0x3d6157(0x118),'KsXvw':function(_0x105192,_0x345e2d){return _0x105192+_0x345e2d;},'ItwSM':function(_0x427d9e,_0x1f7dac){return _0x427d9e+_0x1f7dac;},'bgIbS':function(_0x3d1996,_0x54f2e4){return _0x3d1996+_0x54f2e4;},'iVSuj':function(_0x4107a0,_0x158962){return _0x4107a0+_0x158962;},'FAcHT':function(_0x30b664,_0x1e8165){return _0x30b664+_0x1e8165;},'mUICm':_0x3d6157(0xc9),'iINCZ':'\x20-\x20','RrvlL':function(_0x54b474,_0x2a336f){return _0x54b474===_0x2a336f;},'vrdmQ':_0x3d6157(0xf9),'nIRCs':function(_0x33cac1,_0xe6a7cd,_0x171ce7){return _0x33cac1(_0xe6a7cd,_0x171ce7);},'jtxDW':'result','XZnQA':_0x3d6157(0x7d),'tMpRI':function(_0x416bd6,_0x5ea199){return _0x416bd6+_0x5ea199;},'CZSeL':function(_0x149efc,_0x4eb3c6){return _0x149efc+_0x4eb3c6;},'gSpIu':function(_0x349095,_0x468fdc){return _0x349095+_0x468fdc;}};_0x1c4b75[_0x3d6157(0x7f)](global[_0x3d6157(0xd5)],undefined)&&this['log'](_0x1c4b75[_0x3d6157(0xac)](_0x1c4b75[_0x3d6157(0xc2)]('\x0a',global[_0x3d6157(0xd5)]),'\x0a'));const _0x4aa4bb=this[_0x3d6157(0xe8)]['getTestCaseAttempt'](_0x12cbef[_0x3d6157(0xf4)]);this[_0x3d6157(0xc4)](_0x1c4b75[_0x3d6157(0xc2)](_0x1c4b75[_0x3d6157(0xac)](_0x1c4b75[_0x3d6157(0x12a)](_0x1c4b75['gSpIu']('\x20\x20',_0x4aa4bb[_0x3d6157(0xda)][_0x3d6157(0x129)][_0x3d6157(0x122)]),_0x1c4b75[_0x3d6157(0x96)]),_0x4aa4bb[_0x3d6157(0xd1)][_0x3d6157(0x122)]),'\x0a'));const _0x26daff={};_0x26daff['cwd']=this[_0x3d6157(0xf8)],_0x26daff[_0x3d6157(0x114)]=this[_0x3d6157(0x114)],_0x26daff[_0x3d6157(0xf3)]=this['supportCodeLibrary'],_0x26daff[_0x3d6157(0x76)]=_0x4aa4bb;const _0x1bf1ec=formatterHelpers[_0x3d6157(0xb0)](_0x26daff);let _0x32f286=![];_0x1bf1ec['testSteps'][_0x3d6157(0xab)](_0x2dd12f=>{const _0x321279=_0x3d6157;if(_0x1c4b75[_0x321279(0x7f)](_0x2dd12f['name'],_0x1c4b75[_0x321279(0x74)])&&!this[_0x321279(0x115)](_0x2dd12f)){totalTests+=0x1,this[_0x321279(0xc4)](_0x1c4b75[_0x321279(0xdd)](_0x1c4b75[_0x321279(0xac)](_0x1c4b75[_0x321279(0xc2)](_0x1c4b75[_0x321279(0xb2)](_0x1c4b75[_0x321279(0x137)](_0x1c4b75[_0x321279(0xfb)],_0x2dd12f['keyword']),_0x2dd12f[_0x321279(0x88)]||''),_0x1c4b75[_0x321279(0x96)]),Status[_0x2dd12f[_0x321279(0x9f)][_0x321279(0x109)]]),'\x0a')),this[_0x321279(0x132)](Status[_0x2dd12f['result'][_0x321279(0x109)]]);if(_0x1c4b75[_0x321279(0x126)](Status[_0x2dd12f[_0x321279(0x9f)][_0x321279(0x109)]],_0x1c4b75[_0x321279(0x12f)])){_0x32f286=!![];const _0x36ae69=_0x1c4b75['nIRCs'](nestedKeyValue,_0x2dd12f,[_0x1c4b75[_0x321279(0x9e)],_0x1c4b75[_0x321279(0xb1)]]);_0x36ae69&&(testsErrorMessage[_0x1c4b75['bgIbS'](_0x1c4b75[_0x321279(0x72)](_0x4aa4bb[_0x321279(0xda)][_0x321279(0x129)][_0x321279(0x122)],_0x1c4b75[_0x321279(0x96)]),_0x4aa4bb['pickle']['name'])]=_0x36ae69,this[_0x321279(0xc4)](_0x1c4b75['CZSeL'](_0x36ae69,'\x0a')));}}}),_0x32f286&&(testSuitesFailed+=0x1),this[_0x3d6157(0xc4)]('\x0a');}['logTestRunFinished'](_0x4f65e0){}['isBstackHook'](_0x700baf){const _0x2b56e4=a6_0x153eeb,_0x21374f={};_0x21374f['mYdSu']=function(_0x59fc0f,_0x5e3e02){return _0x59fc0f!==_0x5e3e02;},_0x21374f[_0x2b56e4(0x79)]='cucumber-js/test.setup.js';const _0x3fe775=_0x21374f;if(_0x3fe775[_0x2b56e4(0xe1)](_0x700baf[_0x2b56e4(0x102)],undefined))return![];if(_0x700baf['actionLocation']&&_0x700baf[_0x2b56e4(0x11f)][_0x2b56e4(0xa3)][_0x2b56e4(0xc8)](_0x3fe775[_0x2b56e4(0x79)]))return!![];return![];}['incrementCounter'](_0x32dc3e){const _0x2d25f5=a6_0x153eeb,_0x4b734a={};_0x4b734a[_0x2d25f5(0xb6)]=_0x2d25f5(0xf9),_0x4b734a['SYCJE']=_0x2d25f5(0x11a),_0x4b734a['GuQEV']=_0x2d25f5(0xaa),_0x4b734a['ArkmY']=_0x2d25f5(0x111),_0x4b734a[_0x2d25f5(0x93)]=_0x2d25f5(0x113),_0x4b734a[_0x2d25f5(0xeb)]=_0x2d25f5(0x83),_0x4b734a['JhKeR']=_0x2d25f5(0xf0);const _0x5a599e=_0x4b734a;switch(_0x32dc3e){case _0x5a599e['cOMdg']:testsFailed+=0x1;break;case _0x5a599e[_0x2d25f5(0x100)]:testsPassed+=0x1;break;case _0x5a599e[_0x2d25f5(0xbf)]:testsSkipped+=0x1;break;case _0x5a599e[_0x2d25f5(0xba)]:testsPending+=0x1;break;case _0x5a599e['wdZcT']:testsUndefined+=0x1;break;case _0x5a599e[_0x2d25f5(0xeb)]:testsUnknown+=0x1;break;case _0x5a599e[_0x2d25f5(0x7a)]:testsAmbiguous+=0x1;break;default:break;}}async['onTestRunStarted'](_0x551744){const _0x46747e=a6_0x153eeb,_0x5d43fa={'nExeS':function(_0x51d4a0,_0x2bc660){return _0x51d4a0!==_0x2bc660;},'KTuvi':function(_0x36fb03,_0x413b86){return _0x36fb03!==_0x413b86;},'KtDUF':function(_0x38849b){return _0x38849b();},'cSjPn':function(_0x1c0004,_0x31651b){return _0x1c0004(_0x31651b);},'vLcJf':function(_0x3ca432,_0x5e6274){return _0x3ca432+_0x5e6274;},'slitB':'cucumber'};let _0x4eb68b;if(_0x5d43fa['nExeS'](process[_0x46747e(0x85)][_0x46747e(0x87)],undefined)){const _0x561eda=JSON[_0x46747e(0xbc)](process['env'][_0x46747e(0x87)]);_0x4eb68b=_0x561eda['capability'];}_0x5d43fa[_0x46747e(0x91)](_0x4eb68b,undefined)&&_0x5d43fa[_0x46747e(0xa9)](isBrowserstackInfra)&&(global[_0x46747e(0xd5)]=_0x5d43fa[_0x46747e(0xb8)](getPlatformName,_0x4eb68b),this[_0x46747e(0xc4)](_0x5d43fa['vLcJf'](_0x46747e(0xa8)+global[_0x46747e(0xd5)],'\x0a'))),_0x5d43fa[_0x46747e(0xa9)](shouldProcessEventForTesthub)&&(TestDetails['setup'](),this[_0x46747e(0x7c)][_0x46747e(0xd8)]=_0x551744,BrowserstackCLI['getInstance']()[_0x46747e(0xf7)]()&&await this[_0x46747e(0x81)]()&&(TestInfo[_0x46747e(0xaf)](_0x5d43fa['slitB']),await BrowserstackCLI[_0x46747e(0x7e)]()[_0x46747e(0x71)]()[_0x46747e(0x139)](TestFrameworkState[_0x46747e(0xb7)],HookState[_0x46747e(0xce)],{})));}[a6_0x153eeb(0xd2)](_0x36239d){const _0x5c9b97=a6_0x153eeb;this[_0x5c9b97(0x7c)]['testRunFinished']=_0x36239d,this['logTestRunFinished'](_0x36239d);}async[a6_0x153eeb(0x101)](_0x1b994b,_0x22d07b,_0x5df57a){const _0x568479=a6_0x153eeb,_0x1ccafa={'Xiphn':function(_0x44be92,_0x2fc224){return _0x44be92(_0x2fc224);},'ZNSsu':_0x568479(0xc0),'mrnNU':function(_0x17cde2,_0x3420dd){return _0x17cde2&&_0x3420dd;}};testSuites+=0x1;if(_0x1ccafa[_0x568479(0x80)](shouldProcessEventForTesthub,_0x1ccafa[_0x568479(0xc5)]))try{this[_0x568479(0x7c)][_0x568479(0xa0)]=this[_0x568479(0x7c)]['testCaseStarted']||{},this[_0x568479(0x7c)][_0x568479(0xa0)][_0x1b994b['id']]=_0x1b994b;let _0x375306=null;BrowserstackCLI['getInstance']()[_0x568479(0xf7)]()&&await this[_0x568479(0x81)]()?_0x375306=TestInfo[_0x568479(0xa1)](_0x1b994b['id']):_0x375306=TestDetails[_0x568479(0xa1)](_0x1b994b['id']);_testCasesData[_0x1b994b['id']]=Object[_0x568479(0x6e)]({},_0x5df57a);const _0x736a34=this[_0x568479(0x7c)],_0x489459=_0x1b994b['testCaseId'],_0x21d6bf=_0x736a34[_0x568479(0xa2)][_0x568479(0x12b)](_0x5c99dc=>_0x5c99dc['id']===_0x489459)['pickleId'],_0x75d0f3=_0x736a34[_0x568479(0xd1)]['find'](_0x35dff9=>_0x35dff9['id']===_0x21d6bf),_0x1aeb6b=_0x736a34['gherkinDocument']['find'](_0x41a7ee=>_0x41a7ee[_0x568479(0xa3)]===_0x75d0f3[_0x568479(0xa3)]),_0x15cddb=_0x1aeb6b[_0x568479(0x129)],_0x552f03={'uuid':_0x375306,'startedAt':new Date()[_0x568479(0x6c)]()};if(_0x75d0f3){const _0x1c72e1={};_0x1c72e1[_0x568479(0x122)]=_0x75d0f3[_0x568479(0x122)],_0x552f03['scenario']=_0x1c72e1;}if(_0x1ccafa[_0x568479(0x12e)](_0x1aeb6b,_0x15cddb)){const _0x3eb348={};_0x3eb348[_0x568479(0xbb)]=_0x1aeb6b[_0x568479(0xa3)],_0x3eb348[_0x568479(0x122)]=_0x15cddb[_0x568479(0x122)],_0x3eb348[_0x568479(0xea)]=_0x15cddb['description'],_0x552f03[_0x568479(0x129)]=_0x3eb348;}_tests[_0x489459]=_0x552f03;if(BrowserstackCLI[_0x568479(0x7e)]()['isCliEnabled']()&&await this[_0x568479(0x81)]()){const _0x4635e9=await cucumberUtils[_0x568479(0xd6)](_0x552f03,_0x75d0f3,_0x5df57a,_0x1aeb6b,_0x1b994b['id'],_0x1ccafa[_0x568479(0xc5)]),_0x4e742e={};_0x4e742e['test']=_0x4635e9,await BrowserstackCLI[_0x568479(0x7e)]()[_0x568479(0x71)]()[_0x568479(0x139)](TestFrameworkState[_0x568479(0x84)],HookState[_0x568479(0xce)],_0x4e742e);return;}await testObservabilityReporter[_0x568479(0x10f)](_0x5df57a,_0x1aeb6b,_0x75d0f3,_0x1ccafa[_0x568479(0xc5)],_0x552f03);}catch(_0x2a55d3){logger['debug'](_0x568479(0x73)+util[_0x568479(0x104)](_0x2a55d3)+'\x20');}}async[a6_0x153eeb(0x78)](_0x4d959a,_0x1ee332,_0x369363){const _0x4be893=a6_0x153eeb,_0x1c8a7e={'CqrGD':function(_0x1879f3,_0xcb3f02){return _0x1879f3(_0xcb3f02);},'NEsFQ':_0x4be893(0xe7),'fHDGp':_0x4be893(0x10c)};this[_0x4be893(0x106)](_0x4d959a);if(_0x1c8a7e[_0x4be893(0x130)](shouldProcessEventForTesthub,_0x1c8a7e[_0x4be893(0x8e)]))try{this[_0x4be893(0x7c)]['testCaseFinished']=this[_0x4be893(0x7c)][_0x4be893(0x116)]||{},this[_0x4be893(0x7c)][_0x4be893(0x116)][_0x4d959a['testCaseStartedId']]=_0x4d959a,_testCasesData[_0x369363['id']]=Object[_0x4be893(0x6e)]({},_0x369363);const _0x585099=_0x4d959a[_0x4be893(0xf4)],_0x296c65=_0x1ee332[_0x4be893(0xe8)]['testCaseAttemptDataMap'][_0x585099]['testCaseId'],_0x56e5d8=_0x1ee332['eventDataCollector'][_0x4be893(0xb9)][_0x296c65],_0x1dfaf0=_0x56e5d8[_0x4be893(0x92)],_0xd777f7=_0x1ee332[_0x4be893(0xe8)]['pickleMap'][_0x1dfaf0],_0x2818d6=this[_0x4be893(0xdb)](_0x1ee332,_0xd777f7),_0x494464=_0x2818d6['feature'],_0x11f22d=_tests[_0x296c65];_0x11f22d&&(delete _tests[_0x296c65],_0x11f22d['finishedAt']=new Date()[_0x4be893(0x6c)]());if(BrowserstackCLI[_0x4be893(0x7e)]()[_0x4be893(0xf7)]()&&await this[_0x4be893(0x81)]()){const _0xbb1292=await cucumberUtils[_0x4be893(0xd6)](_0x11f22d,_0xd777f7,_0x369363,_0x2818d6,_0x585099,_0x1c8a7e[_0x4be893(0x8e)]),_0x415947={};_0x415947[_0x4be893(0x10c)]=_0xbb1292,await BrowserstackCLI[_0x4be893(0x7e)]()['getTestFramework']()[_0x4be893(0x139)](TestFrameworkState['TEST'],HookState[_0x4be893(0xd3)],_0x415947);const _0xc3c467={};_0xc3c467[_0x4be893(0x13b)]=_0x4d959a[_0x4be893(0xf4)],_0xc3c467['type']=_0x1c8a7e[_0x4be893(0x99)],await BrowserstackCLI[_0x4be893(0x7e)]()[_0x4be893(0x71)]()[_0x4be893(0x139)](TestFrameworkState[_0x4be893(0x9c)],HookState[_0x4be893(0xd3)],_0xc3c467);return;}await testObservabilityReporter[_0x4be893(0x10f)](_0x369363,_0x2818d6,_0xd777f7,_0x1c8a7e['NEsFQ'],_0x11f22d);}catch(_0x1445e1){logger[_0x4be893(0x7b)](_0x4be893(0x6b)+util[_0x4be893(0x104)](_0x1445e1));}}async['onTestStepStarted'](_0x285372,_0x511f11){const _0x5a1e05=a6_0x153eeb,_0x3c70a7={'VfOXm':function(_0x613e78,_0x107b9e){return _0x613e78(_0x107b9e);},'ViTFM':'HookRunStarted','goIsc':function(_0x2b2b46,_0x10c79b){return _0x2b2b46!==_0x10c79b;},'IOpIO':_0x5a1e05(0x70)};if(_0x3c70a7[_0x5a1e05(0xf2)](shouldProcessEventForTesthub,_0x3c70a7[_0x5a1e05(0x10e)]))try{this[_0x5a1e05(0x7c)]['testStepStarted']=this['report'][_0x5a1e05(0xad)]||{},this[_0x5a1e05(0x7c)][_0x5a1e05(0xad)][_0x285372[_0x5a1e05(0xf4)]]=_0x285372;const _0x371ec4=_0x285372[_0x5a1e05(0xf4)],_0x15c0ba=_0x511f11[_0x5a1e05(0xe8)][_0x5a1e05(0xc1)][_0x371ec4][_0x5a1e05(0x134)],_0x3e0244=this[_0x5a1e05(0x7c)][_0x5a1e05(0xa2)][_0x5a1e05(0x12b)](_0x275293=>_0x275293['id']===_0x15c0ba)[_0x5a1e05(0x92)],_0x1d37ce=this[_0x5a1e05(0x7c)][_0x5a1e05(0xd1)]['find'](_0x4c485d=>_0x4c485d['id']===_0x3e0244),_0x47a120=this['report'][_0x5a1e05(0xa2)][_0x5a1e05(0x12b)](_0x4d4a06=>_0x4d4a06['id']===_0x15c0ba)[_0x5a1e05(0xe0)],_0x4715a9=this[_0x5a1e05(0x7c)][_0x5a1e05(0xad)][_0x371ec4][_0x5a1e05(0x70)],_0x39d9a4=_0x47a120['find'](_0x5ca9bb=>_0x5ca9bb['id']===_0x4715a9)['pickleStepId'],_0x9099be=_0x1d37ce['steps'][_0x5a1e05(0x12b)](_0x2e15db=>_0x2e15db['id']===_0x39d9a4);if(_0x39d9a4&&_tests[_0x15c0ba]&&_0x3c70a7[_0x5a1e05(0xe9)](_tests[_0x15c0ba][_0x3c70a7[_0x5a1e05(0xd7)]],_0x4715a9)){_tests[_0x15c0ba][_0x3c70a7['IOpIO']]=_0x4715a9;const _0x2b0072={};_0x2b0072['steps']=[];const _0x3a0022=_tests[_0x15c0ba]||_0x2b0072;_0x3a0022&&!_0x3a0022[_0x5a1e05(0x133)]&&(_0x3a0022[_0x5a1e05(0x133)]=[]),_0x3a0022[_0x5a1e05(0x133)][_0x5a1e05(0xbe)]({'id':_0x9099be['id'],'text':_0x9099be[_0x5a1e05(0x88)],'started_at':new Date()[_0x5a1e05(0x6c)]()}),_tests[_0x15c0ba]=_0x3a0022;}if(BrowserstackCLI['getInstance']()[_0x5a1e05(0xf7)]()&&await this[_0x5a1e05(0x81)]()){const _0x31cade=await cucumberUtils[_0x5a1e05(0x12d)](this[_0x5a1e05(0x7c)],_0x371ec4,_0x3c70a7[_0x5a1e05(0x10e)],_0x47a120,_0x4715a9,_tests[_0x15c0ba]);_0x31cade&&await BrowserstackCLI[_0x5a1e05(0x7e)]()[_0x5a1e05(0x71)]()['trackEvent'](TestFrameworkState[_0x31cade[_0x5a1e05(0x119)]],HookState['PRE'],{'hookData':_0x31cade,'testUUID':_0x285372['testCaseStartedId']});return;}await testObservabilityReporter[_0x5a1e05(0xfd)](this[_0x5a1e05(0x7c)],_0x371ec4,_0x3c70a7[_0x5a1e05(0x10e)],_0x47a120,_0x4715a9,_tests[_0x15c0ba]);}catch(_0x24fba4){logger[_0x5a1e05(0x7b)]('Exception\x20in\x20onTestStepStarted\x20event:\x20'+util['format'](_0x24fba4));}}async[a6_0x153eeb(0xbd)](_0x4fbe76,_0x1a9d68){const _0x36c711=a6_0x153eeb,_0x5480db={'LXmIM':function(_0x16eef0,_0x294c91){return _0x16eef0===_0x294c91;},'JJoxC':_0x36c711(0xe2),'lsKJu':function(_0x2372d2,_0xf18279){return _0x2372d2(_0xf18279);},'glWbW':_0x36c711(0x8d),'nGfxF':'failed','ddKWx':function(_0x5a62f1,_0x4cfc24){return _0x5a62f1===_0x4cfc24;},'NOaVk':_0x36c711(0xdf),'CNPAs':_0x36c711(0x70),'CVvuV':'HookRunStarted','YIIDt':_0x36c711(0xe6)};this[_0x36c711(0x7c)][_0x36c711(0x135)]=this[_0x36c711(0x7c)][_0x36c711(0x135)]||{},this[_0x36c711(0x7c)]['testStepFinished'][_0x4fbe76[_0x36c711(0xf4)]]=_0x4fbe76;if(_0x5480db[_0x36c711(0xfc)](shouldProcessEventForTesthub,_0x5480db['glWbW']))try{const _0x54e80e=_0x4fbe76[_0x36c711(0xf4)],_0x407dbd=_0x1a9d68['eventDataCollector']['testCaseAttemptDataMap'][_0x54e80e][_0x36c711(0x134)],_0x481728=_0x1a9d68[_0x36c711(0xe8)][_0x36c711(0xb9)][_0x407dbd],_0x42fac2=_0x481728[_0x36c711(0x92)],_0x193ad0=_0x1a9d68[_0x36c711(0xe8)][_0x36c711(0xcb)][_0x42fac2],_0x215957=_0x4fbe76[_0x36c711(0x70)],_0x347214=_0x481728[_0x36c711(0xe0)],_0x570db0=this['eventDataCollector'][_0x36c711(0x13a)](_0x54e80e),_0x1cf870=_0x347214[_0x36c711(0x12b)](_0x1f4738=>_0x1f4738['id']===_0x215957)['pickleStepId'];let _0x55a9ee,_0x3a327b;_0x4fbe76[_0x36c711(0x86)]&&_0x5480db[_0x36c711(0xe4)](_0x4fbe76[_0x36c711(0x86)]['status'][_0x36c711(0x105)]()[_0x36c711(0xef)](),_0x5480db[_0x36c711(0x121)])&&(_0x55a9ee=_0x5480db[_0x36c711(0x112)](_0x4fbe76[_0x36c711(0x86)][_0x36c711(0x117)],undefined)?_0x4fbe76[_0x36c711(0x86)]['message']:_0x4fbe76[_0x36c711(0x86)][_0x36c711(0x117)][_0x36c711(0x7d)],_0x3a327b=_0x5480db[_0x36c711(0xe4)](_0x4fbe76[_0x36c711(0x86)][_0x36c711(0x117)],undefined)?_0x5480db['NOaVk']:_0x4fbe76[_0x36c711(0x86)][_0x36c711(0x7d)]);if(_0x1cf870&&_tests[_0x407dbd][_0x5480db[_0x36c711(0xa7)]]){const _0x3d6649=_0x193ad0[_0x36c711(0x133)][_0x36c711(0x12b)](_0x135abf=>_0x135abf['id']===_0x1cf870),_0x41395c={};_0x41395c[_0x36c711(0x133)]=[];const _0x2e3466=_tests[_0x407dbd]||_0x41395c;!_0x2e3466[_0x36c711(0x133)]?_0x2e3466[_0x36c711(0x133)]=[{'id':_0x3d6649['id'],'text':_0x3d6649[_0x36c711(0x88)],'finished_at':new Date()[_0x36c711(0x6c)](),'result':_0x4fbe76[_0x36c711(0x86)][_0x36c711(0x109)],'duration':_0x4fbe76['testStepResult'][_0x36c711(0x127)]['seconds'],'failure':_0x55a9ee,'failureType':_0x3a327b}]:_0x2e3466['steps'][_0x36c711(0xab)](_0x2c1da5=>{const _0x281d12=_0x36c711;if(_0x5480db[_0x281d12(0xe4)](_0x2c1da5['id'],_0x3d6649['id'])){const _0xc7ca43=_0x5480db['JJoxC'][_0x281d12(0xf6)]('|');let _0x338186=0x0;while(!![]){switch(_0xc7ca43[_0x338186++]){case'0':_0x2c1da5['failure']=_0x55a9ee;continue;case'1':_0x2c1da5[_0x281d12(0x9f)]=_0x4fbe76[_0x281d12(0x86)]['status'];continue;case'2':_0x2c1da5[_0x281d12(0x127)]=_0x4fbe76[_0x281d12(0x86)][_0x281d12(0x127)][_0x281d12(0x120)];continue;case'3':_0x2c1da5[_0x281d12(0x82)]=new Date()[_0x281d12(0x6c)]();continue;case'4':_0x2c1da5[_0x281d12(0x94)]=_0x3a327b;continue;}break;}}}),_tests[_0x407dbd]=_0x2e3466;}delete _tests[_0x407dbd][_0x5480db[_0x36c711(0xa7)]];if(BrowserstackCLI[_0x36c711(0x7e)]()['isCliEnabled']()&&await this[_0x36c711(0x81)]()){const _0x18aad4=await cucumberUtils[_0x36c711(0x12d)](this[_0x36c711(0x7c)],_0x54e80e,_0x5480db[_0x36c711(0xd0)],_0x347214,_0x215957,_tests[_0x407dbd]);if(_0x18aad4){await BrowserstackCLI[_0x36c711(0x7e)]()[_0x36c711(0x71)]()['trackEvent'](TestFrameworkState[_0x18aad4[_0x36c711(0x119)]],HookState[_0x36c711(0xd3)],{'hookData':_0x18aad4,'testUUID':_0x4fbe76[_0x36c711(0xf4)]});const _0x59b833={};_0x59b833[_0x36c711(0x13b)]=_0x4fbe76[_0x36c711(0xf4)],_0x59b833[_0x36c711(0xd9)]=_0x5480db['YIIDt'],await BrowserstackCLI[_0x36c711(0x7e)]()[_0x36c711(0x71)]()[_0x36c711(0x139)](TestFrameworkState[_0x36c711(0x9c)],HookState['POST'],_0x59b833);}return;}await testObservabilityReporter[_0x36c711(0xfd)](this[_0x36c711(0x7c)],_0x54e80e,_0x5480db[_0x36c711(0x10d)],_0x347214,_0x215957,_tests[_0x407dbd]);}catch(_0x34cd6c){logger[_0x36c711(0x7b)](_0x36c711(0x12c)+util[_0x36c711(0x104)](_0x34cd6c));}}[a6_0x153eeb(0xff)](_0x5840fc){const _0x4909a6=a6_0x153eeb,_0x1e927b={};return _0x5840fc['feature'][_0x4909a6(0xb4)]['map'](this[_0x4909a6(0xfa)])[_0x4909a6(0xe3)]()[_0x4909a6(0xab)](_0x20255d=>_0x20255d[_0x4909a6(0x133)][_0x4909a6(0xab)](_0xda55d0=>_0x1e927b[_0xda55d0['id']]=_0xda55d0)),_0x1e927b;}[a6_0x153eeb(0xfa)](_0x5c2cf6){const _0x3d29ca=a6_0x153eeb,_0x71cad3={'dKiDa':function(_0x55ce59,_0x5cdbf8){return _0x55ce59(_0x5cdbf8);}};if(!_0x71cad3['dKiDa'](isUndefined,_0x5c2cf6['background']))return[_0x5c2cf6[_0x3d29ca(0x124)]];else{if(!_0x71cad3[_0x3d29ca(0x136)](isUndefined,_0x5c2cf6[_0x3d29ca(0xa6)]))return _0x5c2cf6[_0x3d29ca(0xa6)][_0x3d29ca(0xb4)][_0x3d29ca(0x108)](_0x5a1a72=>!isUndefined(_0x5a1a72['background'])?_0x5a1a72[_0x3d29ca(0x124)]:_0x5a1a72[_0x3d29ca(0x8f)]);};return[_0x5c2cf6['scenario']];}[a6_0x153eeb(0xdb)](_0x2563fe,_0x5879f9){const _0x28676b=a6_0x153eeb;return Object[_0x28676b(0xfe)](_0x2563fe['eventDataCollector'][_0x28676b(0xe5)])['find'](_0x625e08=>_0x625e08[_0x28676b(0xa3)]===_0x5879f9[_0x28676b(0xa3)]);}async[a6_0x153eeb(0xb5)](){const _0x181cf9=a6_0x153eeb;if(this[_0x181cf9(0x9d)])return this[_0x181cf9(0x9d)];return this[_0x181cf9(0x9d)]=this['_performCLIInitialization'](),this[_0x181cf9(0x9d)];}async['_performCLIInitialization'](){const _0x4b62fe=a6_0x153eeb,_0x1df96c={'ekUFB':'No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','xWfGO':function(_0x4a71a3,_0x4b22d8){return _0x4a71a3(_0x4b22d8);},'Tquvd':_0x4b62fe(0x90),'ohBfa':_0x4b62fe(0x8c)};try{const _0x10a3d7=BrowserstackCLI[_0x4b62fe(0x7e)]();if(_0x10a3d7[_0x4b62fe(0x131)]())return logger['debug'](_0x4b62fe(0x8a)+_0x10a3d7[_0x4b62fe(0xee)]),!![];const _0x114c91=process[_0x4b62fe(0x85)][_0x4b62fe(0x110)];if(!_0x114c91)return logger[_0x4b62fe(0x7b)](_0x1df96c[_0x4b62fe(0x123)]),![];const _0xabdc88=_0x1df96c[_0x4b62fe(0x6d)](require,_0x1df96c['Tquvd']),{FRAMEWORKS:_0x358c14}=_0x1df96c[_0x4b62fe(0x6d)](require,_0x1df96c[_0x4b62fe(0xa4)]);return _0xabdc88['setFrameworkDetail'](_0x358c14[_0x4b62fe(0x128)],_0x358c14[_0x4b62fe(0xed)]),logger[_0x4b62fe(0x7b)]('Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20'+_0x114c91),await _0x10a3d7[_0x4b62fe(0x11b)](),logger['debug'](_0x4b62fe(0xcf)+_0x10a3d7['isRunning']()+_0x4b62fe(0xc3)+_0x10a3d7[_0x4b62fe(0xee)]),_0x10a3d7[_0x4b62fe(0x131)]();}catch(_0x3b8621){return logger[_0x4b62fe(0x7b)](_0x4b62fe(0x103)+util[_0x4b62fe(0x104)](_0x3b8621)),![];}}async[a6_0x153eeb(0x81)](){const _0x2a1b65=a6_0x153eeb;try{return await this[_0x2a1b65(0xb5)](),BrowserstackCLI[_0x2a1b65(0x7e)]()['isRunning']();}catch(_0x58875b){return logger[_0x2a1b65(0x7b)]('isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20'+util[_0x2a1b65(0x104)](_0x58875b)),![];}}}module[a6_0x153eeb(0x77)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x153eeb(0x101),a6_0x153eeb(0x78),a6_0x153eeb(0x10a),a6_0x153eeb(0xbd),a6_0x153eeb(0x6f),a6_0x153eeb(0xd2),'extractStepContainers',a6_0x153eeb(0xdb),'getGherkinStepMap']);