#!/usr/bin/env node

const a49_0x1b9c4e=a49_0x4744;(function(_0x2a6608,_0x5a07cc){const _0x38281e=a49_0x4744,_0x32516d=_0x2a6608();while(!![]){try{const _0x49e11b=parseInt(_0x38281e(0x1dd))/0x1+parseInt(_0x38281e(0x1f9))/0x2*(parseInt(_0x38281e(0x1dc))/0x3)+parseInt(_0x38281e(0x1f5))/0x4*(-parseInt(_0x38281e(0x1d6))/0x5)+-parseInt(_0x38281e(0x1e3))/0x6+-parseInt(_0x38281e(0x1fa))/0x7+-parseInt(_0x38281e(0x20f))/0x8+parseInt(_0x38281e(0x207))/0x9;if(_0x49e11b===_0x5a07cc)break;else _0x32516d['push'](_0x32516d['shift']());}catch(_0x18887f){_0x32516d['push'](_0x32516d['shift']());}}}(a49_0x2257,0x3be04));const fs=require('fs'),helper=require(a49_0x1b9c4e(0x20a)),utilities=require('../helpers/utilities'),yaml=require(a49_0x1b9c4e(0x213)),yargs=require(a49_0x1b9c4e(0x1d4)),logger=require(a49_0x1b9c4e(0x1ee))[a49_0x1b9c4e(0x1eb)],configFileTemplate=__dirname+a49_0x1b9c4e(0x206),configFileTemplatePW=__dirname+a49_0x1b9c4e(0x1ea),configFile=process[a49_0x1b9c4e(0x20b)]()+a49_0x1b9c4e(0x1e8),packageFile=process['cwd']()+a49_0x1b9c4e(0x20e),frameworks=[a49_0x1b9c4e(0x1e6),a49_0x1b9c4e(0x1de),a49_0x1b9c4e(0x20d),a49_0x1b9c4e(0x1f8),'nightwatch','codeceptjs',a49_0x1b9c4e(0x1e2)];function a49_0x2257(){const _0x1ec61d=['node','11366FjPXvI','2264059txwtBl','scripts','browserstack-node-sdk','tvtsg','source','includes','fireFunnelTestEvent','push','HnqLl','Setup\x20completed','load','indexOf','/../../browserstack.yml.sample','4465530bWXhoH','TYANq','join','../helpers/helper','cwd','pXymC','cucumber-js','/package.json','3201008vgKPzC','zRurv','fymtl','key','js-yaml','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','\x20&&\x20npm\x20update\x20browserstack-node-sdk','ErMUW','readFileSync','EQtDI','npm\x20update\x20browserstack-node-sdk','browserstack-node-sdk\x20','replace','yargs','debug','295wgPQGz','OJERt','wNBnN','error','info','length','237yPswGE','424271ULaxCY','jest','utf8','HdNbW','YOUR_ACCESS_KEY','playwright','1212288gThsYZ','DmFSu','splice','mocha','WRRYJ','/browserstack.yml','stringify','/../../browserstack.pw.yml.sample','winstonLogger','wkgQM','DKath','../helpers/logger','writeFileSync','FBDgK','YOUR_USERNAME','Creating\x20configuration\x20file...','argv','TlqOw','13460eKZgUU','parse','username'];a49_0x2257=function(){return _0x1ec61d;};return a49_0x2257();}let config;logger[a49_0x1b9c4e(0x1da)](a49_0x1b9c4e(0x1f2)),createConfigurationFile(yargs[a49_0x1b9c4e(0x1f3)][a49_0x1b9c4e(0x1f7)],yargs[a49_0x1b9c4e(0x1f3)][a49_0x1b9c4e(0x212)],yargs[a49_0x1b9c4e(0x1f3)][a49_0x1b9c4e(0x1e2)]);try{sdkSetup();}catch(a49_0x1c2b37){logger[a49_0x1b9c4e(0x1d5)](a49_0x1b9c4e(0x214)+a49_0x1c2b37);}addScriptInPackageJson();function createConfigurationFile(_0x845d5e,_0x36ed34,_0x206e51=![]){const _0x1c51ba=a49_0x1b9c4e,_0x4204de={};_0x4204de['WRRYJ']=_0x1c51ba(0x1df),_0x4204de['pXymC']=_0x1c51ba(0x1f1),_0x4204de[_0x1c51ba(0x208)]=_0x1c51ba(0x1e1);const _0x36f825=_0x4204de;try{let _0x673239=fs['readFileSync'](_0x206e51?configFileTemplatePW:configFileTemplate,_0x36f825[_0x1c51ba(0x1e7)]);_0x845d5e&&(_0x673239=_0x673239[_0x1c51ba(0x1d3)](_0x36f825[_0x1c51ba(0x20c)],_0x845d5e)),_0x36ed34&&(_0x673239=_0x673239[_0x1c51ba(0x1d3)](_0x36f825[_0x1c51ba(0x208)],_0x36ed34)),config=yaml[_0x1c51ba(0x204)](_0x673239),fs[_0x1c51ba(0x1ef)](configFile,_0x673239,_0x384472=>{const _0x27bc5b=_0x1c51ba;_0x384472&&logger[_0x27bc5b(0x1d9)](_0x384472);});}catch(_0x6e64f9){logger[_0x1c51ba(0x1d9)](_0x6e64f9);}}function addPostInstallScript(_0x46a849,_0xbf4a92){const _0x11d32d=a49_0x1b9c4e,_0xb72d4f={};_0xb72d4f[_0x11d32d(0x1fd)]='postinstall',_0xb72d4f[_0x11d32d(0x211)]=_0x11d32d(0x1d1),_0xb72d4f['zRurv']=_0x11d32d(0x215);const _0x5bb315=_0xb72d4f;let _0x424548=_0x46a849[_0x5bb315['tvtsg']];if(_0x424548&&_0x424548[_0x11d32d(0x1ff)](_0x5bb315[_0x11d32d(0x211)]))return;!_0x424548?_0x424548=_0x5bb315[_0x11d32d(0x211)]:_0x424548+=_0x5bb315[_0x11d32d(0x210)],_0xbf4a92[_0x11d32d(0x201)]([_0x5bb315[_0x11d32d(0x1fd)],_0x424548]);}function addScriptInPackageJson(){const _0x2324f4=a49_0x1b9c4e,_0x447b78={'FBDgK':_0x2324f4(0x1df),'DmFSu':function(_0x2b9fa5,_0x3c22bf){return _0x2b9fa5<_0x3c22bf;},'DKath':function(_0x433499,_0x14de58,_0x2b37d2){return _0x433499(_0x14de58,_0x2b37d2);},'HdNbW':function(_0xf7f312,_0x1f28f2,_0x4e43a6){return _0xf7f312(_0x1f28f2,_0x4e43a6);},'wNBnN':function(_0x991f21,_0x3f0a10){return _0x991f21!==_0x3f0a10;},'OJERt':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x326a69=JSON[_0x2324f4(0x1f6)](fs[_0x2324f4(0x217)](packageFile,_0x447b78[_0x2324f4(0x1f0)])),_0x57021d=[];for(let _0x29ad40=0x0;_0x447b78[_0x2324f4(0x1e4)](_0x29ad40,frameworks['length']);_0x29ad40+=0x1){const _0x326814=_0x447b78[_0x2324f4(0x1ed)](findScriptsWithFramework,_0x326a69[_0x2324f4(0x1fb)],frameworks[_0x29ad40]);for(let _0x2109ff=0x0;_0x447b78[_0x2324f4(0x1e4)](_0x2109ff,_0x326814[_0x2324f4(0x1db)]);_0x2109ff+=0x1){_0x57021d[_0x2324f4(0x201)](_0x447b78[_0x2324f4(0x1e0)](getUpdatedCommand,_0x326a69[_0x2324f4(0x1fb)],_0x326814[_0x2109ff]));}_0x447b78['HdNbW'](addPostInstallScript,_0x326a69[_0x2324f4(0x1fb)],_0x57021d);}const _0x1a8bc2={..._0x326a69[_0x2324f4(0x1fb)]},_0x28ad44=_0x1a8bc2;for(let _0x359b44=0x0;_0x447b78[_0x2324f4(0x1e4)](_0x359b44,_0x57021d['length']);_0x359b44+=0x1){_0x28ad44[_0x57021d[_0x359b44][0x0]]=_0x57021d[_0x359b44][0x1];}_0x447b78[_0x2324f4(0x1d8)](JSON['stringify'](_0x326a69[_0x2324f4(0x1fb)]),JSON[_0x2324f4(0x1e9)](_0x28ad44))&&(logger[_0x2324f4(0x1da)](_0x447b78[_0x2324f4(0x1d7)]),_0x326a69['scripts']=_0x28ad44,fs[_0x2324f4(0x1ef)](packageFile,JSON[_0x2324f4(0x1e9)](_0x326a69,null,0x2),_0x88a2e8=>{_0x88a2e8&&logger['error'](_0x88a2e8);}));};function a49_0x4744(_0x1e7d5f,_0x37492f){const _0x225760=a49_0x2257();return a49_0x4744=function(_0x4744b9,_0x13ab75){_0x4744b9=_0x4744b9-0x1d1;let _0x4a2087=_0x225760[_0x4744b9];return _0x4a2087;},a49_0x4744(_0x1e7d5f,_0x37492f);}function findScriptsWithFramework(_0x18bf5e,_0x289b67){const _0x492922=a49_0x1b9c4e,_0x3f80af={};_0x3f80af[_0x492922(0x1f4)]=function(_0x447392,_0x59eb99){return _0x447392<_0x59eb99;},_0x3f80af['UXCxA']=_0x492922(0x1fc);const _0x14b385=_0x3f80af,_0x4dbe91=[],_0x220ee6=Object['entries'](_0x18bf5e);for(let _0x3771fb=0x0;_0x14b385[_0x492922(0x1f4)](_0x3771fb,_0x220ee6[_0x492922(0x1db)]);_0x3771fb+=0x1){_0x220ee6[_0x3771fb][0x1][_0x492922(0x1ff)](_0x289b67)&&!_0x220ee6[_0x3771fb][0x1]['includes'](_0x14b385['UXCxA'])&&_0x4dbe91[_0x492922(0x201)](_0x220ee6[_0x3771fb][0x0]);}return _0x4dbe91;}function getUpdatedCommand(_0x3da14d,_0x49e963){const _0x53cb72=a49_0x1b9c4e,_0x56da9a={};_0x56da9a['wkgQM']=function(_0x36f3e0,_0x196d65){return _0x36f3e0!==_0x196d65;},_0x56da9a[_0x53cb72(0x216)]=_0x53cb72(0x1fc),_0x56da9a[_0x53cb72(0x202)]=function(_0x29b6c8,_0x3ce74b){return _0x29b6c8===_0x3ce74b;};const _0x304c8b=_0x56da9a,_0x3f8de8=_0x49e963+'-browserstack',_0x2138a5=_0x3da14d[_0x49e963],_0x593e4c=_0x2138a5['split']('\x20');for(const _0x449641 of frameworks){if(_0x304c8b[_0x53cb72(0x1ec)](_0x593e4c[_0x53cb72(0x205)](_0x449641),-0x1)){_0x593e4c[_0x53cb72(0x1e5)](_0x593e4c['indexOf'](_0x449641),0x0,_0x304c8b['ErMUW']);break;}}let _0x3049f3=_0x593e4c[_0x53cb72(0x209)]('\x20');return _0x304c8b[_0x53cb72(0x202)](_0x3049f3,_0x2138a5)&&(_0x3049f3=_0x53cb72(0x1d2)+_0x2138a5),[_0x3f8de8,_0x3049f3];}function sdkSetup(){const _0xd25a40=a49_0x1b9c4e,_0x202593={};_0x202593[_0xd25a40(0x218)]='node-setup',_0x202593['UCmPr']='SDKSetup';const _0x59a9a4=_0x202593;if(helper['isUndefined'](config))return;config[_0xd25a40(0x1fe)]=_0x59a9a4[_0xd25a40(0x218)];try{utilities[_0xd25a40(0x200)](_0x59a9a4['UCmPr'],{},config,'');}catch(_0x19c9e5){logger['debug'](_0xd25a40(0x214)+_0x19c9e5);}}logger['info'](a49_0x1b9c4e(0x203));