#!/usr/bin/env node
'use strict';const a39_0x59b1d1=a39_0x5e5a;(function(_0x207d8a,_0x4d7b9f){const _0x31863b=a39_0x5e5a,_0x4f74e6=_0x207d8a();while(!![]){try{const _0x3b789e=-parseInt(_0x31863b(0x163))/0x1*(parseInt(_0x31863b(0x1ab))/0x2)+parseInt(_0x31863b(0x175))/0x3+-parseInt(_0x31863b(0x170))/0x4*(-parseInt(_0x31863b(0x193))/0x5)+parseInt(_0x31863b(0x14d))/0x6+-parseInt(_0x31863b(0x1b6))/0x7*(-parseInt(_0x31863b(0x165))/0x8)+parseInt(_0x31863b(0x1a7))/0x9+parseInt(_0x31863b(0x19f))/0xa*(-parseInt(_0x31863b(0x164))/0xb);if(_0x3b789e===_0x4d7b9f)break;else _0x4f74e6['push'](_0x4f74e6['shift']());}catch(_0x1937fe){_0x4f74e6['push'](_0x4f74e6['shift']());}}}(a39_0xd740,0x5fddd));const fs=require('fs'),path=require(a39_0x59b1d1(0x1e3)),{spawn}=require('child_process'),{format}=require(a39_0x59b1d1(0x17b)),logger=require(a39_0x59b1d1(0x1e0))[a39_0x59b1d1(0x1c1)],{default:BrowserStackSetup}=require(a39_0x59b1d1(0x189)),helper=require(a39_0x59b1d1(0x14e)),utilities=require(a39_0x59b1d1(0x14b)),constants=require(a39_0x59b1d1(0x1c2)),{FRAMEWORKS}=require(a39_0x59b1d1(0x1a4)),{getConfigLoaderPath}=require(a39_0x59b1d1(0x162)),{checkAccessibilityPlatformConfig}=require(a39_0x59b1d1(0x1cd)),{setAccessibilityCapabilities}=require('./accessibility-helper'),{printBuildLink}=require(a39_0x59b1d1(0x161)),TestDetails=require('./reporter/test-details'),TestHubHandler=require(a39_0x59b1d1(0x156)),PerformanceTester=require(a39_0x59b1d1(0x174)),BrowserstackCLI=require(a39_0x59b1d1(0x14a)),PerformanceEvents=require(a39_0x59b1d1(0x16d))['EVENTS'],CLIUtils=require('../v2/cliUtils'),TestInfo=require(a39_0x59b1d1(0x17d)),getUserPlaywrightConfig=async(_0x206ede,_0x53cba6)=>{const _0x5d189a=a39_0x59b1d1,_0x4ac01c={'jnRmt':function(_0xce164c){return _0xce164c();},'HarDi':function(_0x1c6d2e,_0x5147e8){return _0x1c6d2e(_0x5147e8);},'BPGCi':function(_0x48753a,_0x57ac96){return _0x48753a(_0x57ac96);},'QDDGm':_0x5d189a(0x138),'YIimS':_0x5d189a(0x14f)},_0x2bf653=!helper['isUndefined'](_0x206ede['config']),_0x43f5d7=_0x2bf653?path[_0x5d189a(0x1cf)](process[_0x5d189a(0x197)](),_0x206ede['config']):process['cwd'](),{resolveConfigFile:_0x45ada3,resolveConfigLocation:_0x123f7b}=helper[_0x5d189a(0x1a2)][_0x5d189a(0x139)](null,_0x4ac01c[_0x5d189a(0x147)](getConfigLoaderPath)),_0x4c9e29=_0x45ada3?_0x4ac01c['HarDi'](_0x45ada3,_0x43f5d7):helper[_0x5d189a(0x1dc)](_0x4ac01c['BPGCi'](_0x123f7b,_0x43f5d7),[_0x4ac01c[_0x5d189a(0x151)]]),_0x398121={};if(_0x2bf653){const _0x9b063a=_0x53cba6[_0x5d189a(0x159)](_0x3137d3=>_0x3137d3===_0x5d189a(0x160)||_0x3137d3==='-c'||_0x3137d3['startsWith'](_0x5d189a(0x14f)));_0x53cba6['splice'](_0x9b063a,_0x53cba6[_0x9b063a]['startsWith'](_0x4ac01c[_0x5d189a(0x148)])?0x1:0x2);}const _0xd4188c={};return _0xd4188c['path']=_0x4c9e29,_0xd4188c[_0x5d189a(0x182)]=_0x398121,_0xd4188c;},handleO11yRerun=_0xd23584=>{const _0x549ef5=a39_0x59b1d1,_0x115348={};_0x115348['nZIUr']=_0x549ef5(0x146);const _0xd5f370=_0x115348,_0x4273b9=helper[_0x549ef5(0x17e)](process[_0x549ef5(0x13f)][_0x549ef5(0x1b5)]);if(_0x4273b9){const _0x7f17b9=process[_0x549ef5(0x13f)][_0x549ef5(0x1a3)],_0x1dcf8b=[];if(helper['validateRerunTestList'](_0x7f17b9)&&!helper[_0x549ef5(0x196)](_0x7f17b9)){_0x7f17b9[_0x549ef5(0x141)](',')[_0x549ef5(0x1da)](_0x2371ee=>{const _0x20bfa6=_0x549ef5;_0x1dcf8b[_0x20bfa6(0x1aa)]('('+_0x2371ee[_0x20bfa6(0x14c)]()+')');});const _0x4b9206='^'+_0x1dcf8b[_0x549ef5(0x1d8)]('|')+'$';_0xd23584[_0x549ef5(0x1aa)](_0xd5f370['nZIUr'],_0x4b9206);}}},spawnOriginalProcess=_0x1abdb8=>{const _0x6dac9f=a39_0x59b1d1,_0x4e789b={'NPuJV':function(_0xbfdea,_0x2be9aa,_0x4aae0d,_0x3e4ae7){return _0xbfdea(_0x2be9aa,_0x4aae0d,_0x3e4ae7);},'iqOTF':_0x6dac9f(0x16c),'AxvmF':_0x6dac9f(0x1b2),'gMXxx':function(_0x462da8,_0xb0c02){return _0x462da8===_0xb0c02;},'RBLeF':'win32','Ytzjv':_0x6dac9f(0x194)};_0x4e789b['NPuJV'](spawn,_0x4e789b['iqOTF'],[_0x4e789b['AxvmF'],..._0x1abdb8['slice'](0x1)],{'shell':_0x4e789b[_0x6dac9f(0x1db)](process[_0x6dac9f(0x1a1)],_0x4e789b[_0x6dac9f(0x1d2)]),'stdio':_0x4e789b[_0x6dac9f(0x1bb)],'cwd':process[_0x6dac9f(0x197)]()});},isTestCommand=(_0x49be6a,_0x406f0b)=>{const _0x178481=a39_0x59b1d1,_0x15cecb={};_0x15cecb[_0x178481(0x18c)]=function(_0x2edd45,_0x599358){return _0x2edd45>_0x599358;},_0x15cecb[_0x178481(0x1ba)]=function(_0x4df233,_0x3c3f5f){return _0x4df233===_0x3c3f5f;},_0x15cecb['EruUn']=_0x178481(0x18e);const _0xab1d6=_0x15cecb;if(_0xab1d6[_0x178481(0x18c)](_0x406f0b[_0x178481(0x172)],0x1)&&_0xab1d6['YsCwr'](_0x406f0b[0x1],_0xab1d6['EruUn']))return!![];return![];};function a39_0xd740(){const _0xe6b453=['util','eYuKG','../v2/TestInfo','isTrue','end','PLAYWRIGHT','assign','config','opmeQ','xZyDO','bjFOy','trace_','measureWrapper','SJvLo','../../helpers/BrowserStackSetup','existsSync','fudmO','fOlyD','vjzcX','test','browserstackSetupConfig.json','BROWSERSTACK_TEST_OBSERVABILITY','has','finalExecution','1110EZTpwP','inherit','setFrameworkDetail','isUndefined','cwd','Wxeox','testContextOptions','pNOku','writeFileSync','shutdown','KRJkh','accessibility','10HxsWyj','rWStn','platform','requirePWModule','BROWSERSTACK_RERUN_TESTS','../../helpers/test-observability/constants','homedir','--disable-browserstack-automation','5992920GNbrwx','win32','vzRQm','push','57326QEMOUT','JxYnc','concat','BROWSERSTACK_SETUP_CONFIG_PATH','tuLNk','stop','--disable-test-observability','playwright','accessibilityOptions','automation','BROWSERSTACK_RERUN','80654TFlYHp','IuMJZ','zkTjD','getProxyUrl','YsCwr','Ytzjv','xdUlO','getConfigPath','playwright-browserstack-sdk.config.cjs','Error\x20in\x20getting\x20funnel\x20data\x20results','isFalse','winstonLogger','../utils/constants','.browserstack','browserstackAutomation','isRunning','arGxP','NcChh','Proxy\x20url\x20:\x20','isTypescriptProject','filterBrowserstackArgs','serializeToYamlString','USER_CONFIG_DETAILS_PATH','../../helpers/accessibility-automation/helper','true','resolve','errorMessage','filter','RBLeF','skipSessionStatus','BqGWv','OuvMw','DitHu','VFzQS','join','BROWSERSTACK_PW_CONFIG_DIR','map','gMXxx','nestedKeyValue','readFileSync','Deleting\x20','PACKAGE_TYPE','../../helpers/logger','RlZeX','getNoProxy','path','resolvedConfigFile','apply','getInstance','hPzAf','SOpgR','No\x20Proxy\x20:\x20','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','env','testObservability','split','SDK_POST_INITIALIZE','SDK_PRE_INITIALIZE','eCeOp','unlinkSync','--grep','jnRmt','YIimS','ttZWb','../v2/browserstackCLI','../../helpers/utilities','trim','1314678KDDtAK','../../helpers/helper','--config=','Playwright\x20process\x20exited\x20with\x20code\x20','QDDGm','setBrowserstackConfig','cliConfig','MODULE','stringify','../../helpers/testhub/testhubHandler','getPackageType','close','findIndex','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','nuRYP','jMYUl','BROWSERSTACK_AUTOMATION','tmhyO','cYLJk','--config','../../helpers/test-observability/utils','./reporter/pwUtils','22TBXvfS','1645853EeBHMV','24lgCkXU','logLevel','tNtxB','dirname','BROWSERSTACK_TEST_ACCESSIBILITY_YML','TQUQG','ofltG','npx','../../helpers/performance/constants','gVRCl','false','2000QAvggw','Error\x20in\x20closing\x20playwright','length','parse','../../helpers/performance/performance-tester','426957LaXaBo','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','Error\x20in\x20deleting\x20playwright\x20results','pw_result.json','indexOf','debug'];a39_0xd740=function(){return _0xe6b453;};return a39_0xd740();}function a39_0x5e5a(_0x11bde9,_0xbda029){const _0xd7406c=a39_0xd740();return a39_0x5e5a=function(_0x5e5ad6,_0x3cdd2e){_0x5e5ad6=_0x5e5ad6-0x138;let _0x448da1=_0xd7406c[_0x5e5ad6];return _0x448da1;},a39_0x5e5a(_0x11bde9,_0xbda029);}async function run(_0x512f3a,_0x2764f9,_0x364532){const _0x30799c=a39_0x59b1d1,_0x517471={'OuvMw':function(_0x36e3f7,_0x2deb74){return _0x36e3f7(_0x2deb74);},'rWStn':_0x30799c(0x1c3),'VFzQS':_0x30799c(0x178),'IuMJZ':function(_0x56cf79,_0x13f3a8){return _0x56cf79+_0x13f3a8;},'bjFOy':_0x30799c(0x1bf),'tNtxB':function(_0x41d592){return _0x41d592();},'ofltG':function(_0x2779cf,_0x172cbd){return _0x2779cf+_0x172cbd;},'eCeOp':_0x30799c(0x171),'gFyki':'BrowserStack\x20config\x20file\x20not\x20found.','vjzcX':function(_0x91d90,_0x540485){return _0x91d90===_0x540485;},'arGxP':_0x30799c(0x16f),'tmhyO':_0x30799c(0x1b1),'NaAMi':function(_0x50a4d5,_0x47661b){return _0x50a4d5>=_0x47661b;},'fudmO':function(_0x818551,_0x2cc605){return _0x818551===_0x2cc605;},'SJvLo':_0x30799c(0x1b4),'NcChh':function(_0x47bfdb,_0x26091c){return _0x47bfdb!=_0x26091c;},'BqGWv':function(_0x47172e,_0x50be69,_0x4c35f6){return _0x47172e(_0x50be69,_0x4c35f6);},'opmeQ':function(_0x1433ad,_0x1ed008){return _0x1433ad===_0x1ed008;},'Wxeox':_0x30799c(0x1ce),'cYLJk':function(_0x34ed18,_0x41a67e){return _0x34ed18(_0x41a67e);},'ttZWb':function(_0x17970b,_0x5d7621){return _0x17970b(_0x5d7621);},'jMYUl':_0x30799c(0x18f),'mRWfD':_0x30799c(0x1be),'DitHu':'playwright-browserstack-sdk.config.js','gVRCl':function(_0x43edf9,_0x50edbb){return _0x43edf9-_0x50edbb;},'xsaro':'Updated\x20config\x20file\x20name\x20to\x20-\x20','KRJkh':function(_0x185add,_0x2c67d2){return _0x185add>_0x2c67d2;},'uRRmu':function(_0x402baa,_0x4e25b6,_0x5a061f,_0x3bfe79){return _0x402baa(_0x4e25b6,_0x5a061f,_0x3bfe79);},'kihTa':'npx','eYuKG':_0x30799c(0x1b2),'xZyDO':'test','SOpgR':_0x30799c(0x160),'tuLNk':function(_0x52a60d,_0x46556c){return _0x52a60d===_0x46556c;},'WCbnI':_0x30799c(0x1a8),'TQUQG':_0x30799c(0x194),'syMPH':_0x30799c(0x158),'pNOku':function(_0x26fbb7,_0xe1da96){return _0x26fbb7+_0xe1da96;},'vzRQm':_0x30799c(0x177),'xdUlO':function(_0x3415cd,_0x17f23e){return _0x3415cd(_0x17f23e);}};try{const _0x44d353=path[_0x30799c(0x1d8)](helper[_0x30799c(0x1a5)](),_0x517471[_0x30799c(0x1a0)],_0x517471[_0x30799c(0x1d7)]);fs['existsSync'](_0x44d353)&&fs['unlinkSync'](_0x44d353);}catch(_0x1116ee){logger['debug'](_0x517471[_0x30799c(0x19a)](_0x517471[_0x30799c(0x1a9)],_0x1116ee));}if(!_0x517471[_0x30799c(0x1d4)](isTestCommand,_0x512f3a,_0x2764f9)){_0x517471[_0x30799c(0x1bc)](spawnOriginalProcess,_0x2764f9);return;}await PerformanceTester[_0x30799c(0x187)](PerformanceEvents[_0x30799c(0x143)],async()=>{const _0x48d243=_0x30799c,_0x309f76={'nuRYP':_0x517471[_0x48d243(0x1a0)],'JxYnc':_0x517471['VFzQS'],'RlZeX':function(_0x458254,_0x250fed){const _0x270895=_0x48d243;return _0x517471[_0x270895(0x1b7)](_0x458254,_0x250fed);},'MoGpU':_0x517471[_0x48d243(0x185)],'zkTjD':function(_0x5c44f7){const _0x35a1f7=_0x48d243;return _0x517471[_0x35a1f7(0x167)](_0x5c44f7);},'NariN':function(_0x38e0ff,_0x38cbc7){const _0x590b10=_0x48d243;return _0x517471[_0x590b10(0x16b)](_0x38e0ff,_0x38cbc7);},'hPzAf':_0x517471[_0x48d243(0x144)]};if(!_0x364532[_0x48d243(0x182)]){logger['error'](_0x517471['gFyki']);return;}await _0x364532['initialize'](_0x512f3a),CLIUtils[_0x48d243(0x195)](FRAMEWORKS[_0x48d243(0x180)],FRAMEWORKS[_0x48d243(0x180)]),BrowserstackCLI[_0x48d243(0x13a)]()[_0x48d243(0x152)](_0x364532[_0x48d243(0x182)],_0x364532[_0x48d243(0x153)]),await BrowserstackCLI[_0x48d243(0x13a)]()['bootstrap']();const _0x36ec23=BrowserstackCLI[_0x48d243(0x13a)]()['getConfig']();!helper[_0x48d243(0x1c0)](_0x36ec23['browserstackAutomation'])&&(process[_0x48d243(0x13f)][_0x48d243(0x15d)]=!![]);_0x517471[_0x48d243(0x18d)](_0x36ec23[_0x48d243(0x1c4)],![])&&(process[_0x48d243(0x13f)][_0x48d243(0x15d)]=_0x517471['arGxP'],_0x2764f9=_0x2764f9[_0x48d243(0x1d1)](_0x19d51d=>_0x19d51d!==_0x48d243(0x1a6)));const _0x126c73=_0x2764f9[_0x48d243(0x179)](_0x517471[_0x48d243(0x15e)]);(_0x517471['NaAMi'](_0x126c73,0x0)||_0x517471[_0x48d243(0x18b)](_0x36ec23[_0x48d243(0x140)],![]))&&(process[_0x48d243(0x13f)][_0x48d243(0x190)]=_0x517471[_0x48d243(0x1c6)],_0x2764f9=_0x2764f9[_0x48d243(0x1d1)](_0x27116d=>_0x27116d!==_0x48d243(0x1b1)));!helper[_0x48d243(0x196)](_0x364532[_0x48d243(0x153)])&&_0x364532['cliConfig'][_0x48d243(0x191)](_0x517471[_0x48d243(0x188)])&&(process[_0x48d243(0x13f)]['BROWSERSTACK_AUTOMATION']=_0x364532[_0x48d243(0x153)]['get'](_0x517471['SJvLo'])||!![]);_0x517471[_0x48d243(0x1c7)](_0x364532['config'][_0x48d243(0x140)],null)&&!helper['isTrue'](process[_0x48d243(0x13f)][_0x48d243(0x190)])&&(process[_0x48d243(0x13f)]['BROWSERSTACK_TEST_OBSERVABILITY']=process[_0x48d243(0x13f)]['BROWSERSTACK_TEST_OBSERVABILITY']||_0x364532[_0x48d243(0x182)][_0x48d243(0x140)]);const _0x5b86f6=!helper[_0x48d243(0x1c0)](process[_0x48d243(0x13f)][_0x48d243(0x190)]);_0x364532[_0x48d243(0x182)][_0x48d243(0x1b3)]&&(process[_0x48d243(0x13f)]['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON[_0x48d243(0x155)](_0x364532[_0x48d243(0x182)]['accessibilityOptions']));let _0x53a68e=![];_0x364532[_0x48d243(0x182)][_0x48d243(0x19e)]&&(_0x53a68e=!![],process['env'][_0x48d243(0x169)]=_0x364532[_0x48d243(0x182)][_0x48d243(0x19e)]);const _0x41b389=_0x2764f9[_0x48d243(0x1ad)](),_0x50488c=await _0x517471[_0x48d243(0x1d4)](getUserPlaywrightConfig,_0x512f3a,_0x2764f9);if(helper[_0x48d243(0x196)](_0x50488c)){_0x517471[_0x48d243(0x1d5)](spawnOriginalProcess,_0x41b389);return;}const _0x49ca5d=_0x50488c[_0x48d243(0x1e3)]?path['dirname'](_0x50488c[_0x48d243(0x1e3)]):process['cwd']();process['env'][_0x48d243(0x1d9)]=_0x49ca5d,await PerformanceTester[_0x48d243(0x187)](PerformanceEvents[_0x48d243(0x142)],async()=>{const _0x204838=_0x48d243;!BrowserstackCLI['getInstance']()[_0x204838(0x1c5)]()&&await TestHubHandler['launchBuild'](FRAMEWORKS[_0x204838(0x180)],_0x364532),_0x5b86f6&&_0x517471[_0x204838(0x1d5)](handleO11yRerun,_0x2764f9);})();if(!BrowserstackCLI[_0x48d243(0x13a)]()['isRunning']()){let _0x446df7=_0x517471[_0x48d243(0x183)](process[_0x48d243(0x13f)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML'],_0x517471[_0x48d243(0x198)]);_0x446df7=_0x446df7||_0x517471[_0x48d243(0x15f)](checkAccessibilityPlatformConfig,_0x364532[_0x48d243(0x182)]),process['env']['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x446df7,_0x446df7&&_0x517471[_0x48d243(0x149)](setAccessibilityCapabilities,_0x364532[_0x48d243(0x182)]);}const _0x295d24=path[_0x48d243(0x1d8)](_0x50488c[_0x48d243(0x1e3)]?path[_0x48d243(0x168)](_0x50488c[_0x48d243(0x1e3)]):process['cwd'](),_0x517471[_0x48d243(0x15c)]);fs[_0x48d243(0x19b)](_0x295d24,helper[_0x48d243(0x1cb)](_0x364532['config'])),process[_0x48d243(0x13f)][_0x48d243(0x1ae)]=_0x295d24,helper['clearTempPWConfig']();let _0x57bf18='';_0x517471[_0x48d243(0x18b)](helper[_0x48d243(0x157)](),constants[_0x48d243(0x1df)][_0x48d243(0x154)])?_0x57bf18=_0x517471['mRWfD']:_0x57bf18=_0x517471[_0x48d243(0x1d6)];let _0x378000='';if(helper[_0x48d243(0x1c9)](_0x50488c[_0x48d243(0x1e3)])){_0x378000=_0x48d243(0x15a);const _0x4d2ca9=_0x57bf18[_0x48d243(0x141)]('.');_0x4d2ca9[_0x517471[_0x48d243(0x16e)](_0x4d2ca9[_0x48d243(0x172)],0x1)]='ts',_0x57bf18=_0x4d2ca9[_0x48d243(0x1d8)]('.'),logger[_0x48d243(0x17a)](_0x517471[_0x48d243(0x1b7)](_0x517471['xsaro'],_0x57bf18));}else _0x378000=_0x48d243(0x13e);const _0x47969b=path[_0x48d243(0x1d8)](_0x50488c['path']?path[_0x48d243(0x168)](_0x50488c[_0x48d243(0x1e3)]):process[_0x48d243(0x197)](),_0x57bf18);let _0x35ebf1=_0x50488c[_0x48d243(0x1e3)]?_0x50488c[_0x48d243(0x1e3)]:'';_0x35ebf1=_0x517471[_0x48d243(0x19d)](_0x35ebf1['length'],0x0)?path[_0x48d243(0x1cf)](_0x35ebf1):'',process[_0x48d243(0x13f)][_0x48d243(0x1cc)]=_0x35ebf1;const _0x21b7bc=helper[_0x48d243(0x1b9)](_0x364532[_0x48d243(0x182)]),_0x3953ff=helper[_0x48d243(0x1e2)](_0x364532[_0x48d243(0x182)]);logger[_0x48d243(0x17a)](_0x48d243(0x1c8)+_0x21b7bc),logger[_0x48d243(0x17a)](_0x48d243(0x13d)+_0x3953ff);_0x21b7bc&&(_0x378000=_0x517471[_0x48d243(0x16b)]('process.env.GLOBAL_AGENT_HTTP_PROXY=\x22'+_0x21b7bc+'\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22'+_0x3953ff+_0x48d243(0x176),_0x378000));helper[_0x48d243(0x1ca)]({},_0x2764f9),fs['writeFileSync'](_0x47969b,_0x378000),PerformanceTester[_0x48d243(0x17f)](PerformanceEvents['SDK_SETUP']);const _0x127288=_0x517471['uRRmu'](spawn,_0x517471['kihTa'],[_0x517471[_0x48d243(0x17c)],_0x517471[_0x48d243(0x184)],_0x517471[_0x48d243(0x13c)],_0x47969b,..._0x2764f9['slice'](0x2)],{'shell':_0x517471[_0x48d243(0x1af)](process[_0x48d243(0x1a1)],_0x517471['WCbnI']),'stdio':_0x517471[_0x48d243(0x16a)],'cwd':process[_0x48d243(0x197)](),'env':Object[_0x48d243(0x181)]({},process[_0x48d243(0x13f)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper[_0x48d243(0x1bd)](_0x512f3a),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x364532[_0x48d243(0x182)][_0x48d243(0x199)][_0x48d243(0x1d3)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x364532[_0x48d243(0x182)][_0x48d243(0x199)]['skipSessionName'],'BROWSERSTACK_LOG_LEVEL':_0x364532[_0x48d243(0x182)][_0x48d243(0x166)]})}),_0x1ad5ad=()=>{const _0x3b55a4=_0x48d243;try{const _0x3b7064=path[_0x3b55a4(0x1d8)](helper['homedir'](),_0x309f76['nuRYP'],_0x309f76[_0x3b55a4(0x1ac)]);if(fs['existsSync'](_0x3b7064)){let _0xf71fb2=fs[_0x3b55a4(0x1dd)](_0x3b7064);_0xf71fb2=JSON[_0x3b55a4(0x173)](_0xf71fb2),_0x364532[_0x3b55a4(0x1d0)]=_0xf71fb2,fs['unlinkSync'](_0x3b7064);}}catch(_0x2a38fa){logger[_0x3b55a4(0x17a)](_0x309f76[_0x3b55a4(0x1e1)](_0x309f76['MoGpU'],_0x2a38fa));}};_0x127288['on'](_0x517471['syMPH'],async _0x48e856=>{const _0xb6da99=_0x48d243;try{PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']),_0x309f76[_0xb6da99(0x1b8)](_0x1ad5ad),await TestHubHandler[_0xb6da99(0x1b0)](),await BrowserstackCLI[_0xb6da99(0x13a)]()[_0xb6da99(0x1b0)](),TestDetails[_0xb6da99(0x19c)](),_0x309f76[_0xb6da99(0x1b8)](printBuildLink),await utilities[_0xb6da99(0x192)](_0x364532),process['exitCode']=_0x48e856,logger[_0xb6da99(0x17a)](_0xb6da99(0x150)+_0x48e856),logger['info']('Deleting\x20'+_0x47969b),fs[_0xb6da99(0x145)](_0x47969b);fs[_0xb6da99(0x18a)](_0x295d24)&&(logger['debug'](_0xb6da99(0x1de)+_0x295d24),fs[_0xb6da99(0x145)](_0x295d24));const _0x52c795=fs['readdirSync'](path['join'](helper['homedir'](),_0x309f76[_0xb6da99(0x15b)]))['filter'](_0x3a329a=>_0x3a329a['startsWith'](_0xb6da99(0x186)));_0x52c795['forEach'](_0xca1374=>{const _0x37bff7=_0xb6da99;fs[_0x37bff7(0x145)](path['join'](helper[_0x37bff7(0x1a5)](),_0x309f76['nuRYP'],_0xca1374));});}catch(_0x54b6f7){logger[_0xb6da99(0x17a)](_0x309f76['NariN'](_0x309f76[_0xb6da99(0x13b)],_0x54b6f7));}});})();}module['exports']=run;