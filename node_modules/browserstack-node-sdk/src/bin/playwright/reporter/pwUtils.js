const a44_0x564845=a44_0x1350;(function(_0x276573,_0x32cf10){const _0xb3f304=a44_0x1350,_0x4f296d=_0x276573();while(!![]){try{const _0x3d762d=parseInt(_0xb3f304(0xd0))/0x1+-parseInt(_0xb3f304(0x11c))/0x2*(parseInt(_0xb3f304(0xf0))/0x3)+-parseInt(_0xb3f304(0xed))/0x4+-parseInt(_0xb3f304(0xe8))/0x5*(parseInt(_0xb3f304(0xfe))/0x6)+parseInt(_0xb3f304(0xeb))/0x7+parseInt(_0xb3f304(0xfc))/0x8*(-parseInt(_0xb3f304(0x12e))/0x9)+parseInt(_0xb3f304(0x147))/0xa*(parseInt(_0xb3f304(0x122))/0xb);if(_0x3d762d===_0x32cf10)break;else _0x4f296d['push'](_0x4f296d['shift']());}catch(_0x4bcfaa){_0x4f296d['push'](_0x4f296d['shift']());}}}(a44_0x12ef,0xc897e));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a44_0x564845(0x139)),PerformanceTester=require(a44_0x564845(0x128)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a44_0x564845(0x16d)),helper=require('../../../helpers/helper'),path=require(a44_0x564845(0x11f)),logger=require('../../../helpers/logger')['winstonLogger'],SessionHandler=require(a44_0x564845(0xe1)),TestDetails=require(a44_0x564845(0x111)),util=require(a44_0x564845(0x143)),TestInfo=require('../../v2/TestInfo');let BrowserstackCLIInstance=null;function getBrowserstackCLI(){const _0x402bba=a44_0x564845,_0x3bde98={'MTqYR':function(_0x5dff48,_0x26380e){return _0x5dff48(_0x26380e);},'ZYlGV':_0x402bba(0x12d)};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0x3bde98['MTqYR'](require,_0x3bde98[_0x402bba(0xf8)])),BrowserstackCLIInstance;}function a44_0x1350(_0x1eb870,_0x49d61e){const _0x12efcc=a44_0x12ef();return a44_0x1350=function(_0x135035,_0x30f013){_0x135035=_0x135035-0xc1;let _0x44b6ba=_0x12efcc[_0x135035];return _0x44b6ba;},a44_0x1350(_0x1eb870,_0x49d61e);}const getTagsFromTitle=_0x4b719b=>{const _0x1186f3=a44_0x564845;return _0x4b719b[_0x1186f3(0x105)](/@(\w+)/g)?.['map'](_0x3ceae6=>_0x3ceae6['slice'](0x1))||[];};function a44_0x12ef(){const _0x20d1aa=['VeIko','filePath','Total\x20duration\x20for\x20whole\x20build\x20is\x20','egCtn','aQoFQ','toString','Percentage\x20of\x20increased\x20time\x20is\x20','IagMw','createReadStream','find','filter','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','sRAYx','name','wgCFd','../../../helpers/test-observability/constants','UHWOO','TEST_ATTACHMENT','\x20in\x20arguments','startsWith','toLowerCase','PLAYWRIGHT','getForkProcessPath','eNUsr','getTransformPath','yomNF','eieXX','dRDgK','runner/loadUtils.js','performance-reporter.html','PXlUv','endsWith','Arguments','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','zUJXw','MfFNk','common','lgOcp','LEjmy','@playwright/test','KXFoO','LogCreated','1310826KDCmEJ','stopAndGenerate','sendSessionDetails','test','afterWorkerHook','\x20in\x20attachments','getProjectUtilsPath','calculatePerformance','getFailureData','beforeWorkerHook','zAdLW','onStepEnd','CrBOV','Test\x20timeout\x20of','uYCyh','1.42.0','beforeTestHook','../../../helpers/test-observability/sessionHandler','toISOString','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','basename','\x20bytes','isRunning','_projectId','55zcbbQE','oIqav','tFCGI','11098115kbnGgO','getInstance','5937672psftRM','xwPRW','xyHBE','6txNCEq','zpuvz','qZoFM','KLsxX','@playwright/test/lib/common/configLoader.js','1.35.0','extname','processPageScreenshot','ZYlGV','map','join','getConfigLoaderPath','45024TbCAIT','OGysu','590268JBvKWg','Tvmjr','BPKFr','rYWnL','NmewX','existsSync','lLnEb','match','attachments','getTestRunIdentifier','XmCSv','CSQfD','rttdP','iidBA','XBGHR','calculateTimesFromMultipleFiles','Searching\x20for\x20key:\x20','Error\x20in\x20sending\x20trace\x20file:\x20%s','AzqOE','./test-details','uploadTraceZip','playwright/lib/common/configLoader.js','YLlzd','sEvTN','START_TIME','doo11ySync','endSession','lib','PgvJI','TqEXH','877748DlDqPx','playwright','1.38.0','path','error','ilugw','3293235xjfnLo','onBegin','gspZJ','@playwright/test/lib/transform/transform.js','compareVersions','uhJiv','../../../helpers/performance/performance-tester','env','requestSpyCallback','AKhtm','includes','../../v2/browserstackCLI','1161UFKLiF','sendTraceZip','WqXne','sendTestLog','afterTestHook','vBDsU','lqFza','QiHWZ','tags','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','Found\x20key:\x20','../../../helpers/test-observability/utils','TEST_LOG','sendEventData','length','kgTcp','zftOu','dPoKD','playwright/lib/transform/transform.js','message','readdirSync','util','cXdeh','findNestedKey','format','70aFRasw','getPlaywrightLibPath','prototype','MmqwF','title','testUId','nYnct','resolve','addTraceFilePath','validateFilePath','onTestEnd','.json','debug','FCpiW','getTime','getTestTags','getTestIdentifier','process.js','kgIaL','LoCmd','BfNlo','myJCm','slice'];a44_0x12ef=function(){return _0x20d1aa;};return a44_0x12ef();}exports[a44_0x564845(0x156)]=_0x397d44=>{const _0x3eb78b=a44_0x564845,_0x5ef79f={'YLlzd':function(_0x1bbe4f,_0x1a72eb){return _0x1bbe4f(_0x1a72eb);}};if(_0x397d44[_0x3eb78b(0x136)])return _0x397d44[_0x3eb78b(0x136)][_0x3eb78b(0xf9)](_0x11be44=>_0x11be44[_0x3eb78b(0x171)]('@')?_0x11be44['substr'](0x1):_0x11be44);return _0x5ef79f[_0x3eb78b(0x114)](getTagsFromTitle,_0x397d44[_0x3eb78b(0x14b)]);},exports[a44_0x564845(0xd7)]=async()=>{const _0x3aa74e=a44_0x564845,_0x1e5d6f={'dPoKD':function(_0x16ed6e,_0x4fca71){return _0x16ed6e-_0x4fca71;},'zUJXw':_0x3aa74e(0xc3),'AKhtm':_0x3aa74e(0x123),'FwPdc':_0x3aa74e(0x118),'NmewX':'onTestBegin','VeIko':_0x3aa74e(0x151),'uhJiv':'onStepBegin','rYWnL':_0x3aa74e(0xdb),'KLsxX':_0x3aa74e(0xd9),'LEjmy':_0x3aa74e(0xd4),'nYnct':_0x3aa74e(0xe0),'qZoFM':_0x3aa74e(0x132),'yomNF':_0x3aa74e(0x117),'HohDQ':_0x3aa74e(0xf7),'gspZJ':_0x3aa74e(0xd2),'PXlUv':'setupBrowserDetails','aQoFQ':_0x3aa74e(0x12a),'sRAYx':_0x3aa74e(0x131),'LoCmd':function(_0x393ab7,_0x1eacfa){return _0x393ab7(_0x1eacfa);},'WqXne':function(_0x193216,_0xcbe098){return _0x193216/_0xcbe098;},'IagMw':function(_0x3e29da,_0x687813){return _0x3e29da(_0x687813);},'wgCFd':function(_0x3eeea1,_0x1d34ff){return _0x3eeea1+_0x1d34ff;},'dRDgK':function(_0x57a700,_0x2e2706){return _0x57a700(_0x2e2706);},'MxXbL':function(_0x142c8f,_0x24115e){return _0x142c8f*_0x24115e;},'egCtn':function(_0x295457,_0x4eedcf){return _0x295457/_0x4eedcf;}};if(!process[_0x3aa74e(0x129)]['START_TIME'])return;const _0x1f1e1c=_0x1e5d6f[_0x3aa74e(0x13f)](new Date()[_0x3aa74e(0x155)](),new Date(process[_0x3aa74e(0x129)][_0x3aa74e(0x116)])['getTime']()),_0x107335=await PerformanceTester[_0x3aa74e(0xd1)](_0x1e5d6f[_0x3aa74e(0xc8)],[_0x1e5d6f[_0x3aa74e(0x12b)],_0x1e5d6f['FwPdc'],_0x1e5d6f[_0x3aa74e(0x102)],_0x1e5d6f[_0x3aa74e(0x15e)],_0x1e5d6f[_0x3aa74e(0x127)],_0x1e5d6f[_0x3aa74e(0x101)]]),_0xa10d0d=fs[_0x3aa74e(0x142)]('.'),_0x1b6d72=_0xa10d0d[_0x3aa74e(0x168)](_0x24e434=>_0x24e434[_0x3aa74e(0x171)]('performance-report-worker-')&&_0x24e434[_0x3aa74e(0xc5)](_0x3aa74e(0x152))),_0x26faa0=await PerformanceTester[_0x3aa74e(0x10d)](_0x1b6d72,[_0x1e5d6f[_0x3aa74e(0xf3)],_0x1e5d6f[_0x3aa74e(0xcc)],_0x1e5d6f[_0x3aa74e(0x14d)],_0x1e5d6f[_0x3aa74e(0xf2)],_0x1e5d6f[_0x3aa74e(0x177)],_0x1e5d6f['HohDQ'],_0x1e5d6f[_0x3aa74e(0x124)],_0x1e5d6f[_0x3aa74e(0xc4)],_0x1e5d6f[_0x3aa74e(0x162)],_0x1e5d6f[_0x3aa74e(0x16a)]]);_0x1e5d6f[_0x3aa74e(0x15a)](debug,_0x3aa74e(0x160)+_0x1e5d6f[_0x3aa74e(0x130)](_0x1f1e1c,0x3e8)+'\x20s'),_0x1e5d6f[_0x3aa74e(0x165)](debug,_0x3aa74e(0xe3)+_0x1e5d6f[_0x3aa74e(0x16c)](_0x26faa0,_0x107335)),_0x1e5d6f[_0x3aa74e(0xc1)](debug,_0x3aa74e(0x164)+_0x1e5d6f['MxXbL'](_0x1e5d6f[_0x3aa74e(0x161)](_0x1e5d6f[_0x3aa74e(0x16c)](_0x26faa0,_0x107335),_0x1f1e1c),0x64));},exports[a44_0x564845(0x176)]=()=>{const _0x21b1c3=a44_0x564845,_0x1264f7={'CrBOV':function(_0x3da247,_0x3d3643){return _0x3da247(_0x3d3643);},'CSQfD':function(_0x2eeccc,_0x40dcd2){return _0x2eeccc>=_0x40dcd2;},'MfFNk':_0x21b1c3(0x11e),'QiHWZ':_0x21b1c3(0x140),'vBDsU':_0x21b1c3(0x11d),'fweRD':function(_0x4385c9,_0xb04001){return _0x4385c9>=_0xb04001;},'KXFoO':_0x21b1c3(0xf5),'cXdeh':_0x21b1c3(0x125),'UHWOO':_0x21b1c3(0xcd),'IIQEm':'@playwright/test/lib/common/transform.js'},_0xaa04a4=_0x1264f7[_0x21b1c3(0xdc)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x1264f7[_0x21b1c3(0x109)](helper[_0x21b1c3(0x126)](_0xaa04a4,_0x1264f7[_0x21b1c3(0xc9)]),0x0))return[_0x1264f7[_0x21b1c3(0x135)],_0x1264f7[_0x21b1c3(0x133)]];if(_0x1264f7['fweRD'](helper[_0x21b1c3(0x126)](_0xaa04a4,_0x1264f7[_0x21b1c3(0xce)]),0x0))return[_0x1264f7[_0x21b1c3(0x144)],_0x1264f7[_0x21b1c3(0x16e)]];return[_0x1264f7['IIQEm'],_0x1264f7[_0x21b1c3(0x16e)]];},exports[a44_0x564845(0xfb)]=()=>{const _0x5540e5=a44_0x564845,_0xd6636={'xyHBE':function(_0x3dcf46,_0x5a6fab){return _0x3dcf46(_0x5a6fab);},'uYCyh':function(_0x28df1e,_0x3da942){return _0x28df1e>=_0x3da942;},'kgTcp':_0x5540e5(0x11e),'jqeZz':_0x5540e5(0x113),'pIKlP':'playwright','sEvTN':_0x5540e5(0xf4),'PgvJI':_0x5540e5(0xcd)},_0x4abdc4=_0xd6636[_0x5540e5(0xef)](getFrameworkVersion,FRAMEWORKS[_0x5540e5(0x173)]);if(_0xd6636[_0x5540e5(0xde)](helper[_0x5540e5(0x126)](_0x4abdc4,_0xd6636[_0x5540e5(0x13d)]),0x0))return[_0xd6636['jqeZz'],_0xd6636['pIKlP']];return[_0xd6636[_0x5540e5(0x115)],_0xd6636[_0x5540e5(0x11a)]];},exports['getLoadUtilsPath']=()=>{const _0x12b4e8=a44_0x564845,_0x56f28d={};_0x56f28d['AzqOE']=_0x12b4e8(0xc2);const _0x488853=_0x56f28d;return helper['getPlaywrightLibPath'](_0x488853[_0x12b4e8(0x110)]);},exports[a44_0x564845(0xd6)]=()=>{const _0x2c528c=a44_0x564845,_0x45144c={};_0x45144c[_0x2c528c(0xea)]='runner/projectUtils.js';const _0x5ebbd2=_0x45144c;return helper[_0x2c528c(0x148)](_0x5ebbd2[_0x2c528c(0xea)]);},exports[a44_0x564845(0x174)]=()=>{const _0x59ccdb=a44_0x564845,_0x4c881d={'xVLiu':function(_0x49fdbb,_0x375cb6){return _0x49fdbb(_0x375cb6);},'mwVrx':function(_0x724354,_0x3bf213){return _0x724354>=_0x3bf213;},'iidBA':'1.38.0','XBGHR':_0x59ccdb(0x119),'kgIaL':_0x59ccdb(0xca),'PHtvL':_0x59ccdb(0x158),'oIqav':_0x59ccdb(0xd3)},_0x3d20cf=_0x4c881d['xVLiu'](getFrameworkVersion,FRAMEWORKS[_0x59ccdb(0x173)]);if(_0x4c881d['mwVrx'](helper['compareVersions'](_0x3d20cf,_0x4c881d[_0x59ccdb(0x10b)]),0x0))return path[_0x59ccdb(0xfa)](_0x4c881d[_0x59ccdb(0x10c)],_0x4c881d[_0x59ccdb(0x159)],_0x4c881d['PHtvL']);return path[_0x59ccdb(0xfa)](_0x4c881d[_0x59ccdb(0xe9)],_0x4c881d[_0x59ccdb(0x10c)],_0x4c881d[_0x59ccdb(0x159)],_0x4c881d['PHtvL']);},exports[a44_0x564845(0xd8)]=(_0x22f934,{test_run_uuid:_0x4b6f43})=>{const _0x29a879=a44_0x564845,_0x162251={'lONvZ':'ERROR','QnKJH':_0x29a879(0x13a),'Zipjf':function(_0x42242c,_0x1e6c35){return _0x42242c<=_0x1e6c35;},'MmqwF':function(_0x439304,_0x441188){return _0x439304(_0x441188);},'Tvmjr':_0x29a879(0xdd),'ilugw':function(_0x382133,_0x43faa9){return _0x382133>=_0x43faa9;},'rttdP':_0x29a879(0xdf),'tTUaO':function(_0x96ca12,_0x3ff92f){return _0x96ca12>_0x3ff92f;},'xwPRW':function(_0x90007,_0x1f73b6,_0x2bf6c5){return _0x90007(_0x1f73b6,_0x2bf6c5);},'myJCm':_0x29a879(0xd3)};if(!_0x22f934||_0x162251['Zipjf'](_0x22f934[_0x29a879(0x13c)],0x0))return[];const _0x5650fd=_0x162251[_0x29a879(0x14a)](removeAnsiColors,_0x22f934[0x0][_0x29a879(0x141)]);if(_0x5650fd[_0x29a879(0x171)](_0x162251[_0x29a879(0xff)])){const _0x5a1b98=_0x22f934[0x0],_0xde7233=_0x162251[_0x29a879(0x14a)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if((!_0x5a1b98['stack']||_0x162251[_0x29a879(0x121)](_0xde7233,_0x162251[_0x29a879(0x10a)]))&&_0x162251['tTUaO'](_0x22f934['length'],0x1))return{'failureData':[{'backtrace':[_0x5650fd,_0x162251['MmqwF'](removeAnsiColors,_0x22f934[0x1]['stack'])]}],'logs':_0x22f934[_0x29a879(0x15d)](0x2)[_0x29a879(0xf9)](_0x17c6d8=>{const _0x54577a=_0x29a879;return{'timestamp':new Date()[_0x54577a(0xe2)](),'level':_0x162251['lONvZ'],'message':''+_0x17c6d8['message'],'kind':_0x162251['QnKJH'],'http_response':{},'test_run_uuid':_0x4b6f43};})};}return{'failureData':_0x162251[_0x29a879(0xee)](failureData,_0x22f934,_0x162251[_0x29a879(0x15c)]),'logs':[]};},exports[a44_0x564845(0x150)]=_0x54c178=>{const _0x29242e=a44_0x564845,_0x318311={};_0x318311[_0x29242e(0xda)]=function(_0x4196b4,_0x1a1bbe){return _0x4196b4!==_0x1a1bbe;},_0x318311[_0x29242e(0x15b)]='.zip',_0x318311[_0x29242e(0x13e)]=function(_0x503b8b,_0x578491){return _0x503b8b>_0x578491;};const _0x20bdb0=_0x318311;if(_0x54c178&&fs[_0x29242e(0x103)](_0x54c178)){if(_0x20bdb0[_0x29242e(0xda)](path[_0x29242e(0xf6)](_0x54c178)[_0x29242e(0x172)](),_0x20bdb0[_0x29242e(0x15b)]))return logger[_0x29242e(0x120)](_0x29242e(0x137)+_0x54c178),![];const _0x140aee=fs['statSync'](_0x54c178)['size'];if(_0x20bdb0[_0x29242e(0x13e)](_0x140aee,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x29242e(0x120)](_0x29242e(0xc7)+_0x140aee+_0x29242e(0xe5)),![];return!![];}return![];},exports[a44_0x564845(0x145)]=(_0x51ee4a,_0x630f30)=>{const _0x5048bf=a44_0x564845,_0xb931d3={};_0xb931d3[_0x5048bf(0xfd)]=_0x5048bf(0xc6);const _0x25f47c=_0xb931d3;logger['debug'](_0x5048bf(0x10e)+_0x630f30);if(_0x51ee4a&&_0x51ee4a[_0x5048bf(0x106)]){const _0x132701=_0x51ee4a['attachments'][_0x5048bf(0x167)](_0x24bc42=>_0x24bc42[_0x5048bf(0x16b)]==='trace');if(_0x132701)return logger[_0x5048bf(0x153)]('Found\x20key:\x20'+_0x630f30+_0x5048bf(0xd5)),_0x132701[_0x630f30];}else{if(_0x51ee4a&&Object[_0x5048bf(0x149)][_0x5048bf(0x163)]['call'](_0x51ee4a)[_0x5048bf(0x12c)](_0x25f47c['OGysu']))for(const _0xb1e142 of _0x51ee4a){if(_0xb1e142[_0x630f30])return logger[_0x5048bf(0x153)](_0x5048bf(0x138)+_0x630f30+_0x5048bf(0x170)),_0xb1e142[_0x630f30];}};return'';},exports[a44_0x564845(0x112)]=async(_0x50ed0e,_0x977dcb)=>{const _0x2ca4ea=a44_0x564845,_0x38b863={};_0x38b863[_0x2ca4ea(0xf1)]=_0x2ca4ea(0xcf),_0x38b863[_0x2ca4ea(0x104)]=_0x2ca4ea(0x16f),_0x38b863[_0x2ca4ea(0x154)]=_0x2ca4ea(0x12f),_0x38b863[_0x2ca4ea(0x11b)]='Error\x20in\x20sending\x20trace\x20file:\x20%s';const _0x203173=_0x38b863;try{const _0x37cdeb={'event_type':_0x203173['zpuvz'],'logs':[{'data':_0x50ed0e?fs[_0x2ca4ea(0x166)](_0x50ed0e):'','test_run_uuid':_0x977dcb,'kind':_0x203173['lLnEb'],'fileName':_0x50ed0e?path[_0x2ca4ea(0xe4)](_0x50ed0e):''}]};return await SessionHandler[_0x2ca4ea(0x13b)](_0x37cdeb,0x0,_0x203173[_0x2ca4ea(0x154)]);}catch(_0x3e4f92){logger['error'](util[_0x2ca4ea(0x146)](_0x203173['TqEXH'],_0x3e4f92));}},exports[a44_0x564845(0x12f)]=async(_0x5e32bc,_0x3ea35a)=>{const _0x146cc0=a44_0x564845,_0x2165a9={'InAYC':'path','BPKFr':'Trace\x20enabled','lgOcp':function(_0x22d7de){return _0x22d7de();},'eieXX':_0x146cc0(0x10f)};try{logger[_0x146cc0(0x153)](_0x146cc0(0x169)+_0x3ea35a);let _0x1ce1a9=await exports[_0x146cc0(0x145)](_0x5e32bc,_0x2165a9['InAYC']);if(exports['validateFilePath'](_0x1ce1a9)){logger['debug'](_0x2165a9[_0x146cc0(0x100)]),_0x1ce1a9=path[_0x146cc0(0x14e)](_0x1ce1a9);const _0x382e66={};_0x382e66[_0x146cc0(0x14c)]=_0x3ea35a,_0x382e66[_0x146cc0(0x15f)]=_0x1ce1a9;const _0x292633=_0x382e66;_0x2165a9[_0x146cc0(0xcb)](getBrowserstackCLI)[_0x146cc0(0xec)]()[_0x146cc0(0xe6)]()?TestInfo[_0x146cc0(0x14f)](_0x292633):TestDetails['addTraceFilePath'](_0x292633);};}catch(_0xb1036a){logger[_0x146cc0(0x120)](util[_0x146cc0(0x146)](_0x2165a9[_0x146cc0(0x178)],_0xb1036a));}},exports['getTestIdentifier']=_0xdf879=>{const _0x3318a6=a44_0x564845,_0x303af5={};_0x303af5[_0x3318a6(0x108)]=function(_0x2fa368,_0x545a0d){return _0x2fa368+_0x545a0d;};const _0x2c7459=_0x303af5;return _0x2c7459[_0x3318a6(0x108)](_0x2c7459[_0x3318a6(0x108)](_0xdf879[_0x3318a6(0xe7)],'-'),_0xdf879['id']);},exports[a44_0x564845(0x107)]=(_0x1bd331,_0x20ffca)=>{const _0x3fd637=a44_0x564845,_0x3e3074={};_0x3e3074['eNUsr']=function(_0x26e681,_0x17cce6){return _0x26e681+_0x17cce6;},_0x3e3074[_0x3fd637(0x134)]=function(_0x1b9f6c,_0xf2ae7d){return _0x1b9f6c+_0xf2ae7d;};const _0x592531=_0x3e3074;return _0x592531[_0x3fd637(0x175)](_0x592531[_0x3fd637(0x134)](exports[_0x3fd637(0x157)](_0x1bd331),'-'),_0x20ffca);};