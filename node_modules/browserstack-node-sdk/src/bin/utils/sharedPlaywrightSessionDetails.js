const a59_0xa52a0e=a59_0x1f38;(function(_0x5826ed,_0x4b01b4){const _0x5a615f=a59_0x1f38,_0xd1ccef=_0x5826ed();while(!![]){try{const _0x194b6e=parseInt(_0x5a615f(0xee))/0x1+-parseInt(_0x5a615f(0x73))/0x2*(parseInt(_0x5a615f(0xa5))/0x3)+parseInt(_0x5a615f(0xe9))/0x4+parseInt(_0x5a615f(0xa6))/0x5+-parseInt(_0x5a615f(0x119))/0x6*(parseInt(_0x5a615f(0x9c))/0x7)+parseInt(_0x5a615f(0xdf))/0x8*(-parseInt(_0x5a615f(0x10e))/0x9)+parseInt(_0x5a615f(0xd9))/0xa;if(_0x194b6e===_0x4b01b4)break;else _0xd1ccef['push'](_0xd1ccef['shift']());}catch(_0x4c2824){_0xd1ccef['push'](_0xd1ccef['shift']());}}}(a59_0x283e,0x630e5));const path=require(a59_0xa52a0e(0xa4)),url=require(a59_0xa52a0e(0x7b)),util=require(a59_0xa52a0e(0x8f)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a59_0xa52a0e(0x94)),{o11yErrorHandler}=require(a59_0xa52a0e(0xa0)),{debug,getPlatformDetails}=require(a59_0xa52a0e(0xcc)),logger=require(a59_0xa52a0e(0x130))['winstonLogger'],constants=require('./constants'),AutomationFramework=require('../v2/framework/automationFramework'),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require(a59_0xa52a0e(0xad)),HookState=require('../v2/state/hookState.js'),{platform}=require('os'),getBrowserNameFromChannel=_0x4941f9=>{const _0x303472=a59_0xa52a0e,_0x5b1c0e={};_0x5b1c0e['lLYfT']=_0x303472(0xfd),_0x5b1c0e[_0x303472(0x127)]=_0x303472(0xff),_0x5b1c0e['iyCIw']=_0x303472(0x112),_0x5b1c0e['zgHyv']=_0x303472(0xc7);const _0x40e744=_0x5b1c0e;if(_0x4941f9[_0x303472(0xf0)](_0x40e744[_0x303472(0x9a)]))return _0x40e744[_0x303472(0x9a)];if(_0x4941f9[_0x303472(0xf0)](_0x40e744[_0x303472(0x127)]))return _0x40e744[_0x303472(0x127)];if(_0x4941f9[_0x303472(0xf0)](_0x40e744['iyCIw']))return _0x40e744['iyCIw'];if(_0x4941f9[_0x303472(0xf0)](_0x40e744[_0x303472(0xd4)]))return _0x40e744[_0x303472(0xd4)];},getBrowserFromWSEndpoint=_0x4684cf=>{const _0xb4949e=a59_0xa52a0e,_0x4d794d={'gjNdK':_0xb4949e(0x82),'QqPou':function(_0x57d9ae,_0x15261e){return _0x57d9ae(_0x15261e);},'NgxGh':_0xb4949e(0xff),'OeoIG':_0xb4949e(0x118),'RFIEw':'firefox','QbpUn':_0xb4949e(0xef),'SQyiU':_0xb4949e(0xc7),'VqvVW':_0xb4949e(0xcf),'DPytZ':_0xb4949e(0xfd)};try{const _0x11f813=url['parse'](_0x4684cf),_0x5d0607=new URLSearchParams(_0x11f813['query']),_0x568ed2=Object[_0xb4949e(0xa7)](_0x5d0607[_0xb4949e(0x10d)]()),_0x268981=[_0x568ed2[_0xb4949e(0xce)],_0x568ed2[_0xb4949e(0xfa)],_0x568ed2['desiredCapabilities'],_0x568ed2[_0xb4949e(0xa9)]];for(const _0x47b1f6 of _0x268981){if(_0x47b1f6)try{const _0xaabb9f=JSON[_0xb4949e(0x10b)](_0x47b1f6),_0x4c59ff=_0xaabb9f[_0xb4949e(0x115)]||_0xaabb9f[_0xb4949e(0xf1)]||_0xaabb9f[_0x4d794d[_0xb4949e(0xe4)]]?.[_0xb4949e(0x115)];if(_0x4c59ff)return _0x4d794d[_0xb4949e(0x106)](debug,'Browser\x20found\x20in\x20WebSocket\x20caps:\x20'+_0x4c59ff),_0x4c59ff['toLowerCase']();}catch(_0x163ca6){_0x4d794d[_0xb4949e(0x106)](debug,'Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20'+_0x163ca6[_0xb4949e(0xde)]);}}if(_0x4684cf[_0xb4949e(0xf0)](_0x4d794d[_0xb4949e(0xba)])||_0x4684cf[_0xb4949e(0xf0)](_0x4d794d[_0xb4949e(0xbc)]))return _0x4d794d[_0xb4949e(0xba)];if(_0x4684cf[_0xb4949e(0xf0)](_0x4d794d[_0xb4949e(0x88)])||_0x4684cf[_0xb4949e(0xf0)](_0x4d794d[_0xb4949e(0xe0)]))return _0x4d794d[_0xb4949e(0x88)];if(_0x4684cf[_0xb4949e(0xf0)](_0x4d794d[_0xb4949e(0x110)])||_0x4684cf[_0xb4949e(0xf0)](_0x4d794d[_0xb4949e(0x102)]))return _0x4d794d[_0xb4949e(0x110)];return _0x4d794d[_0xb4949e(0x108)];}catch(_0x23a5df){return _0x4d794d[_0xb4949e(0x106)](debug,_0xb4949e(0x134)+_0x23a5df[_0xb4949e(0xb8)]()),_0x4d794d[_0xb4949e(0x108)];}},getCloudProviderFromWsEndpoint=_0x3ac5cd=>{const _0x2482b4=a59_0xa52a0e,_0x53e977={};_0x53e977[_0x2482b4(0x10f)]=_0x2482b4(0x79),_0x53e977[_0x2482b4(0xb1)]=_0x2482b4(0xe7);const _0x57f4ec=_0x53e977;if(_0x3ac5cd['includes'](constants[_0x2482b4(0x114)])||_0x3ac5cd[_0x2482b4(0xf0)](constants[_0x2482b4(0x121)]))return _0x57f4ec[_0x2482b4(0x10f)];return _0x57f4ec[_0x2482b4(0xb1)];},a59_0x8916fe={};a59_0x8916fe[a59_0xa52a0e(0x137)]=undefined,a59_0x8916fe[a59_0xa52a0e(0x136)]=undefined,a59_0x8916fe['browser']=undefined,a59_0x8916fe[a59_0xa52a0e(0x12a)]=undefined,a59_0x8916fe[a59_0xa52a0e(0xac)]=undefined,a59_0x8916fe[a59_0xa52a0e(0x125)]=undefined,a59_0x8916fe[a59_0xa52a0e(0x138)]=undefined,a59_0x8916fe[a59_0xa52a0e(0xfa)]={};function a59_0x1f38(_0x25d26c,_0x2d72c2){const _0x283ef5=a59_0x283e();return a59_0x1f38=function(_0x1f38ee,_0xa9da08){_0x1f38ee=_0x1f38ee-0x70;let _0x204bbd=_0x283ef5[_0x1f38ee];return _0x204bbd;},a59_0x1f38(_0x25d26c,_0x2d72c2);}class SharedPlaywrightSessionDetails{static ['currentSessionDetails']=a59_0x8916fe;constructor(){const _0x1f69eb=a59_0xa52a0e,_0x4f0cfa={};_0x4f0cfa[_0x1f69eb(0x10c)]=_0x1f69eb(0x8c);const _0x4f578d=_0x4f0cfa;throw new Error(_0x4f578d[_0x1f69eb(0x10c)]);}static [a59_0xa52a0e(0xc8)]=null;static[a59_0xa52a0e(0x13a)](_0x2a47ba,_0x1e8c51,_0x2ae535=null){const _0x45b1bb=a59_0xa52a0e,_0x321d8e={'FHiLn':function(_0x942a75,_0x21f7ed){return _0x942a75===_0x21f7ed;},'NPLeL':_0x45b1bb(0xbe),'xiIoY':_0x45b1bb(0xd8),'BgfHe':function(_0x3e21a3,_0x546092){return _0x3e21a3===_0x546092;},'AlLcI':'Device\x20Model\x20is\x20not\x20available','FRdMu':'local_grid','eaNXf':function(_0x59fba4,_0x17c977,_0x38b812){return _0x59fba4(_0x17c977,_0x38b812);},'FZwBX':_0x45b1bb(0xf7),'BTXKh':_0x45b1bb(0x9e),'VZGVa':_0x45b1bb(0x8a),'OlgKB':_0x45b1bb(0x109),'GrNGD':'connectOptions','YbwWy':function(_0x51a9d7,_0x1e1838){return _0x51a9d7(_0x1e1838);},'SKTZl':function(_0x37d02e,_0x41c1cf){return _0x37d02e===_0x41c1cf;},'sboxz':'browserstack','tszjH':_0x45b1bb(0x86),'DpYkY':'automate','RJveJ':function(_0x1e223e,_0x3c17bc){return _0x1e223e===_0x3c17bc;},'TqgIq':_0x45b1bb(0xcd),'jMNbB':function(_0x4f0742,_0x17657e){return _0x4f0742+_0x17657e;},'OUNJC':_0x45b1bb(0x122),'gvJam':function(_0x141910){return _0x141910();},'esilZ':function(_0x5342d7,_0x3e7a87,_0x4b77c5){return _0x5342d7(_0x3e7a87,_0x4b77c5);},'pLItc':_0x45b1bb(0x13a)},_0x5d231c=this;return _0x321d8e[_0x45b1bb(0x111)](o11yErrorHandler,async function _0x5d4a92(_0x33963e,_0x38ce5d,_0x7bf6af=null){const _0x786343=_0x45b1bb;let _0x21c0a1=_0x33963e[_0x786343(0x78)],_0x4a3523=null;_0x33963e&&_0x321d8e[_0x786343(0x12b)](typeof _0x33963e[_0x786343(0x80)],_0x321d8e[_0x786343(0x81)])?_0x4a3523=_0x33963e[_0x786343(0x80)]():logger[_0x786343(0x76)](_0x321d8e[_0x786343(0x135)]);let _0x226898=null;_0x33963e&&_0x321d8e['BgfHe'](typeof _0x33963e['model'],_0x321d8e[_0x786343(0x81)])?_0x226898=_0x33963e[_0x786343(0x97)]():logger[_0x786343(0x76)](_0x321d8e[_0x786343(0x93)]);let _0x1e608b=null,_0x3a946d=null,_0x50ab5d=null,_0x26441b=_0x321d8e['FRdMu'];if(_0x33963e[_0x786343(0xe2)][_0x786343(0x8b)]()||global['accessibilityPlatform']){let _0x155dae=null;_0x321d8e[_0x786343(0xc9)](nestedKeyValue,_0x33963e,[_0x321d8e[_0x786343(0xc0)],_0x321d8e[_0x786343(0xa8)]])?_0x155dae=_0x33963e[_0x786343(0xf7)]['_defaultConnectOptions']:_0x155dae=_0x321d8e['eaNXf'](nestedKeyValue,_0x38ce5d,[_0x321d8e[_0x786343(0x92)],_0x321d8e[_0x786343(0xbf)],_0x321d8e[_0x786343(0x10a)]]);const _0x4e4997=_0x7bf6af||_0x155dae&&_0x155dae[_0x786343(0xec)];if(_0x4e4997){_0x26441b=_0x321d8e[_0x786343(0xd7)](getCloudProviderFromWsEndpoint,_0x4e4997);if(_0x321d8e[_0x786343(0x7a)](_0x26441b,_0x321d8e[_0x786343(0x7c)])){_0x50ab5d=constants[_0x786343(0x123)]['test'](_0x4e4997)?_0x321d8e[_0x786343(0x124)]:_0x321d8e[_0x786343(0x71)];const _0x1a7124=_0x321d8e[_0x786343(0xd7)](getBrowserFromWSEndpoint,_0x4e4997);if(_0x1a7124&&(!_0x21c0a1||_0x321d8e[_0x786343(0x13c)](_0x21c0a1,_0x321d8e[_0x786343(0xcb)])))_0x21c0a1=_0x1a7124,logger['debug'](_0x786343(0x70)+_0x21c0a1);else _0x21c0a1&&logger[_0x786343(0x76)](_0x786343(0x129)+_0x21c0a1);_0x1e608b=_0x5d231c[_0x786343(0xe3)][_0x786343(0xac)],_0x3a946d=_0x5d231c[_0x786343(0xe3)][_0x786343(0x125)];}}}else{_0x38ce5d&&_0x38ce5d[_0x786343(0x8a)]&&_0x38ce5d[_0x786343(0x8a)]['use']&&_0x38ce5d[_0x786343(0x8a)][_0x786343(0x109)][_0x786343(0xc4)]?_0x21c0a1=_0x321d8e[_0x786343(0xd7)](getBrowserNameFromChannel,_0x38ce5d[_0x786343(0x8a)]['use'][_0x786343(0xc4)]):_0x21c0a1=_0x321d8e[_0x786343(0xf3)](_0x321d8e['OUNJC'],_0x21c0a1[_0x786343(0x99)]());const _0xd028e6=await _0x321d8e[_0x786343(0xc1)](getPlatformDetails);_0x1e608b=_0xd028e6[_0x786343(0xf6)],_0x3a946d=_0xd028e6['platformVersion'];}const _0x3418f3={};_0x3418f3['browser']=_0x21c0a1,_0x3418f3[_0x786343(0x12a)]=_0x4a3523,_0x3418f3[_0x786343(0xfa)]={},_0x3418f3[_0x786343(0xac)]=_0x1e608b,_0x3418f3[_0x786343(0x125)]=_0x3a946d,_0x3418f3['product']=_0x50ab5d;const _0x2dd985=_0x3418f3;_0x226898&&(_0x2dd985[_0x786343(0xfa)][_0x786343(0x11f)]=_0x226898);const _0x55b794={};_0x55b794['cloudProvider']=_0x26441b,_0x5d231c[_0x786343(0xe3)]=Object[_0x786343(0xc5)]({},_0x5d231c[_0x786343(0xe3)],_0x55b794,_0x2dd985);const _0x5c831e={};_0x5c831e[_0x786343(0xf1)]=_0x5d231c[_0x786343(0xe3)][_0x786343(0xf1)],_0x5c831e[_0x786343(0xe5)]=_0x5d231c[_0x786343(0xe3)]['browser_version'],_0x5c831e['platform']=_0x5d231c[_0x786343(0xe3)][_0x786343(0xac)],_0x5c831e[_0x786343(0x12d)]=_0x5d231c[_0x786343(0xe3)][_0x786343(0x125)],_0x5c831e['cloudProvider']=_0x5d231c[_0x786343(0xe3)]['cloudProvider'],_0x5c831e[_0x786343(0x138)]=_0x5d231c['currentSessionDetails'][_0x786343(0x138)],logger[_0x786343(0x76)](_0x786343(0x91)+JSON[_0x786343(0x11c)](_0x5c831e));},_0x321d8e[_0x45b1bb(0xae)])(_0x2a47ba,_0x1e8c51,_0x2ae535);}static['patch'](){const _0x6de5e5=a59_0xa52a0e;this[_0x6de5e5(0x83)](),this[_0x6de5e5(0xfc)]();}static[a59_0xa52a0e(0x83)](){const _0x51cc00=a59_0xa52a0e,_0x486e86={'ssPwS':function(_0x12fbf2,_0x31df89){return _0x12fbf2(_0x31df89);},'wevDh':_0x51cc00(0x95),'xTUKE':'client','xTvfn':_0x51cc00(0xab),'TtSLc':function(_0x42bda0,_0x4ef67b){return _0x42bda0(_0x4ef67b);},'hkavm':function(_0x4148f5,_0x236816){return _0x4148f5(_0x236816);},'zdUnp':_0x51cc00(0x103),'oBSuY':function(_0x3543a6,_0x5beb25){return _0x3543a6!=_0x5beb25;},'dgNTI':_0x51cc00(0xa3),'ShlmO':_0x51cc00(0x100),'qsolC':'Successfully\x20patched\x20Connection.dispatch','hYRqI':function(_0x36af5b,_0x42cb89){return _0x36af5b(_0x42cb89);}},_0x23d7c6=this;if(!this['Connection'])try{const _0x3269c4=[path[_0x51cc00(0x74)](_0x486e86[_0x51cc00(0x90)],_0x486e86[_0x51cc00(0xb0)],_0x486e86[_0x51cc00(0x11b)]),path[_0x51cc00(0x74)](_0x486e86[_0x51cc00(0x90)],_0x486e86['xTvfn']),path['join'](_0x486e86[_0x51cc00(0xb0)],_0x486e86[_0x51cc00(0x11b)])];for(const _0x1f0fa1 of _0x3269c4){try{const _0x1b4f45=_0x486e86['TtSLc'](importFileFromPWCore,_0x1f0fa1);if(_0x1b4f45&&_0x1b4f45[_0x51cc00(0xdd)]){this[_0x51cc00(0xdd)]=_0x1b4f45[_0x51cc00(0xdd)],logger['debug'](_0x51cc00(0x116)+_0x1f0fa1);break;}}catch(_0x4bc298){_0x486e86[_0x51cc00(0xc6)](debug,_0x51cc00(0x7e)+_0x1f0fa1+':\x20'+_0x4bc298['toString']());}}if(!this[_0x51cc00(0xdd)]){_0x486e86[_0x51cc00(0xfb)](debug,_0x486e86[_0x51cc00(0xd0)]);return;}}catch(_0x2d9976){_0x486e86[_0x51cc00(0xfb)](debug,_0x51cc00(0x7f)+_0x2d9976[_0x51cc00(0xb8)]());return;}const _0x45db4e=this[_0x51cc00(0xdd)];try{if(_0x486e86[_0x51cc00(0x117)](_0x45db4e,null)){const _0x48de8c=_0x45db4e[_0x51cc00(0x8d)]['dispatch'];if(!_0x486e86[_0x51cc00(0xc6)](isFalse,process[_0x51cc00(0xed)][_0x51cc00(0xb9)])){if(_0x45db4e[_0x51cc00(0x8d)][_0x51cc00(0x85)]){logger[_0x51cc00(0x76)](_0x486e86['dgNTI']);return;}Object[_0x51cc00(0xd5)](_0x45db4e[_0x51cc00(0x8d)],_0x486e86[_0x51cc00(0x72)],{'get':function(){return async function _0x569c7c(_0x5cb5c3){const _0x13b048=a59_0x1f38;if(BrowserstackCLI[_0x13b048(0xda)]()[_0x13b048(0x113)]()){const _0x35a281={};_0x35a281[_0x13b048(0xde)]=_0x5cb5c3,await BrowserstackCLI[_0x13b048(0xda)]()[_0x13b048(0xf8)]()[_0x13b048(0x98)](AutomationFrameworkState[_0x13b048(0xb4)],HookState[_0x13b048(0x12e)],_0x35a281);}else{const _0x4f9a06=_0x5cb5c3&&_0x5cb5c3[_0x13b048(0x11e)]&&_0x5cb5c3['params'][_0x13b048(0xf4)];if(_0x4f9a06){const _0x5a9ba3=_0x4f9a06[_0x13b048(0x12c)],_0x580ebc=_0x4f9a06['platformDetails'];_0x580ebc&&(_0x486e86[_0x13b048(0xc6)](debug,_0x13b048(0xaf)+_0x580ebc[_0x13b048(0xb8)]()),_0x23d7c6[_0x13b048(0xe3)][_0x13b048(0xac)]=_0x580ebc[_0x13b048(0xf6)],_0x23d7c6[_0x13b048(0xe3)][_0x13b048(0x125)]=_0x580ebc[_0x13b048(0x12d)]),_0x5a9ba3&&(_0x486e86[_0x13b048(0xc6)](debug,'Setting\x20session\x20id\x20received\x20from\x20BS\x20'+_0x5a9ba3),_0x23d7c6[_0x13b048(0xe3)][_0x13b048(0x136)]=_0x5a9ba3);}}return _0x48de8c[_0x13b048(0x105)](this,arguments);};}}),_0x45db4e['prototype'][_0x51cc00(0x85)]=!![],logger[_0x51cc00(0x76)](_0x486e86[_0x51cc00(0xb2)]);}}}catch(_0x208cae){_0x486e86[_0x51cc00(0xb6)](debug,_0x51cc00(0xbd)+_0x208cae),_0x23d7c6[_0x51cc00(0xc8)]=_0x208cae[_0x51cc00(0xb8)]();}}static['patchCRConnection'](){const _0x34b75f=a59_0xa52a0e,_0x52200c={'mUvFT':function(_0x4cdde2,_0x25fcb5){return _0x4cdde2(_0x25fcb5);},'VjeFF':function(_0x545373,_0x19aaea){return _0x545373(_0x19aaea);},'OSXlO':function(_0x29ff64,_0x5e3af6){return _0x29ff64(_0x5e3af6);},'xfXRR':_0x34b75f(0x95),'BqQWK':_0x34b75f(0x11a),'lXuxl':_0x34b75f(0xcd),'LZEoJ':_0x34b75f(0xaa),'sxeMm':function(_0xcd3adf,_0x12da62){return _0xcd3adf(_0x12da62);},'tBBRf':function(_0x302ad2,_0x22f006){return _0x302ad2(_0x22f006);},'NZQVy':'Not\x20able\x20to\x20import\x20crConnection','yKuNh':_0x34b75f(0xc2),'VXcek':function(_0x42e8bf,_0x49a4b1){return _0x42e8bf!=_0x49a4b1;},'OXqLm':_0x34b75f(0x104),'Qvkti':_0x34b75f(0x9b),'YGrVw':_0x34b75f(0xd3),'DMGWc':function(_0x4b3909,_0x1ac459){return _0x4b3909(_0x1ac459);}},_0x99f0b7=this;let _0x54a315=null;try{const _0x396e6f=path[_0x34b75f(0x74)](_0x52200c[_0x34b75f(0xa1)],_0x52200c[_0x34b75f(0xd1)],_0x52200c[_0x34b75f(0xf2)],_0x52200c['LZEoJ']),_0x35dc55=_0x52200c['sxeMm'](importFileFromPWCore,_0x396e6f);!_0x35dc55?_0x52200c[_0x34b75f(0x89)](debug,_0x52200c[_0x34b75f(0x133)]):_0x54a315=_0x35dc55['CRConnection'];}catch(_0x5090ab){_0x52200c[_0x34b75f(0x13b)](debug,_0x52200c[_0x34b75f(0xdc)]);}try{if(_0x52200c[_0x34b75f(0x12f)](_0x54a315,null)){const _0x3c5554=_0x54a315[_0x34b75f(0x8d)][_0x34b75f(0x9b)];if(_0x54a315['prototype'][_0x34b75f(0xc3)]){logger[_0x34b75f(0x76)](_0x52200c[_0x34b75f(0xea)]);return;}Object[_0x34b75f(0xd5)](_0x54a315['prototype'],_0x52200c[_0x34b75f(0xa2)],{'get':function(){return async function _0x453c17(_0x1aca67){const _0x5bb13b=a59_0x1f38;try{if(BrowserstackCLI[_0x5bb13b(0xda)]()[_0x5bb13b(0x113)]()){const _0x55a8b0={};_0x55a8b0['message']=_0x1aca67,await BrowserstackCLI[_0x5bb13b(0xda)]()['getAutomationFramework']()[_0x5bb13b(0x98)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState[_0x5bb13b(0x12e)],_0x55a8b0),delete _0x1aca67[_0x5bb13b(0xf9)];}else{const _0x2e70c3=_0x1aca67[_0x5bb13b(0xf9)];if(_0x2e70c3){delete _0x1aca67[_0x5bb13b(0xf9)];const _0x528a18=_0x2e70c3['sessionId'],_0x529bbf=_0x2e70c3[_0x5bb13b(0x75)];_0x529bbf&&(_0x52200c[_0x5bb13b(0xb7)](debug,_0x5bb13b(0xf5)+_0x529bbf['toString']()),_0x99f0b7[_0x5bb13b(0xe3)][_0x5bb13b(0xac)]=_0x529bbf[_0x5bb13b(0xf6)],_0x99f0b7[_0x5bb13b(0xe3)]['platform_version']=_0x529bbf[_0x5bb13b(0x12d)]),_0x528a18&&(_0x52200c['VjeFF'](debug,'Setting\x20session\x20id\x20received\x20from\x20browserstack\x20'+_0x528a18),_0x99f0b7[_0x5bb13b(0xe3)][_0x5bb13b(0x136)]=_0x528a18);}}}catch(_0xd656b6){_0x52200c[_0x5bb13b(0xeb)](debug,_0x5bb13b(0x11d)+_0xd656b6[_0x5bb13b(0xb8)]());}return _0x3c5554[_0x5bb13b(0x105)](this,arguments);};}}),_0x54a315[_0x34b75f(0x8d)][_0x34b75f(0xc3)]=!![],logger[_0x34b75f(0x76)](_0x52200c['YGrVw']);}}catch(_0xf63538){_0x52200c[_0x34b75f(0x84)](debug,'Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20'+_0xf63538),_0x99f0b7[_0x34b75f(0xc8)]=_0xf63538[_0x34b75f(0xb8)]();}}static[a59_0xa52a0e(0x7d)](_0x206d41,_0x1769a5){const _0x39fb3e=a59_0xa52a0e,_0x4acc09={'dwFLS':'bstack:options','hlKwa':function(_0x545155,_0x19d0dc){return _0x545155||_0x19d0dc;},'wtIjH':function(_0x4386ba,_0x208102){return _0x4386ba===_0x208102;},'gGUID':_0x39fb3e(0x139),'hJYeV':_0x39fb3e(0x131),'HJRQc':function(_0x4c5680,_0x1a92af){return _0x4c5680(_0x1a92af);},'OWiyo':function(_0x5c4838,_0x264a8c){return _0x5c4838(_0x264a8c);}};let _0xf6e68d=null,_0x5dc147=null;try{const _0x152e26=[_0x1769a5,global['__platformCaps'],global[_0x39fb3e(0xb3)]];for(const _0x10fee6 of _0x152e26){if(_0x10fee6&&(!_0x5dc147||!_0x5dc147[_0x39fb3e(0x12c)])){const _0xfd99ce=_0x10fee6[_0x39fb3e(0x12c)]||_0x10fee6[_0x4acc09[_0x39fb3e(0x107)]]?.[_0x39fb3e(0x12c)],_0x94b04a=_0x10fee6[_0x39fb3e(0x115)]||_0x10fee6[_0x39fb3e(0xf1)]||_0x10fee6[_0x4acc09['dwFLS']]?.['browserName'],_0x2bc638=_0x10fee6[_0x39fb3e(0xe5)]||_0x10fee6['browser_version']||_0x10fee6[_0x4acc09[_0x39fb3e(0x107)]]?.[_0x39fb3e(0xe5)],_0x339aa1=_0x10fee6['os']||_0x10fee6[_0x39fb3e(0xac)]||_0x10fee6[_0x4acc09['dwFLS']]?.['os'],_0x5851ea=_0x10fee6['osVersion']||_0x10fee6[_0x39fb3e(0xb5)]||_0x10fee6[_0x4acc09[_0x39fb3e(0x107)]]?.[_0x39fb3e(0xca)];if(_0x4acc09[_0x39fb3e(0xd6)](_0xfd99ce,_0x94b04a)||_0x339aa1){const _0x100ff5={};_0x100ff5[_0x39fb3e(0x115)]=_0x94b04a,_0x100ff5[_0x39fb3e(0xe5)]=_0x2bc638,_0x100ff5['os']=_0x339aa1,_0x100ff5[_0x39fb3e(0xca)]=_0x5851ea,_0x100ff5[_0x39fb3e(0xf6)]=_0x10fee6[_0x39fb3e(0xf6)]||_0x339aa1,_0x100ff5[_0x39fb3e(0x12d)]=_0x10fee6[_0x39fb3e(0x12d)]||_0x5851ea;const _0xc958c9={};_0xc958c9[_0x39fb3e(0x12c)]=_0xfd99ce,_0xc958c9['platformDetails']=_0x100ff5,_0x5dc147=_0xc958c9;if(_0x4acc09['hlKwa'](_0xfd99ce,_0x94b04a)){logger['debug'](_0x39fb3e(0xd2)+_0x94b04a+_0x39fb3e(0xe6)+_0x339aa1);break;}}}}if(_0x206d41&&_0x4acc09['wtIjH'](typeof _0x206d41,_0x4acc09[_0x39fb3e(0x96)]))try{const _0xf01512=url[_0x39fb3e(0x10b)](_0x206d41),_0x295097=new URLSearchParams(_0xf01512[_0x39fb3e(0x126)]),_0x4f7f53=Object[_0x39fb3e(0xa7)](_0x295097['entries']()),_0x30bfbd=[_0x4f7f53[_0x39fb3e(0xce)],_0x4f7f53[_0x39fb3e(0xfa)],_0x4f7f53[_0x39fb3e(0x87)]];for(const _0x29b341 of _0x30bfbd){if(_0x29b341&&(!_0xf6e68d||!_0xf6e68d[_0x39fb3e(0x12c)]))try{const _0x486e06=JSON['parse'](_0x29b341),_0x3c30ef={};_0x3c30ef[_0x39fb3e(0x12c)]=_0x486e06[_0x39fb3e(0x12c)]||_0x486e06[_0x4acc09[_0x39fb3e(0x107)]]?.[_0x39fb3e(0x12c)],_0x3c30ef[_0x39fb3e(0x75)]={},_0x3c30ef[_0x39fb3e(0x75)][_0x39fb3e(0x115)]=_0x486e06[_0x39fb3e(0x115)]||_0x486e06['browser'],_0x3c30ef[_0x39fb3e(0x75)][_0x39fb3e(0xe5)]=_0x486e06[_0x39fb3e(0xe5)]||_0x486e06[_0x39fb3e(0x12a)],_0x3c30ef[_0x39fb3e(0x75)]['os']=_0x486e06['os']||_0x486e06[_0x39fb3e(0xac)],_0x3c30ef[_0x39fb3e(0x75)][_0x39fb3e(0xca)]=_0x486e06[_0x39fb3e(0xca)]||_0x486e06[_0x39fb3e(0xb5)],_0x3c30ef[_0x39fb3e(0x75)]['platformName']=_0x486e06[_0x39fb3e(0xf6)]||_0x486e06['os']||_0x486e06[_0x39fb3e(0xac)],_0x3c30ef[_0x39fb3e(0x75)][_0x39fb3e(0x12d)]=_0x486e06[_0x39fb3e(0x12d)]||_0x486e06[_0x39fb3e(0xca)]||_0x486e06[_0x39fb3e(0xb5)],_0xf6e68d=_0x3c30ef;if(_0xf6e68d[_0x39fb3e(0x12c)]||_0xf6e68d[_0x39fb3e(0x75)][_0x39fb3e(0x115)]){logger[_0x39fb3e(0x76)](_0x4acc09[_0x39fb3e(0x120)]);break;}}catch(_0x4eb56d){_0x4acc09[_0x39fb3e(0xfe)](debug,_0x39fb3e(0xe1)+_0x4eb56d[_0x39fb3e(0xb8)]());}}}catch(_0x1ea7d7){_0x4acc09['OWiyo'](debug,_0x39fb3e(0x132)+_0x1ea7d7['toString']());}}catch(_0x437049){_0x4acc09[_0x39fb3e(0xfe)](debug,_0x39fb3e(0x9d)+util['format'](_0x437049));}const _0x91c59b={};return _0x91c59b['bsParams']=_0xf6e68d,_0x91c59b[_0x39fb3e(0xf9)]=_0x5dc147,_0x91c59b;}static async[a59_0xa52a0e(0xe8)](_0x30878d,_0x300689){const _0x1ac931=a59_0xa52a0e,_0x5cc92b={'DhdGo':function(_0x17c723,_0x4a3a05){return _0x17c723||_0x4a3a05;},'wTuRH':_0x1ac931(0x8e),'rKFVK':function(_0x5d1bcc,_0x3aa75a){return _0x5d1bcc(_0x3aa75a);}};try{if(!BrowserstackCLI[_0x1ac931(0xda)]()['isRunning']())return;if(_0x5cc92b[_0x1ac931(0x101)](_0x30878d,_0x300689)){logger[_0x1ac931(0x76)](_0x5cc92b[_0x1ac931(0x77)]);const _0x1361aa={'params':_0x30878d?{'bsParams':_0x30878d}:null,'bStackParams':_0x5cc92b[_0x1ac931(0x101)](_0x300689,null)},_0x79e2e6=AutomationFramework['getTrackedInstance'](),_0x30ec48={};_0x30ec48[_0x1ac931(0xde)]=_0x1361aa,_0x30ec48[_0x1ac931(0x128)]=_0x79e2e6,await BrowserstackCLI['getInstance']()[_0x1ac931(0xf8)]()[_0x1ac931(0x98)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState['POST'],_0x30ec48);}}catch(_0x5e381a){_0x5cc92b[_0x1ac931(0xdb)](debug,'Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20'+util[_0x1ac931(0x9f)](_0x5e381a));}}static['getDetails'](){return this['currentSessionDetails'];}}function a59_0x283e(){const _0x176496=['chromium','caps','webkit','zdUnp','BqQWK','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','Successfully\x20patched\x20CRConnection._onMessage','zgHyv','defineProperty','hlKwa','YbwWy','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','209540vrqKoG','getInstance','rKFVK','yKuNh','Connection','message','5488lperWA','QbpUn','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','_connection','currentSessionDetails','gjNdK','browserVersion',',\x20os=','unknown_grid','triggerPlaywrightDispatchEvent','1494520tHoZJv','OXqLm','OSXlO','wsEndpoint','env','59493arEQEX','gecko','includes','browser','lXuxl','jMNbB','bsParams','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','platformName','_browserType','getAutomationFramework','bStackParams','capabilities','hkavm','patchCRConnection','chrome','HJRQc','edge','dispatch','DhdGo','VqvVW','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','CRConnection\x20already\x20patched','apply','QqPou','dwFLS','DPytZ','use','GrNGD','parse','DQrzk','entries','2934gagXno','NFXWZ','SQyiU','esilZ','firefox','isRunning','BSTACK_URL','browserName','Found\x20Connection\x20class\x20at:\x20','oBSuY','msedge','856482ZJxjPo','server','xTvfn','stringify','Error\x20in\x20finding\x20platform\x20details\x20','params','deviceModel','hJYeV','BSTACK_ATS_URL','playwright-','ATS_WSS_URL_REGEX','tszjH','platform_version','query','OYVYD','instance','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','browser_version','FHiLn','sessionId','platformVersion','POST','VXcek','../../helpers/logger','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','Error\x20parsing\x20WebSocket\x20endpoint:\x20','NZQVy','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','xiIoY','bsSessionId','cloudProvider','product','string','setupBrowserDetails','sxeMm','RJveJ','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','DpYkY','ShlmO','24146MNsSRl','join','platformDetails','debug','wTuRH','_name','browserstack','SKTZl','url','sboxz','extractBrowserStackParams','Failed\x20to\x20import\x20connection\x20from\x20','Error\x20in\x20importing\x20connection\x20','version','NPLeL','bstack:options','patchConnection','DMGWc','_bstackDispatchPatched','turboscale','desiredCapabilities','RFIEw','tBBRf','project','isRemote','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','prototype','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','util','wevDh','Session\x20details\x20setup\x20complete:\x20','VZGVa','AlLcI','../../helpers/helper','lib','gGUID','model','trackEvent','toLowerCase','lLYfT','_onMessage','7NuPEJe','Error\x20extracting\x20BrowserStack\x20parameters:\x20','_defaultConnectOptions','format','../../helpers/test-observability/error-handler','xfXRR','Qvkti','Connection\x20dispatch\x20already\x20patched','path','33rnlAjE','2254210BECNIt','fromEntries','BTXKh','browserstack_capabilities','crConnection.js','connection.js','platform','../v2/state/automationFrameworkState.js','pLItc','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','xTUKE','YrsXn','qsolC','capabilties','PLAYWRIGHT_DISPATCH','os_version','hYRqI','mUvFT','toString','BROWSERSTACK_TEST_OBSERVABILITY','NgxGh','exports','OeoIG','Error\x20in\x20applying\x20Connection\x20patch\x20','function','OlgKB','FZwBX','gvJam','Error\x20in\x20importing\x20crConnection','_bstackCRPatched','channel','assign','ssPwS','safari','sessionError','eaNXf','osVersion','TqgIq','../../helpers/test-observability/utils'];a59_0x283e=function(){return _0x176496;};return a59_0x283e();}module[a59_0xa52a0e(0xbb)]=SharedPlaywrightSessionDetails;