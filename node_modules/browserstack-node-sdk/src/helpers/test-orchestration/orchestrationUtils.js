const a130_0x571f23=a130_0x4969;function a130_0x4969(_0x442653,_0x4640b8){const _0x34a272=a130_0x34a2();return a130_0x4969=function(_0x49693a,_0x373975){_0x49693a=_0x49693a-0xb9;let _0x48b883=_0x34a272[_0x49693a];return _0x48b883;},a130_0x4969(_0x442653,_0x4640b8);}(function(_0x3ee1b4,_0x4363a8){const _0x5338d2=a130_0x4969,_0x308eef=_0x3ee1b4();while(!![]){try{const _0x46f3c7=parseInt(_0x5338d2(0xee))/0x1+parseInt(_0x5338d2(0xdd))/0x2*(parseInt(_0x5338d2(0xc2))/0x3)+-parseInt(_0x5338d2(0xca))/0x4+-parseInt(_0x5338d2(0xce))/0x5*(parseInt(_0x5338d2(0xba))/0x6)+-parseInt(_0x5338d2(0xf5))/0x7*(parseInt(_0x5338d2(0xdb))/0x8)+parseInt(_0x5338d2(0xde))/0x9*(parseInt(_0x5338d2(0xd4))/0xa)+parseInt(_0x5338d2(0xc6))/0xb;if(_0x46f3c7===_0x4363a8)break;else _0x308eef['push'](_0x308eef['shift']());}catch(_0x38d0ff){_0x308eef['push'](_0x308eef['shift']());}}}(a130_0x34a2,0x5a77a));function a130_0x34a2(){const _0x3c7ed4=['jest','abort_build_','isAbortBuildOnFailureEnabled','fwSVN','env','295866oXXFwg','skipFlakyAndFailed','_setTestOrdering','testOrchestrationOptions','runPreviouslyFailedFirst','winstonLogger','has','7uQyHsy','getInstance','getName','getSkipFlakyAndFailed','run_previously_failed_first','144mhBuIV','getRunPreviouslyFailedFirst','getRetryCount','.txt','appendFileSync','failed_tests_','config','retryTestsOnFailure','2210880DvuWQo','getOrchestrationData','_instance','getFailureThreshold','4340963PhNkoV','testOrdering','getTestOrderingName','writeFailureToFile','1476276Jixcda','skipFlakyandFailed','exzBN','getRerunPreviouslyFailed','28770IzzxNI','rerunPreviouslyFailed','_setRunPreviouslyFailedFirst','disable','abortBuildOnFailure','isAbortBuildOnFailureSupported','190urhbGl','getEnabled','name','abort_build_on_failure','isRetryEnabled','_setSkipFlakyAndFailed','join','5900136YDecEn','enable','2kPkbQd','88947ecKIVe','path','_setRerunPreviouslyFailed','toLowerCase','tmpdir','retry_tests_on_failure','existsSync','maxFailures','enabled','BROWSERSTACK_TESTHUB_UUID','../logger'];a130_0x34a2=function(){return _0x3c7ed4;};return a130_0x34a2();}const os=require('os'),path=require(a130_0x571f23(0xdf)),fs=require('fs'),logger=require(a130_0x571f23(0xe8))[a130_0x571f23(0xf3)],RETRY_TESTS_ON_FAILURE=a130_0x571f23(0xc1),ABORT_BUILD_ON_FAILURE=a130_0x571f23(0xd2),RUN_PREVIOUSLY_FAILED_FIRST='runPreviouslyFailedFirst',RERUN_PREVIOUSLY_FAILED=a130_0x571f23(0xcf),SKIP_FLAKY_AND_FAILED=a130_0x571f23(0xcb),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a130_0x571f23(0xe9)]);class TestOrdering{constructor(){const _0x29ddc3=a130_0x571f23;this[_0x29ddc3(0xe6)]=![],this[_0x29ddc3(0xd6)]=null;}['enable'](_0x298a81){const _0x49ca91=a130_0x571f23;this[_0x49ca91(0xe6)]=!![],this[_0x49ca91(0xd6)]=_0x298a81;}[a130_0x571f23(0xd1)](){const _0x59ba71=a130_0x571f23;this[_0x59ba71(0xe6)]=![],this['name']=null;}['getEnabled'](){const _0x13e395=a130_0x571f23;return this[_0x13e395(0xe6)];}['getName'](){const _0x470d90=a130_0x571f23;return this[_0x470d90(0xd6)];}}class OrchestrationUtils{static [a130_0x571f23(0xc4)]=null;constructor(_0x2fa105){const _0x1ced5f=a130_0x571f23,_0x531bee={};_0x531bee[_0x1ced5f(0xcc)]=function(_0x3b5375,_0x1aebf8){return _0x3b5375||_0x1aebf8;};const _0x51e570=_0x531bee;this['runPreviouslyFailedFirst']=![],this['rerunPreviouslyFailed']=![],this[_0x1ced5f(0xef)]=![],this['testOrdering']=new TestOrdering(),this[_0x1ced5f(0xc0)]=_0x51e570['exzBN'](_0x2fa105,{});const _0x399775=_0x2fa105&&_0x2fa105[_0x1ced5f(0xf1)]||{};this[_0x1ced5f(0xd0)](_0x399775[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x1ced5f(0xe0)](_0x399775[RERUN_PREVIOUSLY_FAILED]||![]),this['_setSkipFlakyAndFailed'](_0x399775[SKIP_FLAKY_AND_FAILED]||![]);}static[a130_0x571f23(0xf6)](_0x475078){const _0x33134a=a130_0x571f23;return!OrchestrationUtils[_0x33134a(0xc4)]&&_0x475078&&(OrchestrationUtils[_0x33134a(0xc4)]=new OrchestrationUtils(_0x475078)),OrchestrationUtils[_0x33134a(0xc4)];}[a130_0x571f23(0xd8)](){const _0x469f78=a130_0x571f23,_0x1ac911=(this[_0x469f78(0xc0)][_0x469f78(0xf1)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x1ac911[_0x469f78(0xe6)];}[a130_0x571f23(0xbc)](){const _0x4c3376=a130_0x571f23,_0x3a174c=(this[_0x4c3376(0xc0)]['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x38be70=0x0;return this['isRetryEnabled'](this['config'])&&(_0x38be70=_0x3a174c['maxRetries']||0x1),_0x38be70;}[a130_0x571f23(0xc3)](){const _0x4a900e=a130_0x571f23,_0x4bb2f0=this[_0x4a900e(0xc0)][_0x4a900e(0xf1)]||{},_0x2655a1={};for(const _0x327c5b in _0x4bb2f0){ALLOWED_ORCHESTRATION_KEYS[_0x4a900e(0xf4)](_0x327c5b)&&(_0x2655a1[_0x327c5b]=_0x4bb2f0[_0x327c5b]);}return _0x2655a1;}['checkAbortBuildFileExists'](){const _0x783378=a130_0x571f23,_0x3a1741=process[_0x783378(0xed)]['BROWSERSTACK_TESTHUB_UUID'],_0x789330=path['join'](os[_0x783378(0xe2)](),_0x783378(0xea)+_0x3a1741);return fs[_0x783378(0xe4)](_0x789330);}[a130_0x571f23(0xc9)](_0x59e301){const _0x17bef7=a130_0x571f23,_0x4b5ad0=process[_0x17bef7(0xed)][_0x17bef7(0xe7)],_0x2a4b3d=path[_0x17bef7(0xda)](os[_0x17bef7(0xe2)](),_0x17bef7(0xbf)+_0x4b5ad0+_0x17bef7(0xbd));fs[_0x17bef7(0xbe)](_0x2a4b3d,_0x59e301+'\x0a');}[a130_0x571f23(0xd3)](_0x594e4c){const _0x1a7ab4=a130_0x571f23,_0xc90f75={};_0xc90f75[_0x1a7ab4(0xec)]=function(_0x2aa9d3,_0x187770){return _0x2aa9d3||_0x187770;};const _0x26ecfb=_0xc90f75;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x1a7ab4(0xf4)](_0x26ecfb[_0x1a7ab4(0xec)](_0x594e4c,'')[_0x1a7ab4(0xe1)]());}['isAbortBuildOnFailureEnabled'](){const _0x576e1f=a130_0x571f23,_0xcb1e08=(this['config'][_0x576e1f(0xf1)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0xcb1e08['enabled'];}[a130_0x571f23(0xc5)](){const _0x136e74=a130_0x571f23,_0xa7e5fe=(this['config'][_0x136e74(0xf1)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0xa7e5fe[_0x136e74(0xe5)]||0x5;;}[a130_0x571f23(0xbb)](){return this['runPreviouslyFailedFirst'];}['_setRunPreviouslyFailedFirst'](_0x4f3812){const _0x4cdcbd=a130_0x571f23;this[_0x4cdcbd(0xf2)]=!!_0x4f3812,this[_0x4cdcbd(0xf0)]();}[a130_0x571f23(0xcd)](){const _0x9ffba7=a130_0x571f23;return this[_0x9ffba7(0xcf)];}[a130_0x571f23(0xe0)](_0x180310){this['rerunPreviouslyFailed']=!!_0x180310,this['_setTestOrdering']();}['getSkipFlakyAndFailed'](){const _0x1fc8a1=a130_0x571f23;return this[_0x1fc8a1(0xef)];}[a130_0x571f23(0xd9)](_0x4bd4f4){const _0x1aa727=a130_0x571f23;this[_0x1aa727(0xef)]=!!_0x4bd4f4,this[_0x1aa727(0xf0)]();}[a130_0x571f23(0xf0)](){const _0x5f1108=a130_0x571f23;if(this[_0x5f1108(0xf2)])this[_0x5f1108(0xcf)]=![],this[_0x5f1108(0xef)]=![],this[_0x5f1108(0xc7)][_0x5f1108(0xdc)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this['rerunPreviouslyFailed'])this[_0x5f1108(0xf2)]=![],this['skipFlakyAndFailed']=![],this[_0x5f1108(0xc7)][_0x5f1108(0xdc)](RERUN_PREVIOUSLY_FAILED);else this[_0x5f1108(0xef)]?(this[_0x5f1108(0xf2)]=![],this[_0x5f1108(0xcf)]=![],this['testOrdering'][_0x5f1108(0xdc)](SKIP_FLAKY_AND_FAILED)):this[_0x5f1108(0xc7)][_0x5f1108(0xd1)]();}}['testOrderingEnabled'](){const _0x58d221=a130_0x571f23;return this['testOrdering'][_0x58d221(0xd5)]();}[a130_0x571f23(0xc8)](){const _0x232205=a130_0x571f23;if(this[_0x232205(0xc7)][_0x232205(0xd5)]())return this[_0x232205(0xc7)][_0x232205(0xf7)]();return null;}['getBuildStartData'](){const _0x4bd23d=a130_0x571f23,_0x27fff6={};return _0x27fff6['rerun_previously_failed']={'enabled':this[_0x4bd23d(0xcd)]()},_0x27fff6[_0x4bd23d(0xb9)]={'enabled':this['getRunPreviouslyFailedFirst']()},_0x27fff6['skip_failing_and_flaky']={'enabled':this[_0x4bd23d(0xf8)]()},this[_0x4bd23d(0xd8)]()&&(_0x27fff6[_0x4bd23d(0xe3)]={'enabled':!![],'max_retries':this[_0x4bd23d(0xbc)]()}),this[_0x4bd23d(0xeb)]()&&(_0x27fff6[_0x4bd23d(0xd7)]={'enabled':!![],'max_failures':this[_0x4bd23d(0xc5)]()}),_0x27fff6;}}module['exports']=OrchestrationUtils;