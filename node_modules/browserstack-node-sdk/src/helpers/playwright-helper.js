const a118_0x251908=a118_0x4191;function a118_0x4191(_0x331152,_0x141463){const _0x274613=a118_0x2746();return a118_0x4191=function(_0x41910b,_0x350764){_0x41910b=_0x41910b-0x1d7;let _0x415d37=_0x274613[_0x41910b];return _0x415d37;},a118_0x4191(_0x331152,_0x141463);}(function(_0x500388,_0x596e94){const _0x5a42ae=a118_0x4191,_0x3399aa=_0x500388();while(!![]){try{const _0x16d1b2=-parseInt(_0x5a42ae(0x214))/0x1*(parseInt(_0x5a42ae(0x1db))/0x2)+-parseInt(_0x5a42ae(0x238))/0x3*(parseInt(_0x5a42ae(0x216))/0x4)+-parseInt(_0x5a42ae(0x215))/0x5*(-parseInt(_0x5a42ae(0x1e2))/0x6)+-parseInt(_0x5a42ae(0x204))/0x7+parseInt(_0x5a42ae(0x1d8))/0x8*(-parseInt(_0x5a42ae(0x1d9))/0x9)+parseInt(_0x5a42ae(0x1d7))/0xa+parseInt(_0x5a42ae(0x239))/0xb;if(_0x16d1b2===_0x596e94)break;else _0x3399aa['push'](_0x3399aa['shift']());}catch(_0xe709c3){_0x3399aa['push'](_0x3399aa['shift']());}}}(a118_0x2746,0x82779));function a118_0x2746(){const _0x4ce878=['getModifiedConfigFromCLI','LZqtQ','wxnIB','EWeyW','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','message','join','463547svMGNa','1870jQpwPj','20msbckx','DDXeJ','Detected\x20Playwright\x20version\x20','ETozL','lfaHf','./testhub/utils','error','tRHCC','reVjN','Received\x20modified\x20config\x20from\x20gRPC:\x20','env','getBuildProductMap','vcUNb','xPsGV','./logger','exports','checkPwandBootstrapCli','isArray','getPlaywrightConfig','lib','framework','use','browserType.js','fhqPB','setBrowserstackConfig','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','../bin/v2/cliUtils','UlVpV','PLAYWRIGHT','./w3cMapping','QoObT','../bin/v2/grpcClient','__launchCaps','capabilities','402879YVEroH','15422704yjPXmt','Could\x20not\x20import\x20GrpcClient:\x20','isPlaywrightAvailable','./helper','convertW3CToJsonWire','FRAMEWORKS','cISHm','wXPyP','__platformCaps','BS_A11Y_JWT','winstonLogger','browserstack.accessibilityOptions.scannerProcessingTimeout','BROWSERSTACK_TESTHUB_UUID','dVwmZ','jJdVa','KpswY','5026410ZKvMLx','1953856VjojAq','9HdFmKU','projects','4fYboLD','entries','getBrowserTypePath','browserName','ApfKJ','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','KyXkU','13290ZKkXeS','LUnKp','hpKDG','length','browserstack.accessibilityOptions.authToken','Error\x20getting\x20Playwright\x20BrowserType:\x20','config','DTAwj','generatePlaywrightUrl','getConfig','format','GdnuM','No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response','getPlaywrightUrl','HnYMV','getPlaywrightModulePath','debug','browserstack.buildProductMap','client','stringify','rcSPM','BROWSERSTACK_PRODUCT_MAP','xVAdd','path','No\x20modified\x20config\x20received\x20from\x20gRPC','../bin/utils/constants','getInstance','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','fvMum','WdBEb','bootstrap','platformCaps','\x20flow','BrowserType','2491517otvVxR','Playwright\x20not\x20available:\x20','RxXJS','SqFzq','browserstack.accessibilityOptions.wcagVersion','TQUfT','xTTHN','yBEeU','browser'];a118_0x2746=function(){return _0x4ce878;};return a118_0x2746();}const path=require(a118_0x251908(0x1f9)),util=require('util'),{importFileFromPWCore}=require(a118_0x251908(0x23c)),helper=require(a118_0x251908(0x23c)),logger=require(a118_0x251908(0x224))[a118_0x251908(0x243)],W3CMapping=require(a118_0x251908(0x233))['W3CMapping'](),constants=require(a118_0x251908(0x1fb)),BrowserstackCLI=require('../bin/v2/browserstackCLI'),CLIUtils=require(a118_0x251908(0x230));let GrpcClient;try{GrpcClient=require(a118_0x251908(0x235));}catch(a118_0x542db5){logger[a118_0x251908(0x1f2)](a118_0x251908(0x23a)+a118_0x542db5['message']),GrpcClient=null;}const convertW3CToJsonWire=_0x193080=>{const _0xdeb77c=a118_0x251908,_0x1b4530={};_0x1b4530[_0xdeb77c(0x1f0)]=function(_0x21ea44,_0x10e823){return _0x21ea44||_0x10e823;},_0x1b4530[_0xdeb77c(0x1f8)]=function(_0x513185,_0x485c0e){return _0x513185===_0x485c0e;},_0x1b4530[_0xdeb77c(0x1e3)]='bstack:options',_0x1b4530['AtVAz']=function(_0x1c2eba,_0x36089a){return _0x1c2eba in _0x36089a;};const _0x4d9bb8=_0x1b4530,_0x2ebecb={};for(const [_0x30d01d,_0x32cc86]of Object[_0xdeb77c(0x1dc)](_0x4d9bb8[_0xdeb77c(0x1f0)](_0x193080,{}))){if(_0x4d9bb8[_0xdeb77c(0x1f8)](_0x30d01d,_0x4d9bb8['LUnKp']))continue;let _0x323025=![];for(const [_0x542815,_0x34ca3a]of Object[_0xdeb77c(0x1dc)](W3CMapping)){if(_0x4d9bb8[_0xdeb77c(0x1f8)](_0x30d01d,_0x34ca3a)){_0x2ebecb[_0x542815]=_0x32cc86,_0x323025=!![];break;}}!_0x323025&&(_0x2ebecb[_0x30d01d]=_0x32cc86);}const _0xabfd46=_0x193080[_0x4d9bb8[_0xdeb77c(0x1e3)]]||{};for(const [_0x2018a5,_0xe75caa]of Object[_0xdeb77c(0x1dc)](_0xabfd46)){let _0xc23e14=![];for(const [_0x2a5831,_0x3fea02]of Object[_0xdeb77c(0x1dc)](W3CMapping)){if(_0x4d9bb8['xVAdd'](_0x2018a5,_0x3fea02)){_0x2ebecb[_0x2a5831]=_0xe75caa,_0xc23e14=!![];break;}}!_0xc23e14&&!_0x4d9bb8['AtVAz'](_0x2018a5,_0x2ebecb)&&(_0x2ebecb[_0x2018a5]=_0xe75caa);}return logger[_0xdeb77c(0x1f2)](_0xdeb77c(0x211)+JSON[_0xdeb77c(0x1f5)](_0x2ebecb)),_0x2ebecb;},getModifiedConfigFromCLI=async _0x325087=>{const _0x247b51=a118_0x251908,_0x411856={};_0x411856[_0x247b51(0x21a)]=_0x247b51(0x1e0),_0x411856['gzYDx']='cucumberjs-pw',_0x411856[_0x247b51(0x1ff)]='Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw',_0x411856[_0x247b51(0x20f)]=_0x247b51(0x1fa),_0x411856['UlVpV']=function(_0x491966,_0x59bb81){return _0x491966>_0x59bb81;},_0x411856[_0x247b51(0x222)]=function(_0x54cf32,_0x232797){return _0x54cf32>_0x232797;},_0x411856[_0x247b51(0x1e9)]=_0x247b51(0x1ee);const _0x3a16c8=_0x411856;try{if(!GrpcClient)return logger[_0x247b51(0x1f2)](_0x3a16c8['lfaHf']),null;const _0x26df77={};_0x26df77[_0x247b51(0x237)]=_0x325087,_0x26df77[_0x247b51(0x22a)]=_0x3a16c8['gzYDx'],_0x26df77['workers']=0x1,_0x26df77['projects']=[];const _0x2bfdc1=_0x26df77;logger[_0x247b51(0x1f2)](_0x3a16c8[_0x247b51(0x1ff)]);const _0x963d15={};_0x963d15['playwrightConfigObject']=_0x2bfdc1;const _0x426564=await GrpcClient[_0x247b51(0x1fc)]()[_0x247b51(0x228)](_0x963d15);if(!_0x426564[_0x247b51(0x1eb)]())return logger[_0x247b51(0x1f2)](_0x3a16c8['wxnIB']),null;const _0x58be9f=JSON['parse'](_0x426564['getConfig']());logger[_0x247b51(0x1f2)](_0x247b51(0x21f)+JSON[_0x247b51(0x1f5)](_0x58be9f));if(_0x58be9f[_0x247b51(0x237)]&&Array[_0x247b51(0x227)](_0x58be9f['capabilities'])&&_0x3a16c8[_0x247b51(0x231)](_0x58be9f['capabilities'][_0x247b51(0x1e5)],0x0))return _0x58be9f[_0x247b51(0x237)][0x0];else{if(_0x58be9f[_0x247b51(0x1da)]&&Array[_0x247b51(0x227)](_0x58be9f[_0x247b51(0x1da)])&&_0x3a16c8[_0x247b51(0x222)](_0x58be9f[_0x247b51(0x1da)]['length'],0x0)){const _0x17844e=_0x58be9f[_0x247b51(0x1da)][0x0];if(_0x17844e[_0x247b51(0x22b)]&&_0x17844e[_0x247b51(0x22b)][_0x247b51(0x201)])return _0x17844e[_0x247b51(0x22b)][_0x247b51(0x201)];}}return logger[_0x247b51(0x1f2)](_0x3a16c8[_0x247b51(0x1e9)]),null;}catch(_0xcc6730){logger[_0x247b51(0x21c)]('Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20'+_0xcc6730[_0x247b51(0x212)]);throw _0xcc6730;}},generatePlaywrightUrl=(_0x16854d,_0x4c42b3)=>{const _0x181056=a118_0x251908,_0x367808={'SqFzq':function(_0x33a19e,_0x16312f){return _0x33a19e!==_0x16312f;},'fhqPB':function(_0x24885f,_0x1785dd){return _0x24885f!==_0x1785dd;},'EWeyW':function(_0x46c51f,_0x1eeefe){return _0x46c51f!==_0x1eeefe;},'rcSPM':function(_0x4bdbac,_0x57af29){return _0x4bdbac!==_0x57af29;},'TQUfT':function(_0x170c84,_0x13a36c){return _0x170c84(_0x13a36c);},'ApfKJ':function(_0x5a04b0,_0x43dab3){return _0x5a04b0||_0x43dab3;},'KpswY':_0x181056(0x1e6),'DDXeJ':function(_0x5b09ac,_0x3b9fd7){return _0x5b09ac(_0x3b9fd7);},'fvMum':_0x181056(0x208),'jJdVa':function(_0xf7d5bc,_0x13a439){return _0xf7d5bc(_0x13a439);},'ETozL':'browserstack.accessibilityOptions.scannerVersion','dVwmZ':function(_0x1813c5,_0x5b392d){return _0x1813c5(_0x5b392d);},'WwcGS':_0x181056(0x244),'QoObT':'browserstack.testhubBuildUuid','cISHm':_0x181056(0x1f3),'sGrpb':function(_0x5bb248,_0x2ca915){return _0x5bb248+_0x2ca915;},'KTNLt':function(_0x475a2b,_0x19d5c1){return _0x475a2b(_0x19d5c1);}},_0x3a3bc9=helper[_0x181056(0x1ef)](_0x16854d),_0x3dfef8=_0x367808[_0x181056(0x209)](convertW3CToJsonWire,_0x4c42b3);try{const _0xe7a0e6=[_0x367808[_0x181056(0x1df)](_0x4c42b3,{}),global[_0x181056(0x236)]||{},global[_0x181056(0x241)]||{},global['__accessibilityOptions']||{}],_0x23358d=_0x5cd46a=>{const _0x4dbcf2=_0x181056;if(_0x367808[_0x4dbcf2(0x207)](_0x3dfef8[_0x5cd46a],undefined)&&_0x367808[_0x4dbcf2(0x22d)](_0x3dfef8[_0x5cd46a],null)&&_0x367808[_0x4dbcf2(0x22d)](_0x3dfef8[_0x5cd46a],''))return;for(const _0x1c3a3e of _0xe7a0e6){if(_0x1c3a3e&&_0x367808['fhqPB'](_0x1c3a3e[_0x5cd46a],undefined)&&_0x367808[_0x4dbcf2(0x210)](_0x1c3a3e[_0x5cd46a],null)&&_0x367808[_0x4dbcf2(0x1f6)](_0x1c3a3e[_0x5cd46a],'')){_0x3dfef8[_0x5cd46a]=_0x1c3a3e[_0x5cd46a];return;}}};_0x367808[_0x181056(0x209)](_0x23358d,_0x367808[_0x181056(0x248)]),_0x367808[_0x181056(0x217)](_0x23358d,_0x367808[_0x181056(0x1fe)]),_0x367808[_0x181056(0x247)](_0x23358d,_0x367808[_0x181056(0x219)]),_0x367808[_0x181056(0x246)](_0x23358d,_0x367808['WwcGS']),!_0x3dfef8[_0x367808['KpswY']]&&process['env'][_0x181056(0x242)]&&(_0x3dfef8[_0x367808[_0x181056(0x248)]]=process[_0x181056(0x220)][_0x181056(0x242)]);}catch(_0x31f28f){logger[_0x181056(0x1f2)]('Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20'+util[_0x181056(0x1ec)](_0x31f28f));}return _0x3dfef8[_0x367808[_0x181056(0x234)]]=process[_0x181056(0x220)][_0x181056(0x245)],_0x3dfef8[_0x367808[_0x181056(0x23f)]]=helper[_0x181056(0x221)](),_0x367808['sGrpb'](_0x3a3bc9,_0x367808['KTNLt'](encodeURIComponent,JSON[_0x181056(0x1f5)](_0x3dfef8)));},getBrowserFromCaps=_0x2dfc2b=>{const _0x1b4fd9=a118_0x251908,_0x1d2192={};_0x1d2192[_0x1b4fd9(0x206)]='chrome';const _0x3bc34d=_0x1d2192;return _0x2dfc2b[_0x1b4fd9(0x1de)]||_0x2dfc2b[_0x1b4fd9(0x20c)]||_0x3bc34d['RxXJS'];},isPlaywrightAvailable=()=>{const _0x5edb2d=a118_0x251908,_0x355e1c={'wXPyP':_0x5edb2d(0x229),'KyXkU':_0x5edb2d(0x1f4),'vfbXI':_0x5edb2d(0x22c),'ZsrTA':function(_0x142bc1,_0x59c04c){return _0x142bc1(_0x59c04c);}};try{const _0x205ab5=path[_0x5edb2d(0x213)](_0x355e1c[_0x5edb2d(0x240)],_0x355e1c[_0x5edb2d(0x1e1)],_0x355e1c['vfbXI']),_0x4a30cd=_0x355e1c['ZsrTA'](importFileFromPWCore,_0x205ab5);return!!_0x4a30cd;}catch(_0x134c2d){return logger[_0x5edb2d(0x1f2)](_0x5edb2d(0x205)+util[_0x5edb2d(0x1ec)](_0x134c2d)),![];}},getPlaywrightBrowserType=()=>{const _0x15f589=a118_0x251908,_0xcd4274={'yBEeU':'lib','xTTHN':_0x15f589(0x1f4),'sTVEa':_0x15f589(0x22c),'reVjN':function(_0x562189,_0x2b4eb4){return _0x562189(_0x2b4eb4);}};try{const _0x537c0b=path['join'](_0xcd4274[_0x15f589(0x20b)],_0xcd4274[_0x15f589(0x20a)],_0xcd4274['sTVEa']),_0x8e68b7=_0xcd4274[_0x15f589(0x21e)](importFileFromPWCore,_0x537c0b);return _0x8e68b7?_0x8e68b7[_0x15f589(0x203)]:null;}catch(_0xd248){return logger[_0x15f589(0x1f2)](_0x15f589(0x1e7)+util['format'](_0xd248)),null;}},getPlaywrightModulePath=()=>{const _0x2d36ea=a118_0x251908,_0x5184c0={};_0x5184c0[_0x2d36ea(0x1e4)]=_0x2d36ea(0x22f);const _0x20075d=_0x5184c0;return logger[_0x2d36ea(0x1f2)](_0x20075d[_0x2d36ea(0x1e4)]),null;},getBrowserTypePath=()=>{const _0x21565f=a118_0x251908,_0x42c147={};_0x42c147[_0x21565f(0x1ed)]=_0x21565f(0x1fd);const _0xefbf8e=_0x42c147;return logger[_0x21565f(0x1f2)](_0xefbf8e[_0x21565f(0x1ed)]),null;},checkPwandBootstrapCli=async(_0x46a82f,_0x4e6cbd,_0x5a62ad)=>{const _0x42fc31=a118_0x251908,_0x2b4e11={'tRHCC':function(_0xb6dc58,_0x3d5cc0){return _0xb6dc58(_0x3d5cc0);},'xPsGV':_0x42fc31(0x21b),'LZqtQ':function(_0x1a20d2,_0x179d5f){return _0x1a20d2(_0x179d5f);}};if(_0x46a82f){const _0xe6a03f=constants[_0x42fc31(0x23e)][_0x42fc31(0x232)];logger[_0x42fc31(0x1f2)](_0x42fc31(0x218)+_0x46a82f+'\x20for\x20'+_0x4e6cbd+_0x42fc31(0x202)),CLIUtils['setFrameworkDetail'](_0x4e6cbd,_0xe6a03f);const {getProductMap:_0x5165ac}=_0x2b4e11[_0x42fc31(0x21d)](require,_0x2b4e11[_0x42fc31(0x223)]);process['env'][_0x42fc31(0x1f7)]=JSON[_0x42fc31(0x1f5)](_0x2b4e11[_0x42fc31(0x20e)](_0x5165ac,_0x5a62ad[_0x42fc31(0x1e8)])),BrowserstackCLI['getInstance']()[_0x42fc31(0x22e)](_0x5a62ad[_0x42fc31(0x1e8)],_0x5a62ad['cliConfig']),await BrowserstackCLI['getInstance']()[_0x42fc31(0x200)]();}},a118_0x1806b6={};a118_0x1806b6[a118_0x251908(0x23d)]=convertW3CToJsonWire,a118_0x1806b6[a118_0x251908(0x20d)]=getModifiedConfigFromCLI,a118_0x1806b6[a118_0x251908(0x1ea)]=generatePlaywrightUrl,a118_0x1806b6['getBrowserFromCaps']=getBrowserFromCaps,a118_0x1806b6[a118_0x251908(0x23b)]=isPlaywrightAvailable,a118_0x1806b6['getPlaywrightBrowserType']=getPlaywrightBrowserType,a118_0x1806b6[a118_0x251908(0x1f1)]=getPlaywrightModulePath,a118_0x1806b6[a118_0x251908(0x1dd)]=getBrowserTypePath,a118_0x1806b6['importFileFromPWCore']=importFileFromPWCore,a118_0x1806b6[a118_0x251908(0x226)]=checkPwandBootstrapCli,module[a118_0x251908(0x225)]=a118_0x1806b6;