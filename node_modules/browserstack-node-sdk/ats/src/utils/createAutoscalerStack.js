const a26_0xf99b88=a26_0x25cb;function a26_0x5196(){const _0x2a0c4a=['bLeCC','readFileAsync','1552HVJMGR','debug','4293635pRJfvk','Properties','WYKuQ','push','2528496GbVaiT','DELETE','CloudFormation','Resources','7eREQrd','aQNPa','IwrZX','stringify','promisifyAll','autoscaler-role-creation.yaml','Tags','utf-8','load','browserstack:creationDate','240AFvOTK','1946pYlOlc','./AWSUtils','stackCreateComplete','js-yaml','StackId','bluebird','StackName','118723YXEtrr','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','SVpIt','awsObj','toString','2865294KjuhGt','127rBFBVm','promise','../config/constants','OnFailure','krpLa','Parameters','9189ezdiYt','apiVersion','50784pOWwEy','XqMpz','xvJaG','QzawK','TemplateBody','createAutoscalerStack','Value','browserstack:cluster','path','join','valueOf','Capabilities'];a26_0x5196=function(){return _0x2a0c4a;};return a26_0x5196();}(function(_0x13e233,_0x2fd80e){const _0x1889ea=a26_0x25cb,_0x173b94=_0x13e233();while(!![]){try{const _0x37662c=parseInt(_0x1889ea(0x105))/0x1*(parseInt(_0x1889ea(0xf8))/0x2)+parseInt(_0x1889ea(0x104))/0x3+parseInt(_0x1889ea(0x121))/0x4+-parseInt(_0x1889ea(0x11d))/0x5+parseInt(_0x1889ea(0x10d))/0x6*(parseInt(_0x1889ea(0x125))/0x7)+-parseInt(_0x1889ea(0x11b))/0x8*(-parseInt(_0x1889ea(0x10b))/0x9)+-parseInt(_0x1889ea(0xf7))/0xa*(parseInt(_0x1889ea(0xff))/0xb);if(_0x37662c===_0x2fd80e)break;else _0x173b94['push'](_0x173b94['shift']());}catch(_0x2adaaf){_0x173b94['push'](_0x173b94['shift']());}}}(a26_0x5196,0xc3354));const fs=require('fs'),path=require(a26_0xf99b88(0x115)),yaml=require(a26_0xf99b88(0xfb)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),Promise=require(a26_0xf99b88(0xfd)),AWS=require(a26_0xf99b88(0xf9))[a26_0xf99b88(0x102)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0xf99b88(0x107)),{logger}=require('../config/logger');Promise[a26_0xf99b88(0x129)](fs);const addAutoscalerTags=async(_0x4fe98b,_0xa8f2d8,_0x6ab3c1)=>{const _0x2e6824=a26_0xf99b88;for(const _0x33417f in _0x4fe98b['Resources']){_0x4fe98b[_0x2e6824(0x124)][_0x33417f][_0x2e6824(0x11e)]&&_0x4fe98b[_0x2e6824(0x124)][_0x33417f][_0x2e6824(0x11e)][_0x2e6824(0xf3)]&&_0x4fe98b[_0x2e6824(0x124)][_0x33417f][_0x2e6824(0x11e)][_0x2e6824(0xf3)]['push'](..._0x6ab3c1);}};function a26_0x25cb(_0x1a56a1,_0x100d82){const _0x5196fe=a26_0x5196();return a26_0x25cb=function(_0x25cbff,_0x3750bb){_0x25cbff=_0x25cbff-0xf2;let _0x48c291=_0x5196fe[_0x25cbff];return _0x48c291;},a26_0x25cb(_0x1a56a1,_0x100d82);}exports[a26_0xf99b88(0x112)]=async _0x42153b=>{const _0xc9bef=a26_0xf99b88,_0xbb57c6={'qjxpg':_0xc9bef(0x114),'IwrZX':_0xc9bef(0xf6),'XqMpz':'2010-05-15','SVpIt':'templates','krpLa':_0xc9bef(0xf2),'xvJaG':_0xc9bef(0xf4),'aQNPa':function(_0x484427,_0xa42705,_0x43a388,_0x1afd12){return _0x484427(_0xa42705,_0x43a388,_0x1afd12);},'SHVhs':_0xc9bef(0x122),'bLeCC':'ClusterName','lvGRN':'CAPABILITY_NAMED_IAM','QzawK':_0xc9bef(0x100),'WYKuQ':_0xc9bef(0xfa)},_0x50e1cb=COMMON_HST_TAGS,_0x45ed58={};_0x45ed58['Key']=_0xbb57c6['qjxpg'],_0x45ed58[_0xc9bef(0x113)]=_0x42153b,_0x50e1cb[_0xc9bef(0x120)](_0x45ed58),_0x50e1cb[_0xc9bef(0x120)]({'Key':_0xbb57c6[_0xc9bef(0x127)],'Value':new Date()[_0xc9bef(0x117)]()[_0xc9bef(0x103)]()});const _0x408d11={};_0x408d11[_0xc9bef(0x10c)]=_0xbb57c6[_0xc9bef(0x10e)];const _0x1b71d2=new AWS[(_0xc9bef(0x123))](_0x408d11),_0x5af547=await fs[_0xc9bef(0x11a)](path[_0xc9bef(0x116)](__dirname,'..',_0xbb57c6[_0xc9bef(0x101)],_0xbb57c6[_0xc9bef(0x109)]),_0xbb57c6[_0xc9bef(0x10f)]),_0x160632={};_0x160632['schema']=CLOUDFORMATION_SCHEMA;const _0x274f79=yaml[_0xc9bef(0xf5)](_0x5af547,_0x160632);_0xbb57c6[_0xc9bef(0x126)](addAutoscalerTags,_0x274f79,_0x42153b,_0x50e1cb);const _0x5a06b9=JSON[_0xc9bef(0x128)](_0x274f79),_0x1ea88f={};_0x1ea88f[_0xc9bef(0xfe)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x42153b,_0x1ea88f[_0xc9bef(0x108)]=_0xbb57c6['SHVhs'],_0x1ea88f[_0xc9bef(0x111)]=_0x5a06b9,_0x1ea88f[_0xc9bef(0x10a)]=[{'ParameterKey':_0xbb57c6[_0xc9bef(0x119)],'ParameterValue':_0x42153b}],_0x1ea88f[_0xc9bef(0x118)]=[_0xbb57c6['lvGRN']],_0x1ea88f[_0xc9bef(0xf3)]=_0x50e1cb;const _0x39cef0=_0x1ea88f,_0x50d6c1=await _0x1b71d2['createStack'](_0x39cef0)[_0xc9bef(0x106)]();logger[_0xc9bef(0x11c)](_0xbb57c6[_0xc9bef(0x110)]);const _0x585d54={};return _0x585d54[_0xc9bef(0xfe)]=_0x50d6c1[_0xc9bef(0xfc)],_0x1b71d2['waitFor'](_0xbb57c6[_0xc9bef(0x11f)],_0x585d54)[_0xc9bef(0x106)]();};