const a27_0x15d399=a27_0xbc0d;function a27_0xbc0d(_0x398081,_0xe0b5e9){const _0x5a17fc=a27_0x5a17();return a27_0xbc0d=function(_0xbc0d06,_0x5b1ca5){_0xbc0d06=_0xbc0d06-0xae;let _0x51c362=_0x5a17fc[_0xbc0d06];return _0x51c362;},a27_0xbc0d(_0x398081,_0xe0b5e9);}(function(_0x5dbe32,_0x450058){const _0x230a50=a27_0xbc0d,_0x3d8630=_0x5dbe32();while(!![]){try{const _0x327901=-parseInt(_0x230a50(0xe3))/0x1*(parseInt(_0x230a50(0xeb))/0x2)+-parseInt(_0x230a50(0x124))/0x3+parseInt(_0x230a50(0x135))/0x4+-parseInt(_0x230a50(0xe6))/0x5+parseInt(_0x230a50(0x113))/0x6*(-parseInt(_0x230a50(0xf1))/0x7)+-parseInt(_0x230a50(0x14f))/0x8*(-parseInt(_0x230a50(0x122))/0x9)+-parseInt(_0x230a50(0xba))/0xa*(-parseInt(_0x230a50(0x15f))/0xb);if(_0x327901===_0x450058)break;else _0x3d8630['push'](_0x3d8630['shift']());}catch(_0x40607c){_0x3d8630['push'](_0x3d8630['shift']());}}}(a27_0x5a17,0xd78d4));const fs=require('fs'),path=require(a27_0x15d399(0x134)),Promise=require(a27_0x15d399(0x128)),yaml=require(a27_0x15d399(0x15b)),{CLOUDFORMATION_SCHEMA}=require(a27_0x15d399(0xf9)),AWS=require(a27_0x15d399(0x101))['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x15d399(0x11f)),{logger}=require(a27_0x15d399(0x11c)),{isBucketPresent}=require(a27_0x15d399(0x101));function a27_0x5a17(){const _0x56d35e=['schema','Key','-NodeGroup','false','Rojdb','QcKIS','Bspvj','1140zJBWiD','CFTemplates','GKWSH','EKSCluster','rfeDp','s3Bucket','EvCvB','VpcBlock','lgpVl','OIbkg','abGcv','KRpHf','load','Outputs','MGYRS','LMekL','DPMzd','NodeAutoScalingGroupMaxSize','QKDUa','Capabilities','StackName','ubcVr','Subnet','idhCQ','debug','lFSyE','csArF','HzzbW','zOPck','vpc-create.yaml','s3-create.yaml','aAnRo','ZrOsk','nIykO','agFeZ','QoMUl','Value','NodeImageId','S3BucketName','wsThM','gIRuk','4PyZtUt','VyaJP','WLJFG','4471440geqXhG','qUUtz','PnKBz','push','DvQah','616536PyOPQI','KyDyo','Subnet03Block','dBmQQ','SPuMW','ParameterGroups','77hptcZT','promise','padStart','Ybmlq','QwvVs','Subnet01','value','toString','js-yaml-cloudformation-schema','subnet-import.yaml','stackCreateComplete','rOiFt','oNbCn','MlSmW','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','tTdgt','./AWSUtils','OKYHr','NodeAutoScalingGroupMinSize','TLmnu','fEfya','ResourcesVpcConfig','StackId','5|0|1|2|3|4','VPC','ThboL','Fn::Join','join','SZmgQ','JkSXd','VMjKb','IpfGN','iBEjV','createStack','104772zMFAzx','createClusterStack','Subnet03','ANFwZ','vpc-import.yaml','eMBDd','MjMus','gviHw','TemplateBody','../config/logger','CloudFormation','meQQf','../config/constants','AzJWa','AkKyK','534933kkkRwe','zjQqb','1198662jGMTZB','mAxgh','csgpS','pdZrQ','bluebird','ParameterValue','ZpmEs','2010-05-15','TLSFX','zljFC','Properties','ami','browserstack:cluster','AYIfG','gfNgs','atdks','path','3126172ZSnaEo','ejCOD','xhUld','AimDd','yJQtn','forEach','keys','XieRy','XEKcD','rbHlj','CxOhZ','stringify','Resources','Ref','maDYk','Subnet01Block','Sjvyo','ParameterKey','HXjfp','tgZcM','Subnets','Parameters','NodeAutoScalingGroupDesiredSizeWindows','xUCbv','WIwiC','LfJDR','232HMKEcc','CAPABILITY_NAMED_IAM','ODMIO','utf-8','UATAO','Metadata','uvPdb','GLZxW','NYfLJ','jJwLa','NodeGroupNameWindows','iRHdq','js-yaml','ejObR','GBapm','nEGzO','105820BcZcgs','EwiDD','BjJIf','venkc','SubnetIds','NodeGroupWindows','NodeGroup','Tags','IIHTT','odEpf','wpVnL','cTRTC','DependsOn','readFileAsync','jLHlq','apiVersion','valueOf','NodeInstanceType','QHStf','ZbVAs','OnFailure','browserstack:creationDate','jnyVZ','split','PhUOc','AWS::CloudFormation::Interface'];a27_0x5a17=function(){return _0x56d35e;};return a27_0x5a17();}Promise['promisifyAll'](fs);const mergeTemplates=(_0x4a26a4,_0x3169da)=>{const _0x190790=a27_0x15d399,_0x3727df={};_0x3727df['maDYk']=function(_0x1e3d76,_0x46e37b){return _0x1e3d76===_0x46e37b;},_0x3727df[_0x190790(0xb9)]=_0x190790(0x153),_0x3727df[_0x190790(0x167)]=function(_0x35918a,_0x54c187){return _0x35918a!==_0x54c187;},_0x3727df['TLSFX']='ejjFb',_0x3727df[_0x190790(0xe2)]=_0x190790(0x12d);const _0x800383=_0x3727df;Object[_0x190790(0x13b)](_0x3169da)[_0x190790(0x13a)](_0x4052e5=>{const _0x7039c0=_0x190790;if(_0x800383[_0x7039c0(0x167)](_0x800383[_0x7039c0(0x12c)],_0x800383[_0x7039c0(0xe2)])){var _0x40aa1a=_0x3169da[_0x4052e5];Object[_0x7039c0(0x13b)](_0x40aa1a)[_0x7039c0(0x13a)](_0x3cb4ae=>{const _0x47d35e=_0x7039c0;_0x800383[_0x47d35e(0x143)](_0x800383[_0x47d35e(0xb9)],_0x800383[_0x47d35e(0xb9)])?_0x4a26a4[_0x4052e5][_0x3cb4ae]=_0x40aa1a[_0x3cb4ae]:_0x1aabbc[_0x9eaa74[_0x47d35e(0xb4)]]=_0x61215b[_0x47d35e(0xde)];});}else{var _0x5b9595=_0x58b5d4[_0x15c364];_0x3d789a['keys'](_0x5b9595)[_0x7039c0(0x13a)](_0x442e3c=>{_0x2a4173[_0x43f325][_0x442e3c]=_0x5b9595[_0x442e3c];});}});},addVPCData=async(_0x1f16a9,_0x545ed7)=>{const _0x531eb5=a27_0x15d399,_0x5123b7={'LMekL':function(_0xd7775c,_0x55b11d){return _0xd7775c===_0x55b11d;},'yJQtn':_0x531eb5(0x169),'csArF':_0x531eb5(0xbb),'BUYFs':_0x531eb5(0x117),'MGYRS':_0x531eb5(0x152),'KyDyo':function(_0x21e568,_0x59ebd5,_0xe63bf5){return _0x21e568(_0x59ebd5,_0xe63bf5);},'ejObR':_0x531eb5(0xb2),'ZrOsk':_0x531eb5(0x109),'OKYHr':function(_0x99b95b,_0x1fe121){return _0x99b95b!==_0x1fe121;},'odEpf':_0x531eb5(0xc4),'JkSXd':_0x531eb5(0x131),'tgZcM':_0x531eb5(0xd7),'fEfya':_0x531eb5(0xc1)};if(_0x545ed7){if(_0x5123b7[_0x531eb5(0xc9)](_0x5123b7[_0x531eb5(0x139)],_0x5123b7[_0x531eb5(0x139)])){const _0x3c16d6=await fs[_0x531eb5(0x16c)](path[_0x531eb5(0x10c)](__dirname,'..',_0x5123b7[_0x531eb5(0xd4)],_0x5123b7['BUYFs']),_0x5123b7['MGYRS']),_0xd26d12={};_0xd26d12[_0x531eb5(0xb3)]=CLOUDFORMATION_SCHEMA;const _0x5dd981=yaml[_0x531eb5(0xc6)](_0x3c16d6,_0xd26d12);_0x5123b7['KyDyo'](mergeTemplates,_0x1f16a9,_0x5dd981),_0x1f16a9[_0x531eb5(0x154)][_0x5123b7[_0x531eb5(0x15c)]][_0x531eb5(0xf0)][0x0][_0x531eb5(0x14a)][_0x531eb5(0xe9)](_0x5123b7[_0x531eb5(0xda)]);}else _0xf9fa9d['Resources'][_0x19f079][_0x531eb5(0x12e)][_0x531eb5(0x166)][_0x531eb5(0xe9)](..._0x42a995);}else{if(_0x5123b7[_0x531eb5(0x102)](_0x5123b7[_0x531eb5(0x168)],_0x5123b7[_0x531eb5(0x10e)])){const _0x47c8cd=await fs[_0x531eb5(0x16c)](path[_0x531eb5(0x10c)](__dirname,'..',_0x5123b7[_0x531eb5(0xd4)],_0x5123b7[_0x531eb5(0x148)]),_0x5123b7[_0x531eb5(0xc8)]),_0x4e11e6={};_0x4e11e6[_0x531eb5(0xb3)]=CLOUDFORMATION_SCHEMA;const _0xd3e86c=yaml[_0x531eb5(0xc6)](_0x47c8cd,_0x4e11e6);_0x5123b7[_0x531eb5(0xec)](mergeTemplates,_0x1f16a9,_0xd3e86c),_0x1f16a9[_0x531eb5(0x154)][_0x5123b7[_0x531eb5(0x15c)]][_0x531eb5(0xf0)][0x0][_0x531eb5(0x14a)][_0x531eb5(0xe9)](_0x5123b7[_0x531eb5(0x105)]);}else _0x41e4be[_0x44a645][_0x1d3965]=_0x374414[_0x3b3a79];}},addS3Data=async _0x10f1d5=>{const _0x147d2e=a27_0x15d399,_0x63c9b5={'EwiDD':_0x147d2e(0x108),'zjQqb':'AWS::CloudFormation::Interface','oGVfV':function(_0x1c81d3,_0x58dffb){return _0x1c81d3(_0x58dffb);},'GBapm':function(_0x364266,_0x433989){return _0x364266(_0x433989);},'uvPdb':'Fn::Join','AkKyK':function(_0x38de2f,_0x348f0b){return _0x38de2f(_0x348f0b);},'csgpS':function(_0x371db0,_0x2236f9){return _0x371db0(_0x2236f9);},'SPuMW':'CFTemplates','AxZjd':_0x147d2e(0xd8),'hRLLd':_0x147d2e(0x152),'PqLdW':function(_0x3c9af0,_0x3f6b42){return _0x3c9af0(_0x3f6b42);},'venkc':function(_0x322bc7,_0x3c7113){return _0x322bc7===_0x3c7113;},'HzzbW':function(_0x53936a,_0x74e83f){return _0x53936a!==_0x74e83f;},'tTdgt':_0x147d2e(0x133),'YRkkp':function(_0x2d1b47,_0x44da0f,_0x5d7885){return _0x2d1b47(_0x44da0f,_0x5d7885);}},_0x497e76=await fs[_0x147d2e(0x16c)](path[_0x147d2e(0x10c)](__dirname,'..',_0x63c9b5[_0x147d2e(0xef)],_0x63c9b5['AxZjd']),_0x63c9b5['hRLLd']),_0x313b2b={};_0x313b2b[_0x147d2e(0xb3)]=CLOUDFORMATION_SCHEMA;const _0x5e2143=yaml[_0x147d2e(0xc6)](_0x497e76,_0x313b2b),_0x61ec01=await _0x63c9b5['PqLdW'](isBucketPresent,global_registry[_0x147d2e(0xbf)]);if(_0x63c9b5[_0x147d2e(0x162)](_0x61ec01,![])){if(_0x63c9b5[_0x147d2e(0xd5)](_0x63c9b5[_0x147d2e(0x100)],_0x63c9b5[_0x147d2e(0x100)])){const _0x143de3=_0x63c9b5[_0x147d2e(0x160)][_0x147d2e(0xb0)]('|');let _0x52909b=0x0;while(!![]){switch(_0x143de3[_0x52909b++]){case'0':_0x3b5799['Metadata'][_0x63c9b5[_0x147d2e(0x123)]][_0x147d2e(0xf0)][0x0][_0x147d2e(0x14a)]['push'](_0x147d2e(0xd0)+_0x63c9b5['oGVfV'](_0x52a97f,_0x27b20d)[_0x147d2e(0xf3)](0x2,'0'));continue;case'1':_0x11d41f['Resources'][_0x147d2e(0x165)]['Properties']['Subnets'][_0x147d2e(0xe9)]({'Ref':_0x147d2e(0xd0)+_0x63c9b5[_0x147d2e(0x15d)](_0x353bad,_0x4d6869)['padStart'](0x2,'0')});continue;case'2':_0x28da43[_0x147d2e(0x141)][_0x147d2e(0x164)][_0x147d2e(0x12e)][_0x147d2e(0x149)][_0x147d2e(0xe9)]({'Ref':_0x147d2e(0xd0)+_0x63c9b5['GBapm'](_0x1a5f81,_0x330d42)[_0x147d2e(0xf3)](0x2,'0')});continue;case'3':_0x3004c7[_0x147d2e(0xc7)][_0x147d2e(0x163)]['Value'][_0x63c9b5[_0x147d2e(0x155)]][0x1][_0x147d2e(0xe9)]({'Ref':'Subnet'+_0x63c9b5[_0x147d2e(0x121)](_0x498702,_0x5b5a47)[_0x147d2e(0xf3)](0x2,'0')});continue;case'4':_0x704e2f+=0x1;continue;case'5':_0x104ed8[_0x147d2e(0x141)][_0x147d2e(0xbd)][_0x147d2e(0x12e)]['ResourcesVpcConfig']['SubnetIds'][_0x147d2e(0xe9)]({'Ref':_0x147d2e(0xd0)+_0x63c9b5[_0x147d2e(0x126)](_0x27b3be,_0x437830)[_0x147d2e(0xf3)](0x2,'0')});continue;}break;}}else _0x63c9b5['YRkkp'](mergeTemplates,_0x10f1d5,_0x5e2143);}},addSubnetData=async(_0x2d88cf,_0x245aa8)=>{const _0x129293=a27_0x15d399,_0x56f46a={'meQQf':function(_0x3b43de,_0x59c996){return _0x3b43de(_0x59c996);},'PhUOc':function(_0x3b0b94,_0x1fade3){return _0x3b0b94===_0x1fade3;},'oNbCn':_0x129293(0x111),'mAxgh':'2|0|3|4|5|1','wVRlY':_0x129293(0xb2),'xhUld':function(_0x29cc0f,_0x48649f){return _0x29cc0f(_0x48649f);},'XEKcD':function(_0x3a10a6,_0xfdec1a){return _0x3a10a6(_0xfdec1a);},'ubcVr':_0x129293(0x10b),'MjMus':function(_0x4a6328,_0x1c6da1){return _0x4a6328(_0x1c6da1);},'VMjKb':function(_0x2f1932,_0x5220c8){return _0x2f1932!==_0x5220c8;},'lFSyE':'nOkiO','ANFwZ':_0x129293(0xd9),'Ybmlq':_0x129293(0xbb),'MlSmW':_0x129293(0xfa),'QwvVs':_0x129293(0x152),'TLmnu':function(_0x345e62,_0x35780d,_0x2ab339){return _0x345e62(_0x35780d,_0x2ab339);},'HXjfp':function(_0x4e76c7,_0x29798b){return _0x4e76c7===_0x29798b;},'LfJDR':_0x129293(0x157),'wsThM':'WeNwm','AzJWa':'subnet-create.yaml','ThboL':_0x129293(0xf6),'BjJIf':'Subnet02','XieRy':_0x129293(0x115),'rbHlj':_0x129293(0x144),'GKWSH':'Subnet02Block','eMBDd':_0x129293(0xed)};if(_0x245aa8){if(_0x56f46a[_0x129293(0x10f)](_0x56f46a[_0x129293(0xd3)],_0x56f46a[_0x129293(0x116)])){const _0x41e1dc=await fs[_0x129293(0x16c)](path[_0x129293(0x10c)](__dirname,'..',_0x56f46a[_0x129293(0xf4)],_0x56f46a[_0x129293(0xfe)]),_0x56f46a[_0x129293(0xf5)]),_0x26e64a={};_0x26e64a['schema']=CLOUDFORMATION_SCHEMA;const _0x48a3ad=yaml[_0x129293(0xc6)](_0x41e1dc,_0x26e64a);_0x56f46a[_0x129293(0x104)](mergeTemplates,_0x2d88cf,_0x48a3ad);let _0x506aa7=0x1;_0x245aa8[_0x129293(0x13a)](_0x65bd15=>{const _0x4b6316=_0x129293,_0x38b2a8={'ODMIO':function(_0x373409,_0x26a464){const _0x35cb60=a27_0xbc0d;return _0x56f46a[_0x35cb60(0x11e)](_0x373409,_0x26a464);}};if(_0x56f46a[_0x4b6316(0xb1)](_0x56f46a[_0x4b6316(0xfd)],_0x56f46a[_0x4b6316(0xfd)])){const _0x11fc38=_0x56f46a[_0x4b6316(0x125)]['split']('|');let _0x32f4a2=0x0;while(!![]){switch(_0x11fc38[_0x32f4a2++]){case'0':_0x2d88cf['Metadata'][_0x56f46a['wVRlY']][_0x4b6316(0xf0)][0x0][_0x4b6316(0x14a)][_0x4b6316(0xe9)]('Subnet'+_0x56f46a[_0x4b6316(0x11e)](String,_0x506aa7)[_0x4b6316(0xf3)](0x2,'0'));continue;case'1':_0x506aa7+=0x1;continue;case'2':_0x2d88cf[_0x4b6316(0x141)][_0x4b6316(0xbd)]['Properties'][_0x4b6316(0x106)][_0x4b6316(0x163)][_0x4b6316(0xe9)]({'Ref':_0x4b6316(0xd0)+_0x56f46a[_0x4b6316(0x11e)](String,_0x506aa7)[_0x4b6316(0xf3)](0x2,'0')});continue;case'3':_0x2d88cf[_0x4b6316(0x141)][_0x4b6316(0x165)][_0x4b6316(0x12e)][_0x4b6316(0x149)][_0x4b6316(0xe9)]({'Ref':'Subnet'+_0x56f46a[_0x4b6316(0x137)](String,_0x506aa7)[_0x4b6316(0xf3)](0x2,'0')});continue;case'4':_0x2d88cf[_0x4b6316(0x141)][_0x4b6316(0x164)][_0x4b6316(0x12e)][_0x4b6316(0x149)][_0x4b6316(0xe9)]({'Ref':_0x4b6316(0xd0)+_0x56f46a[_0x4b6316(0x13d)](String,_0x506aa7)[_0x4b6316(0xf3)](0x2,'0')});continue;case'5':_0x2d88cf[_0x4b6316(0xc7)][_0x4b6316(0x163)][_0x4b6316(0xde)][_0x56f46a[_0x4b6316(0xcf)]][0x1][_0x4b6316(0xe9)]({'Ref':'Subnet'+_0x56f46a[_0x4b6316(0x119)](String,_0x506aa7)[_0x4b6316(0xf3)](0x2,'0')});continue;}break;}}else{const _0x42d490={'jLHlq':function(_0x2482fd,_0xf492fe){const _0x2d73d5=_0x4b6316;return _0x38b2a8[_0x2d73d5(0x151)](_0x2482fd,_0xf492fe);}};let _0x5ee7f4=0x1;_0x2495aa['forEach'](_0x200456=>{const _0x220052=_0x4b6316;_0x16dcbc[_0x220052(0x14a)][_0x220052(0xe9)]({'ParameterKey':_0x220052(0xd0)+_0x42d490[_0x220052(0x16d)](_0x3a8612,_0x5ee7f4)[_0x220052(0xf3)](0x2,'0'),'ParameterValue':_0x200456[_0x220052(0xf7)]}),_0x5ee7f4+=0x1;});}});}else _0x3b5a70['Parameters']['push']({'ParameterKey':_0x129293(0xd0)+_0x56f46a['XEKcD'](_0x1c62f7,_0x19120c)[_0x129293(0xf3)](0x2,'0'),'ParameterValue':_0x28479d[_0x129293(0xf7)]}),_0x41e82f+=0x1;}else{if(_0x56f46a[_0x129293(0x147)](_0x56f46a[_0x129293(0x14e)],_0x56f46a[_0x129293(0xe1)]))_0x1965d7[_0x129293(0x13b)](_0x48a0ba)[_0x129293(0x13a)](_0x4b0a65=>{var _0x4e07a4=_0x334557[_0x4b0a65];_0x48f271['keys'](_0x4e07a4)['forEach'](_0x3855a3=>{_0x2e0aab[_0x4b0a65][_0x3855a3]=_0x4e07a4[_0x3855a3];});});else{const _0x4df8ec=await fs[_0x129293(0x16c)](path[_0x129293(0x10c)](__dirname,'..',_0x56f46a['Ybmlq'],_0x56f46a[_0x129293(0x120)]),_0x56f46a[_0x129293(0xf5)]),_0x3643ca={};_0x3643ca[_0x129293(0xb3)]=CLOUDFORMATION_SCHEMA;const _0x19eed1=yaml['load'](_0x4df8ec,_0x3643ca);_0x56f46a[_0x129293(0x104)](mergeTemplates,_0x2d88cf,_0x19eed1),_0x2d88cf[_0x129293(0x141)][_0x129293(0xbd)][_0x129293(0x16b)]['push'](_0x56f46a['ThboL'],_0x56f46a[_0x129293(0x161)],_0x56f46a[_0x129293(0x13c)]);const _0xafc544={};_0xafc544[_0x129293(0x142)]=_0x56f46a[_0x129293(0x10a)];const _0x6a8c8f={};_0x6a8c8f['Ref']=_0x56f46a[_0x129293(0x161)];const _0x21a225={};_0x21a225[_0x129293(0x142)]=_0x56f46a[_0x129293(0x13c)],_0x2d88cf[_0x129293(0x141)][_0x129293(0xbd)][_0x129293(0x12e)]['ResourcesVpcConfig']['SubnetIds']=[_0xafc544,_0x6a8c8f,_0x21a225],_0x2d88cf[_0x129293(0x154)][_0x56f46a['wVRlY']][_0x129293(0xf0)][0x0][_0x129293(0x14a)][_0x129293(0xe9)](_0x56f46a[_0x129293(0x13e)],_0x56f46a[_0x129293(0xbc)],_0x56f46a[_0x129293(0x118)]);const _0x2def28={};_0x2def28[_0x129293(0x142)]=_0x56f46a['ThboL'];const _0x349137={};_0x349137['Ref']=_0x56f46a[_0x129293(0x161)];const _0x134825={};_0x134825[_0x129293(0x142)]=_0x56f46a['XieRy'],_0x2d88cf[_0x129293(0x141)]['NodeGroup'][_0x129293(0x12e)]['Subnets']=[_0x2def28,_0x349137,_0x134825];const _0x555a23={};_0x555a23['Ref']=_0x56f46a[_0x129293(0x10a)];const _0x2445d5={};_0x2445d5[_0x129293(0x142)]=_0x56f46a[_0x129293(0x161)];const _0x4dff4b={};_0x4dff4b[_0x129293(0x142)]=_0x56f46a[_0x129293(0x13c)],_0x2d88cf[_0x129293(0x141)][_0x129293(0x164)][_0x129293(0x12e)][_0x129293(0x149)]=[_0x555a23,_0x2445d5,_0x4dff4b],_0x2d88cf[_0x129293(0xc7)][_0x129293(0x163)][_0x129293(0xde)][_0x56f46a[_0x129293(0xcf)]][0x1]=[{'Ref':_0x56f46a[_0x129293(0x10a)]},{'Ref':_0x56f46a[_0x129293(0x161)]},{'Ref':_0x56f46a[_0x129293(0x13c)]}];}}},addTags=async(_0x4cba62,_0xccf681,_0x570589)=>{const _0x4aab80=a27_0x15d399,_0x3367f3={'IpfGN':_0x4aab80(0x165),'Sjvyo':_0x4aab80(0x164),'jnyVZ':'VPC','Rojdb':function(_0x12beea,_0xbb9aa8,_0x3ae171){return _0x12beea(_0xbb9aa8,_0x3ae171);},'EvCvB':function(_0x43e39f,_0x7b4da8){return _0x43e39f===_0x7b4da8;},'QKDUa':_0x4aab80(0x10d),'WIwiC':_0x4aab80(0xe7),'GCkWZ':'uGDRo','GyFTL':_0x4aab80(0xe8),'CxOhZ':function(_0x298f5c,_0xdc503f){return _0x298f5c!==_0xdc503f;},'DvQah':_0x4aab80(0x127),'VyaJP':_0x4aab80(0x16a)};for(const _0x337b5f in _0x4cba62[_0x4aab80(0x141)]){if(_0x3367f3['EvCvB'](_0x3367f3['GCkWZ'],_0x3367f3['GyFTL'])){for(const _0x420fd6 in _0x23da13[_0x4aab80(0x141)]){_0x5938b9['Resources'][_0x420fd6][_0x4aab80(0x12e)]&&_0x1e3afb[_0x4aab80(0x141)][_0x420fd6][_0x4aab80(0x12e)][_0x4aab80(0x166)]&&_0x28ab7c[_0x4aab80(0x141)][_0x420fd6][_0x4aab80(0x12e)][_0x4aab80(0x166)][_0x4aab80(0xe9)](..._0x1daa70);}const _0x533cc4={};_0x51c302[_0x4aab80(0x13a)](_0x5232a0=>{const _0x58cf2d=_0x4aab80;_0x533cc4[_0x5232a0[_0x58cf2d(0xb4)]]=_0x5232a0[_0x58cf2d(0xde)];}),_0x3f6056[_0x4aab80(0x141)][_0x3367f3[_0x4aab80(0x110)]][_0x4aab80(0x12e)][_0x4aab80(0x166)]=_0x533cc4,_0x37df2b['Resources'][_0x3367f3[_0x4aab80(0x145)]][_0x4aab80(0x12e)][_0x4aab80(0x166)]=_0x533cc4;}else{if(_0x4cba62[_0x4aab80(0x141)][_0x337b5f][_0x4aab80(0x12e)]&&_0x4cba62['Resources'][_0x337b5f][_0x4aab80(0x12e)][_0x4aab80(0x166)]){if(_0x3367f3[_0x4aab80(0x13f)](_0x3367f3[_0x4aab80(0xea)],_0x3367f3[_0x4aab80(0xe4)]))_0x4cba62[_0x4aab80(0x141)][_0x337b5f][_0x4aab80(0x12e)]['Tags']['push'](..._0x570589);else{const _0x4e7971={};_0x4e7971[_0x4aab80(0x146)]=_0x3367f3[_0x4aab80(0xaf)],_0x4e7971[_0x4aab80(0x129)]=_0x3cce8d,_0x40ba46[_0x4aab80(0x14a)][_0x4aab80(0xe9)](_0x4e7971);}}}}const _0x5284ef={};_0x570589[_0x4aab80(0x13a)](_0xb8bd44=>{const _0x164065=_0x4aab80,_0x17ddda={'rOiFt':function(_0x4434a3,_0x135e4b,_0x14e6b7){const _0x36f1cf=a27_0xbc0d;return _0x3367f3[_0x36f1cf(0xb7)](_0x4434a3,_0x135e4b,_0x14e6b7);}};_0x3367f3[_0x164065(0xc0)](_0x3367f3[_0x164065(0xcc)],_0x3367f3[_0x164065(0x14d)])?_0x17ddda[_0x164065(0xfc)](_0x5ed675,_0x33c3d9,_0x54c766):_0x5284ef[_0xb8bd44[_0x164065(0xb4)]]=_0xb8bd44[_0x164065(0xde)];}),_0x4cba62['Resources'][_0x3367f3[_0x4aab80(0x110)]][_0x4aab80(0x12e)][_0x4aab80(0x166)]=_0x5284ef,_0x4cba62[_0x4aab80(0x141)][_0x3367f3[_0x4aab80(0x145)]]['Properties'][_0x4aab80(0x166)]=_0x5284ef;};exports[a27_0x15d399(0x114)]=async(_0x53061a,_0x10de53,_0x34f63c,_0x40c9f6=null,_0xcad670=null,_0x5e86d4)=>{const _0x53a106=a27_0x15d399,_0x5261a8={'lgpVl':function(_0x21ab6e,_0x189001){return _0x21ab6e(_0x189001);},'KRpHf':_0x53a106(0x130),'ZbVAs':_0x53a106(0xae),'nEGzO':_0x53a106(0x12b),'rfeDp':'CFTemplates','ejCOD':'aws-eks-cluster-dep.yaml','OIbkg':_0x53a106(0x152),'YdauN':function(_0x46e088,_0x5d23bd,_0x23aa9a){return _0x46e088(_0x5d23bd,_0x23aa9a);},'GLZxW':function(_0x1e36ae,_0x55f715,_0x1f0124){return _0x1e36ae(_0x55f715,_0x1f0124);},'jJwLa':function(_0x33f22b,_0x229455,_0x2f2f2e,_0x3cd383){return _0x33f22b(_0x229455,_0x2f2f2e,_0x3cd383);},'cYtFL':'DELETE','iRHdq':'ClusterName','AimDd':'NodeGroupName','gviHw':_0x53a106(0x103),'QcKIS':'NodeAutoScalingGroupMinSizeWindows','DPMzd':_0x53a106(0x14b),'nIykO':_0x53a106(0xcb),'ZpmEs':_0x53a106(0xdf),'QoMUl':_0x53a106(0x170),'anEnL':_0x53a106(0xe0),'DiQHl':_0x53a106(0x159),'tdGTz':'ClusterAutoUpgrade','dBmQQ':'true','gfNgs':_0x53a106(0xb6),'OHVse':_0x53a106(0x150),'idhCQ':function(_0x559d9a,_0x3f8c02){return _0x559d9a!=_0x3f8c02;},'WLJFG':function(_0xfa63b4,_0x5215cf){return _0xfa63b4!==_0x5215cf;},'iejSi':function(_0x51beaa,_0x458a17){return _0x51beaa!==_0x458a17;},'XBCfY':'iivrn','exsqM':_0x53a106(0xdc),'QHStf':_0x53a106(0x109),'zOPck':function(_0x42ce7d,_0x3cd9b1){return _0x42ce7d!==_0x3cd9b1;},'JBRqV':_0x53a106(0xff),'xUCbv':_0x53a106(0xfb)},_0x529d58=COMMON_HST_TAGS,_0x1dd96e={};_0x1dd96e['Key']=_0x5261a8[_0x53a106(0xc5)],_0x1dd96e[_0x53a106(0xde)]=_0x53061a,_0x529d58[_0x53a106(0xe9)](_0x1dd96e),_0x529d58['push']({'Key':_0x5261a8[_0x53a106(0x172)],'Value':new Date()[_0x53a106(0x16f)]()[_0x53a106(0xf8)]()});const _0x545c35={};_0x545c35[_0x53a106(0x16e)]=_0x5261a8[_0x53a106(0x15e)];const _0xcba7ec=new AWS[(_0x53a106(0x11d))](_0x545c35),_0x33dfd3=await fs[_0x53a106(0x16c)](path['join'](__dirname,'..',_0x5261a8[_0x53a106(0xbe)],_0x5261a8[_0x53a106(0x136)]),_0x5261a8[_0x53a106(0xc3)]),_0x178d3d={};_0x178d3d[_0x53a106(0xb3)]=CLOUDFORMATION_SCHEMA;const _0x526c1e=yaml[_0x53a106(0xc6)](_0x33dfd3,_0x178d3d);await _0x5261a8['YdauN'](addVPCData,_0x526c1e,_0x40c9f6),await _0x5261a8[_0x53a106(0xc2)](addS3Data,_0x526c1e),await _0x5261a8[_0x53a106(0x156)](addSubnetData,_0x526c1e,_0xcad670),await _0x5261a8[_0x53a106(0x158)](addTags,_0x526c1e,_0x53061a,_0x529d58);const _0x33a88e=JSON[_0x53a106(0x140)](_0x526c1e),_0x48af66={};_0x48af66[_0x53a106(0xce)]=CLUSTER_DEP_STACK_NAME+'-'+_0x53061a,_0x48af66[_0x53a106(0x173)]=_0x5261a8['cYtFL'],_0x48af66[_0x53a106(0x11b)]=_0x33a88e,_0x48af66[_0x53a106(0x14a)]=[{'ParameterKey':_0x5261a8[_0x53a106(0x15a)],'ParameterValue':_0x53061a},{'ParameterKey':_0x5261a8[_0x53a106(0x138)],'ParameterValue':_0x53061a+_0x53a106(0xb5)},{'ParameterKey':_0x5261a8[_0x53a106(0x11a)],'ParameterValue':''+_0x10de53},{'ParameterKey':_0x5261a8[_0x53a106(0xb8)],'ParameterValue':'0'},{'ParameterKey':_0x5261a8[_0x53a106(0xca)],'ParameterValue':'1'},{'ParameterKey':_0x5261a8[_0x53a106(0xdb)],'ParameterValue':''+_0x34f63c},{'ParameterKey':_0x5261a8[_0x53a106(0x12a)],'ParameterValue':global_registry[_0x53a106(0x12f)]},{'ParameterKey':_0x5261a8[_0x53a106(0xdd)],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x5261a8['anEnL'],'ParameterValue':global_registry[_0x53a106(0xbf)]},{'ParameterKey':_0x5261a8['DiQHl'],'ParameterValue':_0x53061a+'-Windows-NodeGroup'},{'ParameterKey':_0x5261a8['tdGTz'],'ParameterValue':_0x5e86d4?_0x5261a8[_0x53a106(0xee)]:_0x5261a8[_0x53a106(0x132)]}],_0x48af66[_0x53a106(0xcd)]=[_0x5261a8['OHVse']],_0x48af66['Tags']=_0x529d58;const _0x50dff8=_0x48af66;if(_0x5261a8[_0x53a106(0xd1)](_0x40c9f6,null)&&_0x5261a8[_0x53a106(0xe5)](_0x40c9f6,undefined)){if(_0x5261a8['iejSi'](_0x5261a8['XBCfY'],_0x5261a8['exsqM'])){const _0x5a3701={};_0x5a3701[_0x53a106(0x146)]=_0x5261a8[_0x53a106(0x171)],_0x5a3701['ParameterValue']=_0x40c9f6,_0x50dff8[_0x53a106(0x14a)]['push'](_0x5a3701);}else _0x2f62be[_0x53a106(0x141)][_0x424f0d][_0x53a106(0x12e)]&&_0x4c6752[_0x53a106(0x141)][_0x25b4fe]['Properties']['Tags']&&_0x155e36['Resources'][_0x46bb23][_0x53a106(0x12e)][_0x53a106(0x166)]['push'](..._0x287109);}if(_0x5261a8['idhCQ'](_0xcad670,null)&&_0x5261a8[_0x53a106(0xd6)](_0xcad670,undefined)){let _0x2c246b=0x1;_0xcad670[_0x53a106(0x13a)](_0x162846=>{const _0x3d2dcc=_0x53a106;_0x50dff8[_0x3d2dcc(0x14a)][_0x3d2dcc(0xe9)]({'ParameterKey':_0x3d2dcc(0xd0)+_0x5261a8[_0x3d2dcc(0xc2)](String,_0x2c246b)[_0x3d2dcc(0xf3)](0x2,'0'),'ParameterValue':_0x162846[_0x3d2dcc(0xf7)]}),_0x2c246b+=0x1;});}const _0x4c45c8=await _0xcba7ec[_0x53a106(0x112)](_0x50dff8)['promise']();logger[_0x53a106(0xd2)](_0x5261a8['JBRqV']);const _0x1d3cd6={};return _0x1d3cd6['StackName']=_0x4c45c8[_0x53a106(0x107)],_0xcba7ec['waitFor'](_0x5261a8[_0x53a106(0x14c)],_0x1d3cd6)[_0x53a106(0xf2)]();};