const a1_0x217f66=a1_0x4aab;(function(_0x1fcf63,_0x4c50a8){const _0x472154=a1_0x4aab,_0x54e4e5=_0x1fcf63();while(!![]){try{const _0x59a228=parseInt(_0x472154(0x132))/0x1+-parseInt(_0x472154(0x16b))/0x2+-parseInt(_0x472154(0x1d9))/0x3+-parseInt(_0x472154(0x24a))/0x4*(parseInt(_0x472154(0x170))/0x5)+parseInt(_0x472154(0x134))/0x6+-parseInt(_0x472154(0x143))/0x7+parseInt(_0x472154(0x10d))/0x8*(parseInt(_0x472154(0xbf))/0x9);if(_0x59a228===_0x4c50a8)break;else _0x54e4e5['push'](_0x54e4e5['shift']());}catch(_0x1bc179){_0x54e4e5['push'](_0x54e4e5['shift']());}}}(a1_0x4e55,0x449a7));const fs=require('fs'),path=require(a1_0x217f66(0x163)),yaml=require('js-yaml'),{logger}=require(a1_0x217f66(0x105)),{CloudProvider}=require(a1_0x217f66(0x216)),{deleteRoutingDeps,deleteAgent}=require(a1_0x217f66(0x95)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x217f66(0x22d)),PERMISSIONS=require(a1_0x217f66(0xc4)),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require(a1_0x217f66(0x113)),{StorageManagementClient}=require(a1_0x217f66(0x99)),{AuthorizationManagementClient}=require(a1_0x217f66(0x1db)),{ResourceManagementClient}=require(a1_0x217f66(0x90)),{ContainerServiceClient}=require(a1_0x217f66(0xb3)),{runCommand}=require(a1_0x217f66(0x21b));function a1_0x4e55(){const _0x22b950=['xIxCs','Managed\x20identity\x20already\x20exists,\x20skipping','storageClient','value','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','AzureCloudProvider','ewSyJ','@azure/arm-resources','Authorization','bALXC','subnets','DKxGw','../utils/gridComponents','init','Vnoub','rws','@azure/arm-storage','SlPxF','djBxr','createFederatedAccountForHubHA','UMyQM','authClient','getStorageAccountName','mBADS','zzvbA','CAGTa','HPWMl','resourceGroups','Cannot\x20find\x20subnets\x20','blockBlob','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','Iswmk','blobTypes','wtuRR','No\x20CLI\x20tool\x20required','jLlru','ifJBk','rizAL','PtFxs','bsUCJ','toString','auzyw','@azure/arm-containerservice','ilWxf','IFmyk','tYfwB','zUSKS','createFederatedAccount','ajdrP','akscluster.json','getPrincipalIdFromClientId','storageAccountName','mfviP','hKjXc','18RZVgAG','length','RESOURCES','smQCf','EYCMO','../permissions/AZURE.json','hXzTP','uRcJz','cloudProviderTenantId','HdDVD','turboscale','dVcBw','cloudProviderName','rules','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','XAoDo','YDmuv','iubzt','ioabo','rgEjd','turboscale-identity-deployment','YRHSB','allowed','managedidentity.json','AcLKb','cred','list','getHeader','cTtGa','vpcInfo','cloudProviderClientId','string','Received\x20response\x20-\x20','principalId','yInpl','status','isManagedIdentityPresent','llbSy','cloudProviderClientSecret','VlmPL','sCnFG','UMSkE','DfGyX','policy','uYeOk','templates','OZNZm','vnetSubnetID','sIoHX','IoGko','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','deleteCluster','EBKvw','Tbkzn','ZUnQr','setCachedCredsInRegistry','SPRWm','XgkAs','getKubeConfigData','getToken','Hgzni','sbzoS','ICGTn','log','MhKbk','WwRVK','listAll','FgOrN','ZuQpN','JyxrQ','../config/logger','KHxbu','federatedidentity','yzhWW','cjdJy','\x20CLIENT\x20ID:\x20','tkIXU','parameters','3750056xeEbic','PxJYi','daysAfterCreationGreaterThan','IHifC','Kflua','browserstack:managedBy','@azure/arm-network','yOdNo','hubharesources','VybJC','WNCPF','ePrdA','JceNl','isStorageAccountPresent','readFileAsync','fKkKJ','permissions','QLfKc','HEYqM','Incremental','vokzR','parse','gridName','false','No\x20attached\x20role\x20for\x20the\x20client\x20key','Found\x20only\x20one\x20resource\x20group:\x20','data','clusterAutoUpgrade','hbBDX','RTRjn','subscriptionId','listForScope','actions','ZgAFM','uBuhi','delete','yuBwf','168868eAsIny','Creating\x20Azure\x20federated\x20identity','626292qzpjkv','oidcIssuerProfile','tYUAy','getClusterInfo','get','FzgaG','deployments','UXRKA','containerClient','cloudProvider','roleName','fYsvJ','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','beginDeleteAndWait','listByResourceGroup','1843947yBBciJ','5|2|0|6|1|4|7|3','Content-Type','DoZGk','token','YKTkE','HlKfL','Enabling\x20Local\x20account\x20for\x20the\x20cluster','NYxcI','HqLUJ','sendEventToBackend','HvOPq','FXGat','join','rASnG','prehB','qNZzg','TmNXI','push','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','TLOeu','kuXmB','GTUSO','denied','BNnzT','AWUcf','includes','GET','[variables(\x27vnetSubnetID\x27)]','VHjvC','tags','uYWCS','path','getById','HyfGH','GVNcI','storageaccount.json','UBWJd','name','mGcLb','896584hYGQeb','WMMBI','tbXCV','MYwdW','s3Bucket','384470FuzNFe','true','JbPRv','fVfUx','iUzeO','createManagedIdentity','DmBxE','SuyDm','method','cloudProviderSubscriptionId','PzCxw','dECYc','stringify','cloudProviderResourceGroup','ajvLs','json','DLRtk','DpDeC','yGNfU','getResourceGroups','oykQv','managementPolicies','TXJho','nFWuO','beginCreateOrUpdateAndWait','Pnnqa','nAwKE','ZkQCL','DmuAe','error','dizYx','qyeXT','regge','GTkiA','FPrpa','clusterInfo','hVpnW','OxfIj','TSxmb','XjfRl','exit','split','Xupzh','qMoMZ','KHNsK','GZROl','ZNqPu','assignedTo(\x27','XgTVe','vSXOC','qFtlk','BDJZY','baseBlob','Blob\x20delete\x20lifecycle','aczru','kJQZS','SqgYt','hub','instanceType','FuQuQ','ciLdi','hostname','fzRjY','bstackAccesskey','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','UKAkH','application/json','zgyWL','xXVlB','emxEr','azureresources','getResourceClientId','ixMgH','nyQhp','utf-8','clientId','loadBalancer','securityProfile','subnetName','ebcte','2|1|5|3|4|0','jDhLR','xTtMD','sendAzureInfoToHST','JzBpY','qOYXl','XGZIs','qozGj','maxNodes','wgFxR','Deleting\x20the\x20cluster\x20','tenantId','AHoim','KZrfZ','ydOGZ','clusterName','jypjH','turboscale-managed-identity-','hYkZF','kEWRu','entries','kLfxU','Tfghi','yPzvz','virtualNetworks','192792vTWjQv','iGmav','@azure/arm-authorization','3|2|1|4|0|5','fcJNt','toLowerCase','properties','HbCUq','ATQXu','variables','isVPCPresent','ArXFe','debug','webSocketUtils','type','isCliToolInstalled','\x20SUBSCRIPTION\x20ID:\x20','ZAPip','duaRl','vQhyi','WGTTm','ztDzr','gLukJ','resources','ingress','hiTDL','resourceGroup','issuerURL','sPikS','UuHxk','TVppg','OHRtr','CRBmE','SbJff','GGZLa','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','DBbbu','createCluster','xTXJc','ArsUl','eQSJb','lgRoK','federatedidentityuploader.json','managedClusters','filters','setClients','QumvH','snppD','nbNkN','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','isSubnetsValid','createStorageAccount','hHvSr','definition','default','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','Vqxyf','pIhli','SbJiO','AGzBY','DakbP','./CloudProvider','clientSecret','message','MyHiy','eFvRP','../utils/utilityMethods','dkWdd','forEach','xypSr','Arxgr','gQUzJ','hqpZi','createOtherResources','HSFLn','.json','GSByd','Fgmwj','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','hVMHY','Cannot\x20find\x20VPC\x20','bndfo','pvDAG','qyZra','../config/constants','oUdJK','networkClient','metadata','agentPoolProfiles','stack','FxJUk','sKhoW','fmwru','sroyC','silpj','GaeAD','xMnHl','KeWbc','turboscale-cluster-deployment','Attached\x20permissions\x20:\x20','GYgfq','getGridHostname','roleDefinitions','ZsPOz','gnWmn','Storage\x20account\x20already\x20exists,\x20skipping','TxqyS','PzRkM','getUserInput','yaaAS','Action\x20permission\x20list\x20is\x20empty\x0a','turboscale-storageaccount-deployment','roleDefinitionId','8ndVSQV','isBrowserstackCluster','TqNYb','raVri','hzQFK','role\x20name\x20attached\x20-\x20','HAODz','resourceClient','description','iCFjV','\x20TENANT\x20ID:\x20','OlKUm','sHYzv','turboscale-federated-deployment','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','bGhJB','SIeou','enabled','setupHubHa','Bearer\x20','disableLocalAccounts','rPKXe','ZxntF','pnpQt','.\x20Error:\x20','Mwfbr','JnWhv','No\x20service\x20principal\x20found','\x20CLIENT\x20SECRET:\x20','subscriptions/','eLgjv','headers','Deleted\x20the\x20cluster\x20successfully','info','checkAccess','rJHFj','actionPermission\x20:\x20','LOG','setupNewCluster'];a1_0x4e55=function(){return _0x22b950;};return a1_0x4e55();}class AzureCloudProvider extends CloudProvider{constructor(_0x552a93,_0x13dfc2,_0x4c60c6,_0x2e8663){const _0x542908=a1_0x217f66,_0x404b3e={};_0x404b3e[_0x542908(0x182)]=_0x542908(0x144);const _0x5ea7be=_0x404b3e,_0x46f4d9=_0x5ea7be[_0x542908(0x182)][_0x542908(0x199)]('|');let _0x458e01=0x0;while(!![]){switch(_0x46f4d9[_0x458e01++]){case'0':this[_0x542908(0x193)]=null;continue;case'1':this[_0x542908(0x8b)]=null;continue;case'2':this[_0x542908(0xd8)]=null;continue;case'3':this[_0x542908(0x9e)]=null;continue;case'4':this[_0x542908(0x251)]=null;continue;case'5':super(AZURE,_0x552a93,_0x13dfc2,_0x4c60c6,_0x2e8663);continue;case'6':this[_0x542908(0x13c)]=null;continue;case'7':this[_0x542908(0x22f)]=null;continue;}break;}}async[a1_0x217f66(0x96)](){return await super['init'](),this;}[a1_0x217f66(0x206)](){const _0x5ac3f2=a1_0x217f66,_0x176d51=new ClientSecretCredential(global_registry[_0x5ac3f2(0xc7)],global_registry[_0x5ac3f2(0xdd)],global_registry[_0x5ac3f2(0xe5)]);this[_0x5ac3f2(0x13c)]=new ContainerServiceClient(_0x176d51,global_registry[_0x5ac3f2(0x179)]),this[_0x5ac3f2(0x8b)]=new StorageManagementClient(_0x176d51,global_registry[_0x5ac3f2(0x179)]),this[_0x5ac3f2(0x251)]=new ResourceManagementClient(_0x176d51,global_registry[_0x5ac3f2(0x179)]),this[_0x5ac3f2(0x22f)]=new NetworkManagementClient(_0x176d51,global_registry[_0x5ac3f2(0x179)]),this['authClient']=new AuthorizationManagementClient(_0x176d51,global_registry[_0x5ac3f2(0x179)]),this[_0x5ac3f2(0xd8)]=_0x176d51;}[a1_0x217f66(0x9f)](){const _0x1f60ad=a1_0x217f66,_0x2701a2={};_0x2701a2[_0x1f60ad(0x200)]=function(_0x4870e9,_0x2455a9){return _0x4870e9+_0x2455a9;},_0x2701a2[_0x1f60ad(0x1ce)]='turboscale',_0x2701a2['UBWJd']=function(_0x41c449,_0x486e88){return _0x41c449-_0x486e88;};const _0x26ef8b=_0x2701a2,_0x3ea574=global_registry[_0x1f60ad(0x16f)]['split']('-'),_0x41a244=_0x26ef8b[_0x1f60ad(0x200)](_0x26ef8b[_0x1f60ad(0x1ce)],_0x3ea574[_0x26ef8b[_0x1f60ad(0x168)](_0x3ea574[_0x1f60ad(0xc0)],0x1)])['slice'](0x0,0x18);return _0x41a244[_0x1f60ad(0x1de)]();}[a1_0x217f66(0xf6)](_0x51b229){const _0x48994c=a1_0x217f66,_0x34576a={};_0x34576a[_0x48994c(0xe8)]=_0x48994c(0x1dc);const _0x24acef=_0x34576a,_0xdd98d0=_0x24acef[_0x48994c(0xe8)][_0x48994c(0x199)]('|');let _0x128074=0x0;while(!![]){switch(_0xdd98d0[_0x128074++]){case'0':global_registry[_0x48994c(0x17d)]=_0x51b229[this[_0x48994c(0xcb)]][_0x48994c(0x1f3)];continue;case'1':global_registry[_0x48994c(0xc7)]=_0x51b229[this[_0x48994c(0xcb)]][_0x48994c(0x1cb)];continue;case'2':global_registry[_0x48994c(0xe5)]=_0x51b229[this[_0x48994c(0xcb)]][_0x48994c(0x217)];continue;case'3':global_registry[_0x48994c(0xdd)]=_0x51b229[this[_0x48994c(0xcb)]][_0x48994c(0x1bb)];continue;case'4':global_registry[_0x48994c(0x179)]=_0x51b229[this[_0x48994c(0xcb)]][_0x48994c(0x12b)];continue;case'5':this['setClients']();continue;}break;}}async[a1_0x217f66(0x245)](_0x5a02f1,_0x38be63){const _0x1e502e=a1_0x217f66,_0x4bbdb3={'JlfdU':'No\x20service\x20principal\x20found','ioabo':function(_0x2a2d38,_0x169d82){return _0x2a2d38+_0x169d82;},'yInpl':function(_0x23c741,_0x1e6724){return _0x23c741===_0x1e6724;},'iUzeO':function(_0x555394,_0x1c54f1){return _0x555394(_0x1c54f1);},'tqGHm':function(_0x252ca4,_0x59d377){return _0x252ca4(_0x59d377);},'CAGTa':function(_0x452b97,_0x2d6e97){return _0x452b97(_0x2d6e97);},'bALXC':function(_0x117285,_0x109e6a){return _0x117285===_0x109e6a;},'ajdrP':_0x1e502e(0x116),'dZKec':_0x1e502e(0x23a),'CRBmE':function(_0x343570,_0x3c0480){return _0x343570===_0x3c0480;},'prehB':function(_0x87bbd6,_0x180067){return _0x87bbd6!==_0x180067;},'TVppg':_0x1e502e(0x10b),'rPKXe':function(_0x5ce327,_0x411f62){return _0x5ce327(_0x411f62);},'LgPxq':function(_0x4da510,_0x1513fe){return _0x4da510===_0x1513fe;},'auzyw':function(_0x3e9ff8,_0x141026){return _0x3e9ff8===_0x141026;},'smQCf':function(_0xd2c489,_0x2afe26){return _0xd2c489!==_0x2afe26;},'XGZIs':_0x1e502e(0x12f),'Arxgr':_0x1e502e(0xf1),'SuyDm':_0x1e502e(0x1f2),'EBKvw':function(_0x18557b,_0x1bfa31){return _0x18557b===_0x1bfa31;},'uYeOk':_0x1e502e(0x1ae),'rizAL':'bUifo','yuBwf':function(_0x39beb0,_0x7a0c3a){return _0x39beb0<_0x7a0c3a;},'hqpZi':_0x1e502e(0x16d),'fKkKJ':_0x1e502e(0x1e0),'dizYx':function(_0x4fd212,_0x5e1a18){return _0x4fd212+_0x5e1a18;},'fYsvJ':function(_0x58d69f,_0x2cfa2e){return _0x58d69f(_0x2cfa2e);},'nxAZy':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','MhKbk':function(_0x4abcfd,_0x3f3f2f){return _0x4abcfd(_0x3f3f2f);},'GGZLa':function(_0x534152,_0x5c23e8){return _0x534152<=_0x5c23e8;},'qozGj':function(_0x558423,_0x46ab9a){return _0x558423>_0x46ab9a;},'wtuRR':_0x1e502e(0xb7),'SqgYt':function(_0x45d436,_0x1837b1){return _0x45d436-_0x1837b1;}},_0x431dd3=this['cloudProviderName']['toUpperCase'](),_0x3a1b10=await _0x4bbdb3[_0x1e502e(0x174)](_0x5a02f1,_0x431dd3+_0x1e502e(0x10a)),_0xc5d546=await _0x4bbdb3[_0x1e502e(0x174)](_0x5a02f1,_0x431dd3+_0x1e502e(0x266)),_0x38862e=await _0x4bbdb3['tqGHm'](_0x5a02f1,_0x431dd3+_0x1e502e(0x254)),_0x378f8a=await _0x4bbdb3[_0x1e502e(0xa2)](_0x5a02f1,_0x431dd3+_0x1e502e(0x1e9));global_registry['cloudProviderClientId']=_0x3a1b10,global_registry['cloudProviderClientSecret']=_0xc5d546,global_registry[_0x1e502e(0xc7)]=_0x38862e,global_registry[_0x1e502e(0x179)]=_0x378f8a,this[_0x1e502e(0x206)]();const _0x48f2d3=await this['getResourceGroups'](),_0x1fef90=_0x48f2d3[_0x1e502e(0xc0)];let _0x286f2e;if(_0x4bbdb3[_0x1e502e(0xe1)](_0x1fef90,0x0)){if(_0x4bbdb3['bALXC'](_0x4bbdb3[_0x1e502e(0xb9)],_0x4bbdb3['dZKec']))throw new _0x442321(_0x4bbdb3['JlfdU'],_0x1e502e(0xdf)+_0x4104ee[_0x1e502e(0x17c)](_0x53ef20));else _0x286f2e=await _0x4bbdb3['iUzeO'](_0x5a02f1,_0x431dd3+'\x20RESOURCE\x20GROUP:\x20');}else{if(_0x4bbdb3[_0x1e502e(0x1f9)](_0x1fef90,0x1)){if(_0x4bbdb3['prehB'](_0x4bbdb3['TVppg'],_0x4bbdb3[_0x1e502e(0x1f7)]))_0x203e8b[_0x1e502e(0x198)](0x0);else{const _0x50082d=await _0x4bbdb3[_0x1e502e(0x25f)](_0x5a02f1,_0x1e502e(0x126)+_0x48f2d3[0x0]+_0x1e502e(0xcd));(_0x4bbdb3['LgPxq'](_0x50082d,undefined)||_0x4bbdb3[_0x1e502e(0x92)](_0x50082d,null)||!(_0x4bbdb3[_0x1e502e(0x1f9)](_0x50082d[_0x1e502e(0x1de)](),'y')||_0x4bbdb3[_0x1e502e(0xb2)](_0x50082d[_0x1e502e(0x1de)](),'n')))&&(_0x4bbdb3['smQCf'](_0x4bbdb3[_0x1e502e(0x1c6)],_0x4bbdb3['XGZIs'])?_0x81e3fa['log']('['+_0x4bbdb3[_0x1e502e(0xd1)](_0x118a46,0x1)+']\x20'+_0x5d292c[_0x502e9a]):(console[_0x1e502e(0x18d)](_0x4bbdb3[_0x1e502e(0x21f)]),process['exit'](0x1))),_0x4bbdb3[_0x1e502e(0xe1)](_0x50082d['toLowerCase'](),'n')&&(_0x4bbdb3[_0x1e502e(0xc2)](_0x4bbdb3[_0x1e502e(0x177)],_0x4bbdb3[_0x1e502e(0x177)])?_0x4bbdb3[_0x1e502e(0xe1)](_0x391444[_0x1e502e(0x169)],_0x4833bd)&&(_0x5f58ff=_0xd46d85['id']):process[_0x1e502e(0x198)](0x0)),_0x286f2e=_0x48f2d3[0x0];}}else{if(_0x4bbdb3[_0x1e502e(0xf3)](_0x4bbdb3[_0x1e502e(0xeb)],_0x4bbdb3[_0x1e502e(0xae)]))return;else{for(let _0x5a1356=0x0;_0x4bbdb3[_0x1e502e(0x131)](_0x5a1356,_0x48f2d3[_0x1e502e(0xc0)]);_0x5a1356+=0x1){if(_0x4bbdb3[_0x1e502e(0x152)](_0x4bbdb3[_0x1e502e(0x221)],_0x4bbdb3[_0x1e502e(0x11c)]))console[_0x1e502e(0xfe)]('['+_0x4bbdb3[_0x1e502e(0x18e)](_0x5a1356,0x1)+']\x20'+_0x48f2d3[_0x5a1356]);else return _0x110840['error'](_0x1e502e(0x229)+_0x29cbfd+_0x1e502e(0x1b0)+_0x3a06af),![];}const _0x4b8664=await _0x4bbdb3['fYsvJ'](_0x5a02f1,_0x4bbdb3['nxAZy']),_0x435692=_0x4bbdb3[_0x1e502e(0x13f)](Number,_0x4b8664);(_0x4bbdb3[_0x1e502e(0xff)](isNaN,_0x435692)||_0x4bbdb3[_0x1e502e(0x1fb)](_0x435692,0x0)||_0x4bbdb3[_0x1e502e(0x1c7)](_0x435692,_0x1fef90))&&(_0x4bbdb3['smQCf'](_0x4bbdb3[_0x1e502e(0xaa)],_0x4bbdb3[_0x1e502e(0xaa)])?_0x369d21[_0x1e502e(0xdc)]['push'](_0x309ab0):(console['error'](_0x4bbdb3[_0x1e502e(0x21f)]),process['exit'](0x1))),_0x286f2e=_0x48f2d3[_0x4bbdb3[_0x1e502e(0x1a8)](_0x435692,0x1)];}}}global_registry[_0x1e502e(0x17d)]=_0x286f2e;const _0x494f87={};return _0x494f87[_0x1e502e(0x1bb)]=_0x3a1b10,_0x494f87[_0x1e502e(0x217)]=_0xc5d546,_0x494f87['tenantId']=_0x38862e,_0x494f87[_0x1e502e(0x12b)]=_0x378f8a,_0x494f87['resourceGroup']=_0x286f2e,_0x38be63[_0x1e502e(0x13d)][AZURE]=_0x494f87,_0x38be63;}async[a1_0x217f66(0x183)](){const _0x23f1b1=a1_0x217f66,_0x162303={};_0x162303[_0x23f1b1(0xe4)]=_0x23f1b1(0x1c0),_0x162303['XNilJ']=function(_0xbb13e5,_0x4d148c){return _0xbb13e5!==_0x4d148c;},_0x162303['ixMgH']='fEROe',_0x162303['VaMYR']=function(_0x266e26,_0xacd88a){return _0x266e26===_0xacd88a;},_0x162303['vXraO']='tvwKb';const _0x3a8f12=_0x162303,_0x283d02=[];try{if(_0x3a8f12['XNilJ'](_0x3a8f12[_0x23f1b1(0x1b8)],_0x3a8f12[_0x23f1b1(0x1b8)])){const _0x464a28=_0x3a8f12['llbSy']['split']('|');let _0x2d7e3e=0x0;while(!![]){switch(_0x464a28[_0x2d7e3e++]){case'0':this['setClients']();continue;case'1':_0x5a6312[_0x23f1b1(0xe5)]=_0x271ce9[this[_0x23f1b1(0xcb)]]['clientSecret'];continue;case'2':_0x337a5a[_0x23f1b1(0xdd)]=_0x315a8e[this[_0x23f1b1(0xcb)]]['clientId'];continue;case'3':_0x18d8ff[_0x23f1b1(0x179)]=_0x4216b9[this[_0x23f1b1(0xcb)]][_0x23f1b1(0x12b)];continue;case'4':_0x4b361a[_0x23f1b1(0x17d)]=_0x184d37[this['cloudProviderName']][_0x23f1b1(0x1f3)];continue;case'5':_0x21f475[_0x23f1b1(0xc7)]=_0x1b992c[this[_0x23f1b1(0xcb)]][_0x23f1b1(0x1cb)];continue;}break;}}else{const _0x230bf5=await this['resourceClient'][_0x23f1b1(0xa4)][_0x23f1b1(0xd9)]();for await(const _0x4cd8af of _0x230bf5){if(_0x3a8f12['VaMYR'](_0x3a8f12['vXraO'],_0x3a8f12['vXraO']))_0x283d02[_0x23f1b1(0x155)](_0x4cd8af[_0x23f1b1(0x169)]);else return _0x391482[_0x23f1b1(0x18d)]=_0x471650['error'],_0x3cfa25;}}}catch(_0x46dafe){}return _0x283d02;}async[a1_0x217f66(0x137)](){const _0x3c5ab1=a1_0x217f66;return this[_0x3c5ab1(0x193)]=await this[_0x3c5ab1(0x13c)]['managedClusters']['get'](global_registry[_0x3c5ab1(0x17d)],this[_0x3c5ab1(0x1cf)]),this[_0x3c5ab1(0x193)];}async[a1_0x217f66(0xf9)](){const _0x2d1fbc=a1_0x217f66,_0xb4678a=await this['containerClient']['managedClusters']['listClusterAdminCredentials'](global_registry[_0x2d1fbc(0x17d)],this[_0x2d1fbc(0x1cf)]),_0x4cd1b7=_0xb4678a['kubeconfigs'][0x0][_0x2d1fbc(0x8c)][_0x2d1fbc(0xb1)]();return _0x4cd1b7;}[a1_0x217f66(0x23e)](_0x2b5af6){const _0x39fac5=a1_0x217f66;return _0x2b5af6[_0x39fac5(0xe2)][_0x39fac5(0x1bc)][_0x39fac5(0x1f1)][0x0][_0x39fac5(0x1ad)];}async['isClusterPresent'](){const _0x121c05=a1_0x217f66,_0x2d2a34={};_0x2d2a34[_0x121c05(0xe7)]=function(_0x561777,_0x348a65){return _0x561777===_0x348a65;},_0x2d2a34[_0x121c05(0x1c4)]='SLwnm',_0x2d2a34[_0x121c05(0x89)]=function(_0x2fc79c,_0x3a5eb5){return _0x2fc79c===_0x3a5eb5;},_0x2d2a34[_0x121c05(0x1ac)]=_0x121c05(0x1d5),_0x2d2a34[_0x121c05(0xca)]=function(_0xcc15d4,_0x3020d3){return _0xcc15d4===_0x3020d3;},_0x2d2a34['CfSbV']=_0x121c05(0x13b),_0x2d2a34[_0x121c05(0x261)]=_0x121c05(0xf7);const _0x20c137=_0x2d2a34,_0x418408=new Array();for await(const _0x1c9541 of this[_0x121c05(0x13c)][_0x121c05(0x204)]['listByResourceGroup'](global_registry[_0x121c05(0x17d)])){_0x20c137[_0x121c05(0xe7)](_0x20c137[_0x121c05(0x1c4)],_0x20c137[_0x121c05(0x1c4)])?_0x418408[_0x121c05(0x155)](_0x1c9541):_0x11b413[_0x121c05(0x155)](_0x5baa7d);}for await(const _0x4ffebb of _0x418408){if(_0x20c137[_0x121c05(0x89)](_0x20c137[_0x121c05(0x1ac)],_0x20c137[_0x121c05(0x1ac)])){if(_0x20c137[_0x121c05(0xca)](_0x4ffebb[_0x121c05(0x169)],this[_0x121c05(0x1cf)]))return _0x20c137[_0x121c05(0xca)](_0x20c137['CfSbV'],_0x20c137[_0x121c05(0x261)])?!![]:(await this[_0x121c05(0x137)](),!![]);}else _0x51dd68[_0x121c05(0x155)](_0x54ea71[_0x121c05(0x169)]);}return![];}async[a1_0x217f66(0x88)](_0x498679=null,_0x2ed979=null){const _0x389146=a1_0x217f66,_0x119442={};_0x119442[_0x389146(0x159)]='4|1|3|2|0|5',_0x119442['hHvSr']=_0x389146(0x227);const _0xddbf71=_0x119442,_0x48fe1c=_0xddbf71[_0x389146(0x159)][_0x389146(0x199)]('|');let _0x313d34=0x0;while(!![]){switch(_0x48fe1c[_0x313d34++]){case'0':await this[_0x389146(0x222)]();continue;case'1':const _0x2aabf5={};_0x2aabf5['type']=WS_EVENTS[_0x389146(0x87)],_0x2aabf5[_0x389146(0x218)]=_0xddbf71['hHvSr'],this['webSocketUtils'][_0x389146(0x14d)](this[_0x389146(0x98)],_0x2aabf5);continue;case'2':await this[_0x389146(0x1fe)](_0x498679,_0x2ed979);continue;case'3':logger[_0x389146(0x83)](_0xddbf71[_0x389146(0x20d)]);continue;case'4':this[_0x389146(0x1c3)]();continue;case'5':return[_0x498679,_0x2ed979];}break;}}async['createCluster'](_0x1cfabf=null,_0x51c3e2=null){const _0x4cd3f9=a1_0x217f66,_0x1aa2af={};_0x1aa2af[_0x4cd3f9(0x160)]=_0x4cd3f9(0xd5),_0x1aa2af[_0x4cd3f9(0x189)]=_0x4cd3f9(0x15a),_0x1aa2af[_0x4cd3f9(0x1da)]=_0x4cd3f9(0xec),_0x1aa2af[_0x4cd3f9(0x234)]=_0x4cd3f9(0x1b6),_0x1aa2af[_0x4cd3f9(0x16c)]=_0x4cd3f9(0xba),_0x1aa2af['zqlKY']=_0x4cd3f9(0x1ba),_0x1aa2af[_0x4cd3f9(0x1d6)]=_0x4cd3f9(0x171),_0x1aa2af[_0x4cd3f9(0x1b4)]=_0x4cd3f9(0x124),_0x1aa2af[_0x4cd3f9(0x194)]=function(_0xc7a81c,_0x3a2cb9){return _0xc7a81c!==_0x3a2cb9;},_0x1aa2af[_0x4cd3f9(0x1e1)]=function(_0x39d9bf,_0x43d917){return _0x39d9bf!==_0x43d917;},_0x1aa2af[_0x4cd3f9(0x158)]=function(_0x5bb235,_0x30efce){return _0x5bb235===_0x30efce;},_0x1aa2af[_0x4cd3f9(0xb0)]='DFBaa',_0x1aa2af[_0x4cd3f9(0x195)]=_0x4cd3f9(0xde),_0x1aa2af['ZsPOz']=_0x4cd3f9(0x8d),_0x1aa2af[_0x4cd3f9(0x1fa)]=_0x4cd3f9(0x1fc),_0x1aa2af[_0x4cd3f9(0x119)]='[variables(\x27vnetSubnetID\x27)]',_0x1aa2af[_0x4cd3f9(0x19c)]=_0x4cd3f9(0x23b),_0x1aa2af[_0x4cd3f9(0x181)]='Incremental';const _0x3a4562=_0x1aa2af;let _0x1f8517=await fs['readFileAsync'](path['join'](__dirname,'..',_0x3a4562[_0x4cd3f9(0x1da)],_0x3a4562['sKhoW'],_0x3a4562['WMMBI']),_0x3a4562['zqlKY']);_0x1f8517=JSON[_0x4cd3f9(0x122)](_0x1f8517);const _0x21aada={};_0x21aada[_0x4cd3f9(0x8c)]=this[_0x4cd3f9(0x1cf)];const _0x3a9cb1={};_0x3a9cb1[_0x4cd3f9(0x8c)]=global_registry['clusterRegion'];const _0x579a96={};_0x579a96[_0x4cd3f9(0x8c)]=global_registry[_0x4cd3f9(0x1aa)];const _0xae95ab={};_0xae95ab[_0x4cd3f9(0x8c)]=global_registry[_0x4cd3f9(0x1c8)];const _0x35d06a={};_0x35d06a[_0x4cd3f9(0x8c)]=global_registry[_0x4cd3f9(0x128)]?_0x3a4562[_0x4cd3f9(0x1d6)]:_0x3a4562[_0x4cd3f9(0x1b4)];const _0x1face2={};_0x1face2[_0x4cd3f9(0x1cf)]=_0x21aada,_0x1face2['location']=_0x3a9cb1,_0x1face2['userInstanceType']=_0x579a96,_0x1face2['userMaxNodes']=_0xae95ab,_0x1face2[_0x4cd3f9(0x128)]=_0x35d06a;let _0x3012e9=_0x1face2;if(_0x3a4562[_0x4cd3f9(0x194)](_0x1cfabf,null)&&_0x3a4562[_0x4cd3f9(0x1e1)](_0x51c3e2,null)){if(_0x3a4562[_0x4cd3f9(0x158)](_0x3a4562['bsUCJ'],_0x3a4562[_0x4cd3f9(0xb0)])){const _0x119891={};_0x119891['type']=_0x3a4562['OxfIj'],_0x119891[_0x4cd3f9(0x230)]={},_0x119891[_0x4cd3f9(0x230)][_0x4cd3f9(0x252)]=_0x3a4562[_0x4cd3f9(0x240)];const _0x1bfb9d={};_0x1bfb9d[_0x4cd3f9(0x1e7)]=_0x3a4562[_0x4cd3f9(0x195)],_0x1bfb9d[_0x4cd3f9(0x230)]={},_0x1bfb9d[_0x4cd3f9(0x230)][_0x4cd3f9(0x252)]=_0x3a4562[_0x4cd3f9(0x240)],_0x1f8517[_0x4cd3f9(0x10c)]={..._0x1f8517['parameters'],'vpcName':_0x119891,'subnetName':_0x1bfb9d};const _0x12e390={};_0x12e390[_0x4cd3f9(0xee)]=_0x3a4562[_0x4cd3f9(0x1fa)],_0x1f8517['variables']=_0x12e390,_0x1f8517[_0x4cd3f9(0x1f0)][0x0]['properties'][_0x4cd3f9(0x231)][0x0]={..._0x1f8517[_0x4cd3f9(0x1f0)][0x0]['properties'][_0x4cd3f9(0x231)][0x0],'vnetSubnetID':_0x3a4562[_0x4cd3f9(0x119)]};const _0x570e54={};_0x570e54[_0x4cd3f9(0x8c)]=_0x1cfabf;const _0x282641={};_0x282641[_0x4cd3f9(0x8c)]=_0x51c3e2[0x0],_0x3012e9={..._0x3012e9,'vpcName':_0x570e54,'subnetName':_0x282641};}else{const _0x4aab9b=_0x43ab03[_0x4cd3f9(0x15d)](_0x3ac0b8);_0x4679d6+='\x0a\x09'+_0x2719e2+':\x20'+(_0x4aab9b?_0x3a4562['VHjvC']:_0x3a4562[_0x4cd3f9(0x189)]),!_0x4aab9b&&(_0x5ac8ff['status']=![]);}}await this[_0x4cd3f9(0x251)][_0x4cd3f9(0x13a)][_0x4cd3f9(0x188)](global_registry[_0x4cd3f9(0x17d)],_0x3a4562[_0x4cd3f9(0x19c)],{'properties':{'template':_0x1f8517,'mode':_0x3a4562[_0x4cd3f9(0x181)],'parameters':_0x3012e9}});}async[a1_0x217f66(0x222)](){const _0x402316=a1_0x217f66,_0x225f2b={};_0x225f2b[_0x402316(0x85)]=_0x402316(0xa7),_0x225f2b[_0x402316(0x1ed)]=_0x402316(0x140),_0x225f2b[_0x402316(0x162)]=function(_0x3ba6bd,_0x7626ee){return _0x3ba6bd===_0x7626ee;},_0x225f2b[_0x402316(0x109)]='PZMVA',_0x225f2b['djBxr']='Creating\x20Azure\x20storage\x20account',_0x225f2b[_0x402316(0x18a)]=function(_0xf3b193,_0x47ec3c){return _0xf3b193!==_0x47ec3c;},_0x225f2b['UKAkH']=_0x402316(0x24c),_0x225f2b[_0x402316(0xb5)]=_0x402316(0x239),_0x225f2b[_0x402316(0x16a)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x225f2b['snppD']='cKdTo',_0x225f2b[_0x402316(0x260)]='Creating\x20Azure\x20managed\x20identity',_0x225f2b['NYxcI']=function(_0x18a2f5,_0x2d316d){return _0x18a2f5===_0x2d316d;},_0x225f2b['qOYXl']=_0x402316(0x1cd),_0x225f2b[_0x402316(0xc5)]=_0x402316(0x1ab),_0x225f2b[_0x402316(0x1f6)]=_0x402316(0x8a),_0x225f2b[_0x402316(0x1ff)]=_0x402316(0x133),_0x225f2b[_0x402316(0x19e)]='Created\x20Azure\x20federated\x20identity';const _0x454721=_0x225f2b,_0x310bad=await this[_0x402316(0x11a)]();if(!_0x310bad){if(_0x454721[_0x402316(0x162)](_0x454721['cjdJy'],_0x454721[_0x402316(0x109)])){const _0x43c7f8={};_0x43c7f8[_0x402316(0x1e7)]=WS_EVENTS['LOG'],_0x43c7f8[_0x402316(0x218)]=_0x454721[_0x402316(0x9b)],this[_0x402316(0x1e6)][_0x402316(0x14d)](this['rws'],_0x43c7f8),logger['info'](_0x454721[_0x402316(0x9b)]),await this[_0x402316(0x20c)]();}else{_0x58c6bd['info'](_0x454721['rJHFj']);const _0x495a8b={};_0x495a8b[_0x402316(0x1e7)]=_0x135750[_0x402316(0xc1)],_0x495a8b[_0x402316(0x218)]=_0x454721[_0x402316(0x85)],this[_0x402316(0x1e6)]['sendEventToBackend'](this['rws'],_0x495a8b);const _0x51d44f={};_0x51d44f[_0x402316(0x25b)]=!![];const _0x224c2f={'workloadIdentity':_0x51d44f,..._0x1ec34c[_0x402316(0x1bd)]};_0x5c23fa[_0x402316(0x1bd)]=_0x224c2f;}}else{if(_0x454721['nAwKE'](_0x454721[_0x402316(0x1b1)],_0x454721[_0x402316(0xb5)]))logger['info'](_0x454721['mGcLb']);else{const _0x12d411=new _0x3a3675(_0x4ad5e0[_0x402316(0xc7)],_0x49d814[_0x402316(0xdd)],_0x453c39[_0x402316(0xe5)]);this['containerClient']=new _0x5b5bdf(_0x12d411,_0x3ed4f8['cloudProviderSubscriptionId']),this['storageClient']=new _0x568862(_0x12d411,_0x36e6b4[_0x402316(0x179)]),this['resourceClient']=new _0x31550b(_0x12d411,_0x4ed1b4[_0x402316(0x179)]),this[_0x402316(0x22f)]=new _0x1071b2(_0x12d411,_0x50d438[_0x402316(0x179)]),this[_0x402316(0x9e)]=new _0x183d56(_0x12d411,_0x22dbfe[_0x402316(0x179)]),this[_0x402316(0xd8)]=_0x12d411;}}const _0x42faa0=await this[_0x402316(0xe3)]();if(!_0x42faa0){if(_0x454721[_0x402316(0x162)](_0x454721[_0x402316(0x208)],_0x454721[_0x402316(0x208)])){const _0x1013ec={};_0x1013ec[_0x402316(0x1e7)]=WS_EVENTS[_0x402316(0x87)],_0x1013ec[_0x402316(0x218)]=_0x454721[_0x402316(0x260)],this['webSocketUtils'][_0x402316(0x14d)](this[_0x402316(0x98)],_0x1013ec),logger[_0x402316(0x83)](_0x454721['ZxntF']),await this[_0x402316(0x175)]();}else{_0x27297b[_0x402316(0x83)](_0x454721['WGTTm']);const _0x4ab54c={};_0x4ab54c[_0x402316(0x1e7)]=_0x5c4b9a[_0x402316(0xc1)],_0x4ab54c['message']=_0x454721[_0x402316(0x1ed)],this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x4ab54c),_0x15632d[_0x402316(0x135)]['enabled']=!![];}}else{if(_0x454721[_0x402316(0x14b)](_0x454721[_0x402316(0x1c5)],_0x454721[_0x402316(0xc5)]))return!![];else logger[_0x402316(0x83)](_0x454721[_0x402316(0x1f6)]);}logger[_0x402316(0x83)](_0x454721[_0x402316(0x1ff)]),await this[_0x402316(0xb8)](),logger[_0x402316(0x83)](_0x454721[_0x402316(0x19e)]);}async[a1_0x217f66(0x20c)](){const _0x3c879b=a1_0x217f66,_0x3a9eb8={};_0x3a9eb8[_0x3c879b(0x233)]='templates',_0x3a9eb8[_0x3c879b(0x1f5)]=_0x3c879b(0x1b6),_0x3a9eb8[_0x3c879b(0x114)]=_0x3c879b(0x167),_0x3a9eb8[_0x3c879b(0x11f)]=_0x3c879b(0x1ba),_0x3a9eb8['Lkika']=_0x3c879b(0x248),_0x3a9eb8[_0x3c879b(0x149)]=_0x3c879b(0x120),_0x3a9eb8[_0x3c879b(0x15b)]=_0x3c879b(0x1a5),_0x3a9eb8['GhEWa']='Lifecycle',_0x3a9eb8[_0x3c879b(0x18f)]=_0x3c879b(0xa6),_0x3a9eb8[_0x3c879b(0x1c9)]=_0x3c879b(0x20f);const _0x5bf7bc=_0x3a9eb8;let _0xfb69a9=await fs['readFileAsync'](path[_0x3c879b(0x150)](__dirname,'..',_0x5bf7bc[_0x3c879b(0x233)],_0x5bf7bc['sPikS'],_0x5bf7bc[_0x3c879b(0x114)]),_0x5bf7bc[_0x3c879b(0x11f)]);_0xfb69a9=JSON['parse'](_0xfb69a9);const _0x49a220=this[_0x3c879b(0x9f)](),_0x415d6f={};_0x415d6f['value']=_0x49a220;const _0x15976e={};_0x15976e[_0x3c879b(0xbc)]=_0x415d6f,await this[_0x3c879b(0x251)][_0x3c879b(0x13a)][_0x3c879b(0x188)](global_registry[_0x3c879b(0x17d)],_0x5bf7bc['Lkika'],{'properties':{'template':_0xfb69a9,'mode':_0x5bf7bc[_0x3c879b(0x149)],'parameters':_0x15976e}});const _0x343f0c={};_0x343f0c[_0x3c879b(0x10f)]=0x3c;const _0x226ddb={};_0x226ddb[_0x3c879b(0x130)]=_0x343f0c;const _0x1afd30={};_0x1afd30[_0x3c879b(0x1a4)]=_0x226ddb;const _0x1acab8={};_0x1acab8[_0x3c879b(0x25b)]=!![],_0x1acab8[_0x3c879b(0x169)]=_0x5bf7bc[_0x3c879b(0x15b)],_0x1acab8[_0x3c879b(0x1e7)]=_0x5bf7bc['GhEWa'],_0x1acab8[_0x3c879b(0x20e)]={},_0x1acab8[_0x3c879b(0x20e)][_0x3c879b(0x12d)]=_0x1afd30,_0x1acab8[_0x3c879b(0x20e)][_0x3c879b(0x205)]={},_0x1acab8[_0x3c879b(0x20e)][_0x3c879b(0x205)][_0x3c879b(0xa9)]=[_0x5bf7bc[_0x3c879b(0x18f)]];const _0x42f82b={};_0x42f82b[_0x3c879b(0xcc)]=[_0x1acab8];const _0x602fcc={};_0x602fcc[_0x3c879b(0xea)]=_0x42f82b;const _0x5f2cd7=_0x602fcc;await this['storageClient'][_0x3c879b(0x185)]['createOrUpdate'](global_registry[_0x3c879b(0x17d)],_0x49a220,_0x5bf7bc[_0x3c879b(0x1c9)],_0x5f2cd7);}async[a1_0x217f66(0x175)](){const _0x29ec24=a1_0x217f66,_0x2f463a={};_0x2f463a[_0x29ec24(0x17a)]='templates',_0x2f463a[_0x29ec24(0x104)]=_0x29ec24(0x1b6),_0x2f463a['GYgfq']=_0x29ec24(0xd6),_0x2f463a['fOEsz']=_0x29ec24(0x1ba),_0x2f463a[_0x29ec24(0xfb)]=_0x29ec24(0xd3),_0x2f463a[_0x29ec24(0x9d)]=_0x29ec24(0x120);const _0x141dfe=_0x2f463a;let _0x7a31b2=await fs[_0x29ec24(0x11b)](path[_0x29ec24(0x150)](__dirname,'..',_0x141dfe[_0x29ec24(0x17a)],_0x141dfe['JyxrQ'],_0x141dfe[_0x29ec24(0x23d)]),_0x141dfe['fOEsz']);_0x7a31b2=JSON[_0x29ec24(0x122)](_0x7a31b2),await this[_0x29ec24(0x251)][_0x29ec24(0x13a)][_0x29ec24(0x188)](global_registry[_0x29ec24(0x17d)],_0x141dfe[_0x29ec24(0xfb)],{'properties':{'template':_0x7a31b2,'mode':_0x141dfe[_0x29ec24(0x9d)],'parameters':{'clusterName':{'value':this[_0x29ec24(0x1cf)]}}}});}async[a1_0x217f66(0xb8)](){const _0x49b454=a1_0x217f66,_0xbf17a7={};_0xbf17a7['GZROl']=_0x49b454(0xf1),_0xbf17a7[_0x49b454(0x1ef)]=function(_0x52865e,_0x562396){return _0x52865e===_0x562396;},_0xbf17a7[_0x49b454(0x246)]=_0x49b454(0x1bf),_0xbf17a7[_0x49b454(0x236)]=_0x49b454(0x1a9),_0xbf17a7[_0x49b454(0x1cc)]='node',_0xbf17a7['Vnoub']=function(_0x95bb70,_0x21b8db){return _0x95bb70!==_0x21b8db;},_0xbf17a7[_0x49b454(0x1a7)]=_0x49b454(0x235),_0xbf17a7[_0x49b454(0x25a)]=_0x49b454(0x17e),_0xbf17a7[_0x49b454(0x191)]=_0x49b454(0xec),_0xbf17a7[_0x49b454(0x117)]=_0x49b454(0x1b6),_0xbf17a7[_0x49b454(0x219)]='utf-8',_0xbf17a7[_0x49b454(0x1f8)]=_0x49b454(0x257),_0xbf17a7['WwRVK']='Incremental';const _0x20233f=_0xbf17a7;!this[_0x49b454(0x193)]&&(_0x20233f[_0x49b454(0x1ef)](_0x20233f[_0x49b454(0x246)],_0x20233f[_0x49b454(0x246)])?await this[_0x49b454(0x137)]():(_0x31aad8[_0x49b454(0x18d)](_0x20233f['GZROl']),_0x31f273[_0x49b454(0x198)](0x1)));const _0x231ba2=this['clusterInfo']?.[_0x49b454(0x135)]?.[_0x49b454(0x1f4)],_0x38b3ea=[_0x20233f[_0x49b454(0x236)],_0x20233f[_0x49b454(0x1cc)]];for await(const _0x249cdd of _0x38b3ea){if(_0x20233f[_0x49b454(0x97)](_0x20233f['kJQZS'],_0x20233f['SIeou'])){let _0x2069b2=await fs[_0x49b454(0x11b)](path[_0x49b454(0x150)](__dirname,'..',_0x20233f[_0x49b454(0x191)],_0x20233f[_0x49b454(0x117)],_0x49b454(0x107)+_0x249cdd+_0x49b454(0x224)),_0x20233f[_0x49b454(0x219)]);_0x2069b2=JSON[_0x49b454(0x122)](_0x2069b2);const _0x38ffd4={};_0x38ffd4[_0x49b454(0x8c)]=_0x231ba2,await this[_0x49b454(0x251)][_0x49b454(0x13a)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x20233f['OHRtr'],{'properties':{'template':_0x2069b2,'mode':_0x20233f[_0x49b454(0x100)],'parameters':{'oidcIssuer':_0x38ffd4,'gridName':{'value':this[_0x49b454(0x123)]},'clusterName':{'value':this[_0x49b454(0x1cf)]}}}});}else _0x57cfcd[_0x49b454(0x18d)](_0x20233f[_0x49b454(0x19d)]),_0x53ab48[_0x49b454(0x198)](0x1);}}async[a1_0x217f66(0x25c)](_0x4f2f56,_0x381151,_0x38c185,_0x5aa9f8,_0x1ffa6a){const _0x5921d3=a1_0x217f66,_0x4c4b03={};_0x4c4b03[_0x5921d3(0x1a0)]='Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha',_0x4c4b03['HSFLn']=_0x5921d3(0x210);const _0x4865c5=_0x4c4b03,_0x578d56={};_0x578d56[_0x5921d3(0x1e7)]=WS_EVENTS[_0x5921d3(0x87)],_0x578d56[_0x5921d3(0x218)]=_0x4865c5[_0x5921d3(0x1a0)],this[_0x5921d3(0x1e6)][_0x5921d3(0x14d)](this[_0x5921d3(0x98)],_0x578d56),logger[_0x5921d3(0x83)](_0x4865c5['XgTVe']),await this[_0x5921d3(0x9c)]();const _0x2fe670={};_0x2fe670['type']=WS_EVENTS[_0x5921d3(0x87)],_0x2fe670[_0x5921d3(0x218)]=_0x4865c5[_0x5921d3(0x223)],this[_0x5921d3(0x1e6)][_0x5921d3(0x14d)](this['rws'],_0x2fe670);}async[a1_0x217f66(0x9c)](){const _0x569f7b=a1_0x217f66,_0x259e2a={'TLOeu':function(_0x3dea41,_0x27ddf9,_0x53cb39){return _0x3dea41(_0x27ddf9,_0x53cb39);},'SbJiO':function(_0x4c17e0,_0x2a6f78){return _0x4c17e0===_0x2a6f78;},'HPWMl':_0x569f7b(0x146),'iubzt':'templates','nShzU':_0x569f7b(0x115),'xypSr':_0x569f7b(0x203),'vokzR':'utf-8','dkWdd':_0x569f7b(0x257),'OsrZq':_0x569f7b(0x120)};!this[_0x569f7b(0x193)]&&(_0x259e2a[_0x569f7b(0x213)](_0x259e2a['HPWMl'],_0x259e2a[_0x569f7b(0xa3)])?await this[_0x569f7b(0x137)]():_0x259e2a[_0x569f7b(0x157)](_0x43a6d1,()=>_0x362b5a(),0x3e8));const _0x5376a2=this[_0x569f7b(0x193)]?.[_0x569f7b(0x135)]?.[_0x569f7b(0x1f4)];let _0x5384f6=await fs[_0x569f7b(0x11b)](path[_0x569f7b(0x150)](__dirname,'..',_0x259e2a[_0x569f7b(0xd0)],_0x259e2a['nShzU'],_0x259e2a[_0x569f7b(0x21e)]),_0x259e2a[_0x569f7b(0x121)]);_0x5384f6=JSON[_0x569f7b(0x122)](_0x5384f6);const _0x89c389={};_0x89c389[_0x569f7b(0x8c)]=_0x5376a2,await this[_0x569f7b(0x251)][_0x569f7b(0x13a)][_0x569f7b(0x188)](global_registry[_0x569f7b(0x17d)],_0x259e2a[_0x569f7b(0x21c)],{'properties':{'template':_0x5384f6,'mode':_0x259e2a['OsrZq'],'parameters':{'oidcIssuer':_0x89c389,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0x569f7b(0x1cf)]}}}});}async[a1_0x217f66(0x11a)](){const _0x43072e=a1_0x217f66,_0x5daad0={};_0x5daad0[_0x43072e(0xdb)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x5daad0[_0x43072e(0x12e)]=function(_0x31de49,_0x5d11f2){return _0x31de49===_0x5d11f2;},_0x5daad0[_0x43072e(0x263)]=_0x43072e(0xd7),_0x5daad0[_0x43072e(0xcf)]=function(_0x54194b,_0x25ced4){return _0x54194b!==_0x25ced4;},_0x5daad0[_0x43072e(0x1d0)]=_0x43072e(0xbd),_0x5daad0[_0x43072e(0xf4)]=function(_0xd96455,_0x1b0c03){return _0xd96455===_0x1b0c03;},_0x5daad0[_0x43072e(0xfd)]=function(_0x576bcc,_0x1558a8){return _0x576bcc===_0x1558a8;},_0x5daad0[_0x43072e(0x106)]='SyYyN';const _0x8fa73f=_0x5daad0,_0x236d4d=this['getStorageAccountName'](),_0x18aa0c=new Array();for await(const _0x1a70eb of this['storageClient']['storageAccounts']['listByResourceGroup'](global_registry[_0x43072e(0x17d)])){_0x8fa73f['ZgAFM'](_0x8fa73f['Mwfbr'],_0x8fa73f[_0x43072e(0x263)])?_0x18aa0c[_0x43072e(0x155)](_0x1a70eb):_0x4dcf5d[_0x43072e(0xe2)]=![];}for await(const _0x1f2dd8 of _0x18aa0c){if(_0x8fa73f[_0x43072e(0xcf)](_0x8fa73f[_0x43072e(0x1d0)],_0x8fa73f[_0x43072e(0x1d0)]))return _0xc2289e[_0x43072e(0x127)]=_0x8fa73f[_0x43072e(0xdb)],_0x3badc0;else{if(_0x8fa73f['Tbkzn'](_0x1f2dd8[_0x43072e(0x169)],_0x236d4d)){if(_0x8fa73f['ICGTn'](_0x8fa73f['KHxbu'],_0x8fa73f[_0x43072e(0x106)]))return!![];else _0x4da8dd[_0x43072e(0x155)](_0x6b83ee);}}}return![];}async[a1_0x217f66(0xe3)](){const _0x5b9527=a1_0x217f66,_0x3b818d={};_0x3b818d[_0x5b9527(0x1a3)]=_0x5b9527(0x14a),_0x3b818d['ArXFe']=function(_0x5c88ee,_0xa9ddc8){return _0x5c88ee!==_0xa9ddc8;},_0x3b818d[_0x5b9527(0xb6)]=_0x5b9527(0x209),_0x3b818d[_0x5b9527(0x22c)]=function(_0x29aec1,_0x3cc608){return _0x29aec1===_0x3cc608;},_0x3b818d['gQUzJ']=_0x5b9527(0xed),_0x3b818d[_0x5b9527(0xf8)]=function(_0x2d0191,_0x1ed809){return _0x2d0191===_0x1ed809;},_0x3b818d[_0x5b9527(0x1a6)]=_0x5b9527(0x108);const _0x3c7598=_0x3b818d,_0x169346=new Array();for await(const _0x9ffd4e of this[_0x5b9527(0x251)]['resources']['listByResourceGroup'](global_registry[_0x5b9527(0x17d)])){_0x3c7598[_0x5b9527(0x1e4)](_0x3c7598[_0x5b9527(0xb6)],_0x3c7598[_0x5b9527(0xb6)])?_0x8b55b3=_0x14c5ca['id']:_0x169346['push'](_0x9ffd4e);}for await(const _0x4a0310 of _0x169346){if(_0x3c7598[_0x5b9527(0x22c)](_0x3c7598[_0x5b9527(0x220)],_0x3c7598[_0x5b9527(0x220)])){if(_0x3c7598[_0x5b9527(0x22c)](_0x4a0310['name'],'turboscale-managed-identity-'+this[_0x5b9527(0x1cf)])){if(_0x3c7598[_0x5b9527(0xf8)](_0x3c7598[_0x5b9527(0x1a6)],_0x3c7598[_0x5b9527(0x1a6)]))return!![];else{_0x17a8fc[_0x5b9527(0x83)](_0x3c7598[_0x5b9527(0x1a3)]);const _0x73fbc5={};_0x73fbc5[_0x5b9527(0x1e7)]=_0xb9e232['RESOURCES'],_0x73fbc5[_0x5b9527(0x218)]=_0x3c7598[_0x5b9527(0x1a3)],this[_0x5b9527(0x1e6)][_0x5b9527(0x14d)](this[_0x5b9527(0x98)],_0x73fbc5),_0x54700d[_0x5b9527(0x25e)]=![];}}}else _0xc60bef['push'](_0x2b9240);}return![];}async[a1_0x217f66(0x1b7)](_0x1bbf72,_0x4274a4=0x3){const _0x37e516=a1_0x217f66,_0x867d49={'pvDAG':'string','fcJNt':_0x37e516(0x8d),'Fgmwj':_0x37e516(0x1fc),'emxEr':_0x37e516(0x15f),'PzRkM':function(_0x49c70e,_0x497778){return _0x49c70e===_0x497778;},'HdDVD':_0x37e516(0x247),'Xupzh':function(_0x4a7bdd,_0x3f545){return _0x4a7bdd!==_0x3f545;},'DmBxE':'ESntL','sHYzv':function(_0x454dba,_0x2458f2,_0x20b09d){return _0x454dba(_0x2458f2,_0x20b09d);},'qhiea':_0x37e516(0x238),'lgRoK':_0x37e516(0x22e),'DmuAe':'JFGCd','duaRl':'HTVMK','nrCfD':function(_0x9f3444,_0x16acf1){return _0x9f3444!==_0x16acf1;},'ewSyJ':_0x37e516(0xc6),'mBADS':function(_0x2bf8e1,_0x1574ad){return _0x2bf8e1===_0x1574ad;},'ztDzr':'UEvpZ','regge':'SCQzB','sbzoS':'2023-01-31','HAODz':function(_0x4066f8,_0x37e496){return _0x4066f8===_0x37e496;},'GQeJI':_0x37e516(0x1d2),'bGhJB':_0x37e516(0x14e),'PxJYi':function(_0x311b7b,_0x4a5a5d){return _0x311b7b<=_0x4a5a5d;},'tYUAy':function(_0xd89b14,_0x2e93e3){return _0xd89b14===_0x2e93e3;},'DakbP':'OCcMn','pIhli':function(_0x3620d5,_0x2c9e14){return _0x3620d5-_0x2c9e14;}};try{if(_0x867d49[_0x37e516(0x244)](_0x867d49['qhiea'],_0x867d49[_0x37e516(0x202)]))return!![];else{const _0x278dc7=new Array();for await(const _0x4e4f81 of this['resourceClient'][_0x37e516(0x1f0)][_0x37e516(0x142)](global_registry['cloudProviderResourceGroup'])){if(_0x867d49['Xupzh'](_0x867d49[_0x37e516(0x18c)],_0x867d49[_0x37e516(0x1eb)]))_0x278dc7['push'](_0x4e4f81);else{const _0x525393={};_0x525393['type']=_0x867d49[_0x37e516(0x22b)],_0x525393[_0x37e516(0x230)]={},_0x525393[_0x37e516(0x230)][_0x37e516(0x252)]=_0x867d49[_0x37e516(0x1dd)];const _0x23d3e9={};_0x23d3e9[_0x37e516(0x1e7)]=_0x867d49[_0x37e516(0x22b)],_0x23d3e9[_0x37e516(0x230)]={},_0x23d3e9[_0x37e516(0x230)][_0x37e516(0x252)]=_0x867d49[_0x37e516(0x1dd)];const _0x3c3003={..._0x52f557[_0x37e516(0x10c)]};_0x3c3003['vpcName']=_0x525393,_0x3c3003['subnetName']=_0x23d3e9,_0x45551c[_0x37e516(0x10c)]=_0x3c3003;const _0x2372e7={};_0x2372e7[_0x37e516(0xee)]=_0x867d49[_0x37e516(0x226)],_0x35c111[_0x37e516(0x1e2)]=_0x2372e7;const _0x2eb37b={..._0x27d828[_0x37e516(0x1f0)][0x0][_0x37e516(0x1df)]['agentPoolProfiles'][0x0]};_0x2eb37b[_0x37e516(0xee)]=_0x867d49[_0x37e516(0x1b5)],_0x43a93c[_0x37e516(0x1f0)][0x0][_0x37e516(0x1df)][_0x37e516(0x231)][0x0]=_0x2eb37b;const _0x2d0c29={};_0x2d0c29[_0x37e516(0x8c)]=_0x3fac43;const _0x5c4604={};_0x5c4604['value']=_0x46f1c6[0x0];const _0x254bdc={..._0x5a995e};_0x254bdc['vpcName']=_0x2d0c29,_0x254bdc[_0x37e516(0x1be)]=_0x5c4604,_0x923ede=_0x254bdc;}}let _0x496173='';for await(const _0x9ee19f of _0x278dc7){_0x867d49['nrCfD'](_0x867d49[_0x37e516(0x8f)],_0x867d49[_0x37e516(0x8f)])?_0x4d0b4b[_0x37e516(0x155)](_0x23858c):_0x867d49['mBADS'](_0x9ee19f[_0x37e516(0x169)],_0x1bbf72)&&(_0x867d49[_0x37e516(0xa0)](_0x867d49[_0x37e516(0x1ee)],_0x867d49[_0x37e516(0x190)])?(_0x129b5c+=_0x867d49[_0x37e516(0x244)](_0x388274[_0x37e516(0xc0)],0x0)?_0x867d49[_0x37e516(0xc8)]:'',_0x5c58ea[_0x37e516(0x1e5)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x643e29[_0x37e516(0x17c)](_0x124c56))):_0x496173=_0x9ee19f['id']);}const _0x47378d=await this[_0x37e516(0x251)][_0x37e516(0x1f0)][_0x37e516(0x164)](_0x496173,_0x867d49[_0x37e516(0xfc)]);return _0x47378d[_0x37e516(0x1df)]['clientId'];}}catch(_0xfdc37){if(_0x867d49[_0x37e516(0x250)](_0x867d49['GQeJI'],_0x867d49[_0x37e516(0x259)]))_0x3ebf88[_0x37e516(0x155)](_0x6b0d55);else{if(_0x867d49[_0x37e516(0x10e)](_0x4274a4,0x0)){if(_0x867d49[_0x37e516(0x136)](_0x867d49[_0x37e516(0x215)],_0x867d49[_0x37e516(0x215)]))return logger[_0x37e516(0x18d)](_0x37e516(0x156)+_0xfdc37+':'+_0xfdc37['stack']),{};else _0x4ad74e[_0x37e516(0x155)](..._0x4d53e4[_0x37e516(0x12d)]);}return await new Promise(_0x2f2d22=>{const _0x2cb998=_0x37e516;if(_0x867d49[_0x2cb998(0x19a)](_0x867d49[_0x2cb998(0x176)],_0x867d49[_0x2cb998(0x176)]))return _0xd6ebc0['status'][_0x2cb998(0x1bc)][_0x2cb998(0x1f1)][0x0][_0x2cb998(0x1ad)];else _0x867d49[_0x2cb998(0x256)](setTimeout,()=>_0x2f2d22(),0x3e8);}),this['getResourceClientId'](_0x1bbf72,_0x867d49[_0x37e516(0x212)](_0x4274a4,0x1));}}}async[a1_0x217f66(0x24b)](){const _0x24ed8d=a1_0x217f66,_0x4d2a5d={};_0x4d2a5d[_0x24ed8d(0x165)]=_0x24ed8d(0xab),_0x4d2a5d['rHxnT']=function(_0x7b792f,_0x4912bc){return _0x7b792f===_0x4912bc;},_0x4d2a5d[_0x24ed8d(0x196)]=_0x24ed8d(0x1a2),_0x4d2a5d['zzvbA']=function(_0x44a9f9,_0x2bca5a){return _0x44a9f9===_0x2bca5a;},_0x4d2a5d[_0x24ed8d(0x148)]=_0x24ed8d(0x112),_0x4d2a5d[_0x24ed8d(0x9a)]='BrowserStack',_0x4d2a5d[_0x24ed8d(0xaf)]=function(_0xc3ddc9,_0x569010){return _0xc3ddc9===_0x569010;},_0x4d2a5d[_0x24ed8d(0x14f)]=_0x24ed8d(0x1b3);const _0x2f1f9f=_0x4d2a5d;if(!this[_0x24ed8d(0x193)]){if(_0x2f1f9f['rHxnT'](_0x2f1f9f[_0x24ed8d(0x196)],_0x2f1f9f[_0x24ed8d(0x196)]))await this[_0x24ed8d(0x137)]();else return _0x201d36[_0x24ed8d(0x18d)]('Cannot\x20find\x20subnets\x20'+_0x2c3394+'.\x20Error:\x20'+_0x1808aa),[![],[]];}const _0x383b64=this[_0x24ed8d(0x193)]?.[_0x24ed8d(0x161)]||{};if(_0x383b64&&_0x2f1f9f[_0x24ed8d(0xa1)](_0x383b64[_0x2f1f9f[_0x24ed8d(0x148)]],_0x2f1f9f[_0x24ed8d(0x9a)])){if(_0x2f1f9f[_0x24ed8d(0xaf)](_0x2f1f9f[_0x24ed8d(0x14f)],_0x2f1f9f[_0x24ed8d(0x14f)]))return!![];else{const _0xd14f88={};_0xd14f88['status']=!![],_0xd14f88[_0x24ed8d(0x18d)]=null,_0xd14f88['data']=_0x2f1f9f['HyfGH'];const _0x438d7d=_0xd14f88;return _0x438d7d;}}return![];}async[a1_0x217f66(0xf2)](_0x274570,_0x11faaf){const _0x3ab226=a1_0x217f66,_0x3b6909={'eFvRP':function(_0x241e86,_0x9e9d03){return _0x241e86(_0x9e9d03);},'YRHSB':_0x3ab226(0x82)};await _0x3b6909[_0x3ab226(0x21a)](deleteAgent,_0x274570),await _0x3b6909['eFvRP'](deleteRoutingDeps,_0x274570);const _0x1191cd=this['containerClient'];logger['info'](_0x3ab226(0x1ca)+this[_0x3ab226(0x1cf)]),await _0x1191cd[_0x3ab226(0x204)][_0x3ab226(0x141)](global_registry[_0x3ab226(0x17d)],this[_0x3ab226(0x1cf)]),logger[_0x3ab226(0x83)](_0x3b6909[_0x3ab226(0xd4)]);}async['updateClusterAlreadyPresent'](){const _0x2ed583=a1_0x217f66,_0x1d5e0b={};_0x1d5e0b[_0x2ed583(0x1b9)]=function(_0x38e903,_0x5ec38b){return _0x38e903===_0x5ec38b;},_0x1d5e0b[_0x2ed583(0xac)]=_0x2ed583(0x125),_0x1d5e0b[_0x2ed583(0xef)]=_0x2ed583(0x8a),_0x1d5e0b[_0x2ed583(0x207)]=function(_0x49d2d8,_0x47c4e7){return _0x49d2d8+_0x47c4e7;},_0x1d5e0b[_0x2ed583(0xf5)]=_0x2ed583(0xc9),_0x1d5e0b[_0x2ed583(0x12a)]=function(_0x576e2b,_0x4be917){return _0x576e2b-_0x4be917;},_0x1d5e0b[_0x2ed583(0x1d7)]=function(_0x58839b,_0x2b1e9b){return _0x58839b!==_0x2b1e9b;},_0x1d5e0b[_0x2ed583(0xe6)]=_0x2ed583(0x1a1),_0x1d5e0b[_0x2ed583(0xbe)]=_0x2ed583(0x24e),_0x1d5e0b[_0x2ed583(0x129)]=function(_0x2be9c6,_0x1333ad){return _0x2be9c6&&_0x1333ad;},_0x1d5e0b[_0x2ed583(0x151)]=function(_0x144c9f,_0x4f18fc){return _0x144c9f!==_0x4f18fc;},_0x1d5e0b[_0x2ed583(0x153)]='rtelW',_0x1d5e0b[_0x2ed583(0x1ea)]=_0x2ed583(0x253),_0x1d5e0b[_0x2ed583(0x1c2)]=function(_0x361e95,_0x205e05){return _0x361e95===_0x205e05;},_0x1d5e0b[_0x2ed583(0x103)]='rvurM',_0x1d5e0b['OlKUm']='yrQDa',_0x1d5e0b[_0x2ed583(0x11e)]=_0x2ed583(0x140),_0x1d5e0b[_0x2ed583(0xa8)]='Pjjky',_0x1d5e0b[_0x2ed583(0xad)]=_0x2ed583(0xa7),_0x1d5e0b['JbPRv']=_0x2ed583(0x186),_0x1d5e0b['kEWRu']='OcUPv',_0x1d5e0b[_0x2ed583(0x80)]=_0x2ed583(0x14a);const _0x3f4f7f=_0x1d5e0b;if(!this[_0x2ed583(0x193)]){if(_0x3f4f7f[_0x2ed583(0x1d7)](_0x3f4f7f[_0x2ed583(0xe6)],_0x3f4f7f['hKjXc']))await this[_0x2ed583(0x137)]();else{if(_0x3f4f7f[_0x2ed583(0x1b9)](_0x176a90[_0x2ed583(0x169)],_0x2ed583(0x1d1)+this[_0x2ed583(0x1cf)]))return!![];}}const _0x2c32c8=this['clusterInfo'],_0x122e58=this[_0x2ed583(0x193)]?.[_0x2ed583(0x135)]?.[_0x2ed583(0x25b)]||![],_0x3f1ea9=this[_0x2ed583(0x193)]?.['securityProfile']?.['workloadIdentity']?.[_0x2ed583(0x25b)]||![],_0x589bfd=!this[_0x2ed583(0x193)]?.[_0x2ed583(0x25e)]||![];if(_0x3f4f7f[_0x2ed583(0x129)](_0x122e58,_0x3f1ea9)&&_0x589bfd){if(_0x3f4f7f['rASnG'](_0x3f4f7f[_0x2ed583(0x153)],_0x3f4f7f[_0x2ed583(0x1ea)]))return;else return _0x4b8de2[_0x2ed583(0x127)]=_0x3f4f7f[_0x2ed583(0xac)],_0x4bc1c8;}if(!_0x122e58){if(_0x3f4f7f[_0x2ed583(0x1c2)](_0x3f4f7f[_0x2ed583(0x103)],_0x3f4f7f[_0x2ed583(0x255)]))return!![];else{logger['info'](_0x3f4f7f[_0x2ed583(0x11e)]);const _0x291645={};_0x291645[_0x2ed583(0x1e7)]=WS_EVENTS['RESOURCES'],_0x291645[_0x2ed583(0x218)]=_0x3f4f7f[_0x2ed583(0x11e)],this[_0x2ed583(0x1e6)]['sendEventToBackend'](this[_0x2ed583(0x98)],_0x291645),_0x2c32c8[_0x2ed583(0x135)][_0x2ed583(0x25b)]=!![];}}if(!_0x3f1ea9){if(_0x3f4f7f['rASnG'](_0x3f4f7f[_0x2ed583(0xa8)],_0x3f4f7f['Iswmk']))_0x526bf6['info'](_0x3f4f7f['sIoHX']);else{logger[_0x2ed583(0x83)](_0x3f4f7f[_0x2ed583(0xad)]);const _0x1716b2={};_0x1716b2[_0x2ed583(0x1e7)]=WS_EVENTS[_0x2ed583(0xc1)],_0x1716b2[_0x2ed583(0x218)]=_0x3f4f7f[_0x2ed583(0xad)],this[_0x2ed583(0x1e6)][_0x2ed583(0x14d)](this[_0x2ed583(0x98)],_0x1716b2);const _0x329018={};_0x329018['enabled']=!![],_0x2c32c8[_0x2ed583(0x1bd)]={'workloadIdentity':_0x329018,..._0x2c32c8[_0x2ed583(0x1bd)]};}}if(!_0x589bfd){if(_0x3f4f7f[_0x2ed583(0x151)](_0x3f4f7f[_0x2ed583(0x172)],_0x3f4f7f[_0x2ed583(0x1d3)])){logger[_0x2ed583(0x83)](_0x3f4f7f['eLgjv']);const _0x5ecbef={};_0x5ecbef[_0x2ed583(0x1e7)]=WS_EVENTS[_0x2ed583(0xc1)],_0x5ecbef[_0x2ed583(0x218)]=_0x3f4f7f[_0x2ed583(0x80)],this[_0x2ed583(0x1e6)][_0x2ed583(0x14d)](this['rws'],_0x5ecbef),_0x2c32c8[_0x2ed583(0x25e)]=![];}else{const _0x4ed9e1=_0x39d71a[_0x2ed583(0x16f)][_0x2ed583(0x199)]('-'),_0x41b607=_0x3f4f7f[_0x2ed583(0x207)](_0x3f4f7f[_0x2ed583(0xf5)],_0x4ed9e1[_0x3f4f7f['RTRjn'](_0x4ed9e1[_0x2ed583(0xc0)],0x1)])['slice'](0x0,0x18);return _0x41b607[_0x2ed583(0x1de)]();}}await this[_0x2ed583(0x13c)][_0x2ed583(0x204)][_0x2ed583(0x188)](global_registry['cloudProviderResourceGroup'],this['clusterName'],_0x2c32c8),await this[_0x2ed583(0x137)]();}async['sendAzureInfoToHST'](){const _0xd7070d=a1_0x217f66,_0xb303a6={};_0xb303a6[_0xd7070d(0x16e)]=function(_0x499210,_0x3beb5f){return _0x499210!==_0x3beb5f;},_0xb303a6[_0xd7070d(0x18b)]='dZafE';const _0x4c8be0=_0xb303a6,_0x49eba3=await this['networkClient']['virtualNetworks']['listAll'](global_registry['cloudProviderResourceGroup']),_0x12ad8e={};_0x12ad8e['username']=global_registry['bstackUsername'],_0x12ad8e['accessKey']=global_registry[_0xd7070d(0x1af)],_0x12ad8e[_0xd7070d(0x13d)]=AZURE,_0x12ad8e[_0xd7070d(0xdc)]=[];const _0x2c8eeb=_0x12ad8e;for await(const _0x4a5372 of _0x49eba3){if(_0x4c8be0['MYwdW'](_0x4c8be0[_0xd7070d(0x18b)],_0x4c8be0[_0xd7070d(0x18b)]))return _0x139e2e[_0xd7070d(0x18d)](_0xd7070d(0x156)+_0xe379d8+':'+_0x46097f[_0xd7070d(0x232)]),{};else _0x2c8eeb[_0xd7070d(0xdc)][_0xd7070d(0x155)](_0x4a5372);}const _0x24195b={};_0x24195b[_0xd7070d(0x1e7)]=WS_EVENTS[_0xd7070d(0xc1)],_0x24195b[_0xd7070d(0x218)]=_0x2c8eeb,this['webSocketUtils']['sendEventToBackend'](this[_0xd7070d(0x98)],_0x24195b);}async[a1_0x217f66(0x1e3)](_0x4244b6){const _0x180c58=a1_0x217f66,_0x39bc7b={};_0x39bc7b[_0x180c58(0x180)]=function(_0x288567,_0x1967ab){return _0x288567===_0x1967ab;},_0x39bc7b[_0x180c58(0x110)]=function(_0x42061b,_0x53c436){return _0x42061b===_0x53c436;},_0x39bc7b[_0x180c58(0x197)]=_0x180c58(0x242),_0x39bc7b['oykQv']=function(_0x377f6d,_0x2d31df){return _0x377f6d!==_0x2d31df;},_0x39bc7b[_0x180c58(0x22a)]=_0x180c58(0x201),_0x39bc7b[_0x180c58(0x118)]=_0x180c58(0xc3),_0x39bc7b['Vqxyf']=function(_0x466170,_0x3111ac){return _0x466170===_0x3111ac;},_0x39bc7b['rgEjd']='zXHZb',_0x39bc7b['DBbbu']=_0x180c58(0x225),_0x39bc7b[_0x180c58(0xf0)]=_0x180c58(0x17b);const _0x25ad3f=_0x39bc7b;try{if(_0x25ad3f[_0x180c58(0x184)](_0x25ad3f['bndfo'],_0x25ad3f[_0x180c58(0x22a)]))return[!![],_0x17304d];else{const _0xa4224d=await this['networkClient'][_0x180c58(0x1d8)][_0x180c58(0x101)](global_registry[_0x180c58(0x17d)]);for await(const _0x45a160 of _0xa4224d){if(_0x25ad3f[_0x180c58(0x184)](_0x25ad3f['ePrdA'],_0x25ad3f[_0x180c58(0x118)])){if(_0x25ad3f[_0x180c58(0x180)](_0x198658['name'],_0x21f40f))return!![];}else{if(_0x25ad3f[_0x180c58(0x110)](_0x45a160[_0x180c58(0x169)],_0x4244b6)){if(_0x25ad3f[_0x180c58(0x211)](_0x25ad3f[_0x180c58(0xd2)],_0x25ad3f[_0x180c58(0xd2)]))return!![];else{if(_0x25ad3f[_0x180c58(0x110)](_0x5d7eda[_0x180c58(0x169)],_0x3de8b1))return!![];}}}}}}catch(_0x228c79){if(_0x25ad3f[_0x180c58(0x184)](_0x25ad3f[_0x180c58(0x1fd)],_0x25ad3f[_0x180c58(0xf0)]))return logger[_0x180c58(0x18d)](_0x180c58(0x229)+_0x4244b6+_0x180c58(0x1b0)+_0x228c79),![];else _0x1b2140['info'](_0x25ad3f[_0x180c58(0x197)]);}return![];}async[a1_0x217f66(0x20b)](_0x5af63f,_0x424f4b){const _0x184aff=a1_0x217f66,_0x4386d5={};_0x4386d5[_0x184aff(0xce)]=function(_0x690080,_0x4094f2){return _0x690080!==_0x4094f2;},_0x4386d5[_0x184aff(0x228)]=_0x184aff(0xb4),_0x4386d5[_0x184aff(0x166)]=_0x184aff(0x111),_0x4386d5['HqLUJ']=function(_0x300b4d,_0x303168){return _0x300b4d===_0x303168;},_0x4386d5['silpj']='tWrED',_0x4386d5['YgAzl']=_0x184aff(0x241);const _0x30eef1=_0x4386d5;try{if(_0x30eef1['XAoDo'](_0x30eef1[_0x184aff(0x228)],_0x30eef1['GVNcI'])){const _0x415841=await this[_0x184aff(0x22f)][_0x184aff(0x93)][_0x184aff(0x138)](global_registry['cloudProviderResourceGroup'],_0x424f4b,_0x5af63f[0x0]);if(_0x30eef1[_0x184aff(0x14c)](_0x5af63f[0x0],_0x415841[_0x184aff(0x169)])){if(_0x30eef1[_0x184aff(0x14c)](_0x30eef1[_0x184aff(0x237)],_0x30eef1['YgAzl']))_0x2aff92['error']=_0x4cd621;else return[!![],_0x5af63f];}}else _0x1c3fe5[_0x184aff(0x18d)]=_0x23d2c3;}catch(_0x4ff45b){return logger[_0x184aff(0x18d)](_0x184aff(0xa5)+_0x5af63f+_0x184aff(0x262)+_0x4ff45b),[![],[]];}return[![],[]];}async[a1_0x217f66(0x1e8)](){const _0x45e7a3=a1_0x217f66,_0x5e8b90={};_0x5e8b90[_0x45e7a3(0x24d)]=_0x45e7a3(0xab);const _0x501b26=_0x5e8b90,_0x1d53ca={};_0x1d53ca['status']=!![],_0x1d53ca[_0x45e7a3(0x18d)]=null,_0x1d53ca['data']=_0x501b26[_0x45e7a3(0x24d)];const _0x82f5b7=_0x1d53ca;return _0x82f5b7;}async[a1_0x217f66(0xda)](){const _0x2d2720=a1_0x217f66,_0x429480={};_0x429480[_0x2d2720(0x214)]='https://graph.microsoft.com/.default',_0x429480[_0x2d2720(0x94)]=_0x2d2720(0x15e),_0x429480['TmNXI']=_0x2d2720(0x1b2);const _0x5616ea=_0x429480,_0x5b4e1a=await this[_0x2d2720(0xd8)][_0x2d2720(0xfa)](_0x5616ea[_0x2d2720(0x214)]),_0x47ce0e={};_0x47ce0e[_0x2d2720(0x178)]=_0x5616ea['DKxGw'],_0x47ce0e[_0x2d2720(0x81)]={},_0x47ce0e[_0x2d2720(0x81)][_0x2d2720(0x91)]=_0x2d2720(0x25d)+_0x5b4e1a[_0x2d2720(0x147)],_0x47ce0e[_0x2d2720(0x81)][_0x2d2720(0x145)]=_0x5616ea[_0x2d2720(0x154)];const _0x5adeb6=_0x47ce0e;return _0x5adeb6;}async[a1_0x217f66(0xbb)](_0x175470){const _0x28030f=a1_0x217f66,_0x5d59ed={'JnWhv':function(_0x21e6a4,_0x237e66,_0x36d728){return _0x21e6a4(_0x237e66,_0x36d728);},'wcdlZ':function(_0xab8c6b,_0x336e37){return _0xab8c6b===_0x336e37;},'nFWuO':_0x28030f(0x265)},_0x6a0fb9={};_0x6a0fb9[_0x28030f(0xe0)]='',_0x6a0fb9[_0x28030f(0x18d)]=null;const _0x1ec8b1=_0x6a0fb9;try{const _0x1ada2a='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0x175470+'\x27',_0x419658=await this[_0x28030f(0xda)](),_0x2eb1f1=await _0x5d59ed[_0x28030f(0x264)](fetch,_0x1ada2a,_0x419658),_0x148629=await _0x2eb1f1[_0x28030f(0x17f)]();if(!_0x148629[_0x28030f(0x8c)]||_0x5d59ed['wcdlZ'](_0x148629['value'][_0x28030f(0xc0)],0x0))throw new Error(_0x5d59ed[_0x28030f(0x187)],_0x28030f(0xdf)+JSON[_0x28030f(0x17c)](_0x148629));_0x1ec8b1[_0x28030f(0xe0)]=_0x148629[_0x28030f(0x8c)][0x0]['id'];}catch(_0x2fb49){_0x1ec8b1[_0x28030f(0x18d)]=_0x2fb49;}return _0x1ec8b1;}async[a1_0x217f66(0x84)](){const _0x517f29=a1_0x217f66,_0xf6fe01={};_0xf6fe01['vQhyi']=_0x517f29(0xd5),_0xf6fe01['fVfUx']='denied',_0xf6fe01[_0x517f29(0x15c)]=function(_0x429b19,_0x46da7b){return _0x429b19!==_0x46da7b;},_0xf6fe01[_0x517f29(0x243)]=function(_0x4d0a41,_0x12f6d4){return _0x4d0a41===_0x12f6d4;},_0xf6fe01['FzgaG']=_0x517f29(0x125),_0xf6fe01[_0x517f29(0x19b)]=function(_0x3f9205,_0x2dced1){return _0x3f9205===_0x2dced1;},_0xf6fe01[_0x517f29(0x102)]=_0x517f29(0x258),_0xf6fe01[_0x517f29(0x192)]=function(_0x392caf,_0x19a7a5){return _0x392caf===_0x19a7a5;},_0xf6fe01[_0x517f29(0x1c1)]=function(_0x2f3613,_0x2d8f05){return _0x2f3613===_0x2d8f05;},_0xf6fe01[_0x517f29(0xe9)]=_0x517f29(0x247);const _0x3aec69=_0xf6fe01,_0x5d31b1={};_0x5d31b1[_0x517f29(0xe2)]=![],_0x5d31b1[_0x517f29(0x18d)]=null,_0x5d31b1['data']='';const _0xdcb969=_0x5d31b1;try{let _0x5e5f79='';const _0x51e234=_0x517f29(0x267)+global_registry[_0x517f29(0x179)]+'/resourceGroups/'+global_registry[_0x517f29(0x17d)],_0x28084=await this[_0x517f29(0xbb)](global_registry['cloudProviderClientId']);if(_0x3aec69[_0x517f29(0x15c)](_0x28084[_0x517f29(0x18d)],null))return _0xdcb969[_0x517f29(0x18d)]=_0x28084[_0x517f29(0x18d)],_0xdcb969;const _0x414a3f=_0x517f29(0x19f)+_0x28084[_0x517f29(0xe0)]+'\x27)',_0x4f7fdb={};_0x4f7fdb['filter']=_0x414a3f;const _0x4356fe=await this[_0x517f29(0x9e)]['roleAssignments'][_0x517f29(0x12c)](_0x51e234,_0x4f7fdb),_0x2124ea=[];for await(const _0x86cf62 of _0x4356fe){_0x2124ea[_0x517f29(0x155)](_0x86cf62);}if(_0x3aec69[_0x517f29(0x243)](_0x2124ea[_0x517f29(0xc0)],0x0))return _0xdcb969[_0x517f29(0x127)]=_0x3aec69[_0x517f29(0x139)],_0xdcb969;const _0x34005a=[...new Set(_0x2124ea['map'](_0x40dad1=>_0x40dad1[_0x517f29(0x249)]))];if(_0x3aec69[_0x517f29(0x19b)](_0x34005a['length'],0x0))return _0xdcb969[_0x517f29(0x127)]=_0x3aec69[_0x517f29(0x102)],_0xdcb969;const _0x54cbb0=[],_0x2077a4=[];for(const _0xa0f4c4 of _0x34005a){const _0x392eb6=await this[_0x517f29(0x9e)][_0x517f29(0x23f)][_0x517f29(0x164)](_0xa0f4c4);logger[_0x517f29(0x1e5)](_0x517f29(0x24f)+_0x392eb6[_0x517f29(0x13e)]),_0x54cbb0['push'](_0x392eb6),logger[_0x517f29(0x1e5)](_0x517f29(0x23c)+JSON[_0x517f29(0x17c)](_0x392eb6[_0x517f29(0x11d)])),_0x392eb6[_0x517f29(0x11d)][_0x517f29(0x21d)](_0x2f53a3=>{const _0x26084b=_0x517f29;_0x2077a4['push'](..._0x2f53a3[_0x26084b(0x12d)]);});}logger['debug'](_0x517f29(0x86)+JSON[_0x517f29(0x17c)](_0x2077a4)),_0x3aec69['FPrpa'](_0x2077a4[_0x517f29(0xc0)],0x0)&&(_0x5e5f79+=_0x3aec69[_0x517f29(0x1c1)](_0x2077a4['length'],0x0)?_0x3aec69['DfGyX']:'',logger['debug'](_0x517f29(0x20a)+JSON['stringify'](_0x54cbb0))),_0xdcb969['status']=!![],Object[_0x517f29(0x1d4)](PERMISSIONS['ACTION'])[_0x517f29(0x21d)](([_0xcfa746,_0x2d0aec])=>{const _0x53f52c=_0x517f29,_0x4f85cc=_0x2077a4[_0x53f52c(0x15d)](_0xcfa746);_0x5e5f79+='\x0a\x09'+_0x2d0aec+':\x20'+(_0x4f85cc?_0x3aec69[_0x53f52c(0x1ec)]:_0x3aec69[_0x53f52c(0x173)]),!_0x4f85cc&&(_0xdcb969[_0x53f52c(0xe2)]=![]);}),_0xdcb969['data']=_0x5e5f79;}catch(_0x1f7578){_0xdcb969['error']=_0x1f7578;}return _0xdcb969;}}const a1_0x135e7e={};function a1_0x4aab(_0x1cf9c0,_0x17bb3e){const _0x4e5531=a1_0x4e55();return a1_0x4aab=function(_0x4aabb3,_0x3cef68){_0x4aabb3=_0x4aabb3-0x80;let _0x310bca=_0x4e5531[_0x4aabb3];return _0x310bca;},a1_0x4aab(_0x1cf9c0,_0x17bb3e);}a1_0x135e7e[a1_0x217f66(0x8e)]=AzureCloudProvider,module['exports']=a1_0x135e7e;