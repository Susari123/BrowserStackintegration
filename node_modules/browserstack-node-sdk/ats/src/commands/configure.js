const a5_0x51b21a=a5_0x467b;(function(_0x352d3d,_0x1d54eb){const _0x1bced6=a5_0x467b,_0x14b9a9=_0x352d3d();while(!![]){try{const _0xc4a0ed=parseInt(_0x1bced6(0x1ca))/0x1*(-parseInt(_0x1bced6(0x1ad))/0x2)+-parseInt(_0x1bced6(0x1ef))/0x3+-parseInt(_0x1bced6(0x1d9))/0x4+parseInt(_0x1bced6(0x1e1))/0x5*(-parseInt(_0x1bced6(0x1a9))/0x6)+parseInt(_0x1bced6(0x1bc))/0x7+-parseInt(_0x1bced6(0x1d4))/0x8+parseInt(_0x1bced6(0x1a1))/0x9*(parseInt(_0x1bced6(0x1e3))/0xa);if(_0xc4a0ed===_0x1d54eb)break;else _0x14b9a9['push'](_0x14b9a9['shift']());}catch(_0x246ba9){_0x14b9a9['push'](_0x14b9a9['shift']());}}}(a5_0x34db,0x1a721));function a5_0x467b(_0x43d343,_0x27eb6c){const _0x34dba3=a5_0x34db();return a5_0x467b=function(_0x467b44,_0x5d0228){_0x467b44=_0x467b44-0x198;let _0x33b069=_0x34dba3[_0x467b44];return _0x33b069;},a5_0x467b(_0x43d343,_0x27eb6c);}function a5_0x34db(){const _0x176c9a=['kIKcs','qWyfi','error','200343ZPVNxy','PYTUm','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','/packages/cli/configure','json','stringify','got','RZsFl','kXXXb','configure-called','strict','Updated\x20default\x20Grid\x20Profile\x20successfully','\x20\x20grid-profile:\x20','YeEMO','vIoLK','IsskN','owohe','WCkGN','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','desc','YKBPD','active','ERROR','yOnkV','core:','password','1827INqFIn','command','WYhQo','statusCode','lUwKJ','readFileSync','GET','cNMxK','518376Hccpes','eVkwd','log','vtnPL','14RxbbQI','usage','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','help','INFO','BLvIr','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','Failed\x20to\x20configure\x20resources!\x20Error:\x20','invalid-input','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','lnvsM','https://','handler','yFtNP','304367jLDGaB','recommendCommands','length','WbbzT','YVdvI','profileId','server-error','list','argv','../utils/utilityMethods','Browserstack','vGgRw','uhKmp','name','10793XPbbRz','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','unauthorised','username','bUOQQ','wuJsc','configure','toLowerCase','parse','requestId','37096SUMZMz','cdyTL','invalid-selection','exit','EiruS','11376wTIhzp','IKWpU','elwBf','cQtPR','fmXLJ','eDueU','\x20\x20username:\x20','uuid','5QyyLJf','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','14830lEYdUG','PXeUd','oVLBq','mYzll','syzwK','body','rVzdc','PqlVK','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?'];a5_0x34db=function(){return _0x176c9a;};return a5_0x34db();}const fs=require('fs'),got=require(a5_0x51b21a(0x1f5)),{v4:uuidv4}=require(a5_0x51b21a(0x1e0)),{inputConfirmation,closeInput}=require('../utils/userInput'),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getCredentialsPath,getAuthHeader}=require(a5_0x51b21a(0x1c5)),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');exports[a5_0x51b21a(0x1a2)]=a5_0x51b21a(0x1d0),exports[a5_0x51b21a(0x19a)]=a5_0x51b21a(0x1b0),exports['builder']=function(_0x360cb3){const _0x5319d1=a5_0x51b21a,_0x4560e4={};_0x4560e4[_0x5319d1(0x1db)]='help';const _0xb6092b=_0x4560e4;return _0x360cb3[_0x5319d1(0x1ae)](HELP_HEADER_MESSAGE['configure'])['epilogue'](HELP_FOOTER_MESSAGE)[_0x5319d1(0x1b1)](_0xb6092b[_0x5319d1(0x1db)])[_0x5319d1(0x1bd)]()[_0x5319d1(0x1f9)]()[_0x5319d1(0x1c4)];},exports[a5_0x51b21a(0x1ba)]=async function(_0x12616d){const _0x395bc1=a5_0x51b21a,_0x31f76c={'eVkwd':function(_0x50e1c0){return _0x50e1c0();},'AYsAG':_0x395bc1(0x199),'vIoLK':function(_0x591d08,_0x4a7662,_0x35b5c0,_0x46fadc,_0x5ab9e1,_0x3f444d,_0x4a6fa1){return _0x591d08(_0x4a7662,_0x35b5c0,_0x46fadc,_0x5ab9e1,_0x3f444d,_0x4a6fa1);},'PYTUm':_0x395bc1(0x1f8),'cNMxK':'init-not-called','oVLBq':_0x395bc1(0x1a7),'YVdvI':function(_0x71388e,_0x32d15e,_0x5b9c98){return _0x71388e(_0x32d15e,_0x5b9c98);},'eDueU':function(_0x28ba6c,_0x246b84,_0x5d8ca9){return _0x28ba6c(_0x246b84,_0x5d8ca9);},'qWyfi':function(_0x356c25,_0x110f9e){return _0x356c25!==_0x110f9e;},'fmXLJ':function(_0x3bc1d4,_0x3b0ba0){return _0x3bc1d4===_0x3b0ba0;},'WCkGN':_0x395bc1(0x1f1),'ujAld':_0x395bc1(0x19f),'WbbzT':function(_0x3350d1,_0x3659fe){return _0x3350d1(_0x3659fe);},'tIRPP':_0x395bc1(0x1eb),'uhKmp':function(_0x5971e0,_0x3ff6f8){return _0x5971e0===_0x3ff6f8;},'cdyTL':function(_0x92de65,_0x29e887){return _0x92de65===_0x29e887;},'vtnPL':_0x395bc1(0x1cb),'cQtPR':function(_0x32a11a,_0x13fc66,_0x9323d3,_0xc24262,_0x4c440e,_0xe036a0,_0x5785ca){return _0x32a11a(_0x13fc66,_0x9323d3,_0xc24262,_0x4c440e,_0xe036a0,_0x5785ca);},'kIKcs':_0x395bc1(0x1b6),'syzwK':function(_0x2fb006,_0x42f7d9){return _0x2fb006===_0x42f7d9;},'vGgRw':_0x395bc1(0x1b7),'bUOQQ':function(_0x57d440,_0x49da50){return _0x57d440<_0x49da50;},'yFtNP':function(_0x338bd1,_0x33e256){return _0x338bd1+_0x33e256;},'rVzdc':_0x395bc1(0x1e2),'PXeUd':function(_0x4bdff6,_0x1fc8ee){return _0x4bdff6(_0x1fc8ee);},'owohe':function(_0x40cd73,_0x1bd8b3){return _0x40cd73<=_0x1bd8b3;},'lUwKJ':function(_0x4f89ad,_0x370a7b){return _0x4f89ad>_0x370a7b;},'YKBPD':_0x395bc1(0x1d6),'eXInZ':function(_0x4278ee,_0x12477c){return _0x4278ee-_0x12477c;},'uWQmS':'PUT','IsskN':function(_0x22aa48,_0x493c80,_0x508b4e){return _0x22aa48(_0x493c80,_0x508b4e);},'RZsFl':_0x395bc1(0x1f3),'WYhQo':function(_0x265061,_0x13c359,_0x1f4384){return _0x265061(_0x13c359,_0x1f4384);},'lnvsM':function(_0x2667d0,_0x243fe3){return _0x2667d0!==_0x243fe3;},'PqlVK':function(_0x35b06a,_0x323e59){return _0x35b06a!==_0x323e59;},'EiruS':function(_0x5213ca,_0x13c0f8){return _0x5213ca===_0x13c0f8;},'kXXXb':_0x395bc1(0x1fa),'IKWpU':function(_0x17dca5,_0x3e0d0e){return _0x17dca5===_0x3e0d0e;},'QPXMH':_0x395bc1(0x1b4),'yOnkV':_0x395bc1(0x1cc),'wuJsc':_0x395bc1(0x1c2),'YeEMO':function(_0x4c1fb9,_0x50a47e){return _0x4c1fb9===_0x50a47e;},'mYzll':'Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','zMVtG':function(_0x231852,_0x3b0736,_0x46a4f9,_0x38c58f,_0x44d271,_0x12594c,_0x4bfcf9){return _0x231852(_0x3b0736,_0x46a4f9,_0x38c58f,_0x44d271,_0x12594c,_0x4bfcf9);},'BLvIr':'unknown-error'};try{global_registry[_0x395bc1(0x1d3)]=_0x31f76c['eVkwd'](uuidv4);const _0x18abb2=_0x395bc1(0x1b9)+AG_API_URL+_0x395bc1(0x1f2);!fs['existsSync'](_0x31f76c[_0x395bc1(0x1aa)](getCredentialsPath))&&(console[_0x395bc1(0x1ee)](_0x31f76c['AYsAG']),await _0x31f76c[_0x395bc1(0x1fd)](sendInstrumentationEvent,_0x12616d,_0x31f76c[_0x395bc1(0x1f0)],messageTypes[_0x395bc1(0x19d)],_0x31f76c[_0x395bc1(0x1a8)],null,_0x12616d),process[_0x395bc1(0x1d7)](0x1));await _0x31f76c['vIoLK'](sendInstrumentationEvent,_0x12616d,_0x31f76c[_0x395bc1(0x1f0)],messageTypes[_0x395bc1(0x1b2)],null,null,_0x12616d);const _0x5d31ac=JSON[_0x395bc1(0x1d2)](fs[_0x395bc1(0x1a6)](_0x31f76c[_0x395bc1(0x1aa)](getCredentialsPath))),_0x209ab0={'method':_0x31f76c[_0x395bc1(0x1e5)],'headers':_0x31f76c[_0x395bc1(0x1c0)](getAuthHeader,_0x5d31ac[_0x395bc1(0x1c6)][_0x395bc1(0x1cd)],_0x5d31ac[_0x395bc1(0x1c6)][_0x395bc1(0x1a0)]),'throwHttpErrors':![]},_0x3473fa=await _0x31f76c[_0x395bc1(0x1de)](got,_0x18abb2,_0x209ab0);if(_0x31f76c[_0x395bc1(0x1ed)](_0x3473fa,null)&&_0x31f76c[_0x395bc1(0x1ed)](_0x3473fa,undefined)&&_0x31f76c[_0x395bc1(0x1dd)](_0x3473fa[_0x395bc1(0x1a4)],0xc8)){const _0x2ff4a3=JSON['parse'](_0x3473fa[_0x395bc1(0x1e8)]);console[_0x395bc1(0x1ab)](_0x31f76c[_0x395bc1(0x198)]),console['log'](_0x31f76c['ujAld']),console['log'](_0x395bc1(0x1df)+_0x5d31ac[_0x395bc1(0x1c6)]['username']),console[_0x395bc1(0x1ab)](_0x395bc1(0x1fb)+_0x2ff4a3[_0x395bc1(0x19c)][_0x395bc1(0x1c9)]);const _0x3f5fa9=await _0x31f76c[_0x395bc1(0x1bf)](inputConfirmation,_0x31f76c['tIRPP']);(_0x31f76c['fmXLJ'](_0x3f5fa9,undefined)||_0x31f76c[_0x395bc1(0x1dd)](_0x3f5fa9,null)||!(_0x31f76c[_0x395bc1(0x1c8)](_0x3f5fa9[_0x395bc1(0x1d1)](),'y')||_0x31f76c[_0x395bc1(0x1d5)](_0x3f5fa9[_0x395bc1(0x1d1)](),'n')))&&(console['error'](_0x31f76c[_0x395bc1(0x1ac)]),await _0x31f76c[_0x395bc1(0x1dc)](sendInstrumentationEvent,_0x12616d,_0x31f76c[_0x395bc1(0x1f0)],messageTypes['ERROR'],_0x31f76c[_0x395bc1(0x1ec)],null,_0x12616d),process['exit'](0x1));_0x31f76c[_0x395bc1(0x1e7)](_0x3f5fa9['toLowerCase'](),'n')&&process[_0x395bc1(0x1d7)](0x0);console[_0x395bc1(0x1ab)](_0x31f76c[_0x395bc1(0x1c7)]);const _0x560725=_0x2ff4a3['list'][_0x395bc1(0x1be)];for(let _0x1ccba6=0x0;_0x31f76c[_0x395bc1(0x1ce)](_0x1ccba6,_0x560725);_0x1ccba6+=0x1){console[_0x395bc1(0x1ab)]('['+_0x31f76c[_0x395bc1(0x1bb)](_0x1ccba6,0x1)+']\x20'+_0x2ff4a3['list'][_0x1ccba6][_0x395bc1(0x1c9)]);}const _0x5f477f=await _0x31f76c[_0x395bc1(0x1bf)](inputConfirmation,_0x31f76c[_0x395bc1(0x1e9)]),_0x28d532=_0x31f76c[_0x395bc1(0x1e4)](Number,_0x5f477f);(_0x31f76c['PXeUd'](isNaN,_0x28d532)||_0x31f76c[_0x395bc1(0x1ff)](_0x28d532,0x0)||_0x31f76c[_0x395bc1(0x1a5)](_0x28d532,_0x560725))&&(console['error'](_0x31f76c[_0x395bc1(0x1ac)]),await _0x31f76c[_0x395bc1(0x1fd)](sendInstrumentationEvent,_0x12616d,_0x31f76c[_0x395bc1(0x1f0)],messageTypes[_0x395bc1(0x19d)],_0x31f76c[_0x395bc1(0x19b)],null,_0x12616d),process['exit'](0x1));_0x31f76c[_0x395bc1(0x1aa)](closeInput);const _0x164074=_0x2ff4a3[_0x395bc1(0x1c3)][_0x31f76c['eXInZ'](_0x28d532,0x1)]['id'],_0x44c16f={};_0x44c16f[_0x395bc1(0x1c1)]=_0x164074;const _0x15a878={'method':_0x31f76c['uWQmS'],'headers':_0x31f76c[_0x395bc1(0x1fe)](getAuthHeader,_0x5d31ac[_0x395bc1(0x1c6)]['username'],_0x5d31ac[_0x395bc1(0x1c6)]['password']),'json':_0x44c16f,'responseType':_0x31f76c[_0x395bc1(0x1f6)],'throwHttpErrors':![]},_0x16c314=await _0x31f76c[_0x395bc1(0x1a3)](got,_0x18abb2,_0x15a878);_0x31f76c[_0x395bc1(0x1b8)](_0x16c314,null)&&_0x31f76c[_0x395bc1(0x1ea)](_0x16c314,undefined)&&_0x31f76c[_0x395bc1(0x1d8)](_0x16c314[_0x395bc1(0x1a4)],0xc8)&&(console[_0x395bc1(0x1ab)](_0x31f76c[_0x395bc1(0x1f7)]),process[_0x395bc1(0x1d7)](0x0)),_0x31f76c[_0x395bc1(0x1da)](_0x16c314[_0x395bc1(0x1a4)],0x191)&&(console['error'](_0x31f76c['QPXMH']),await _0x31f76c[_0x395bc1(0x1dc)](sendInstrumentationEvent,_0x12616d,_0x31f76c[_0x395bc1(0x1f0)],messageTypes[_0x395bc1(0x19d)],_0x31f76c[_0x395bc1(0x19e)],null,_0x12616d),process[_0x395bc1(0x1d7)](0x1)),console['error']('Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20'+JSON[_0x395bc1(0x1f4)](_0x16c314)),await _0x31f76c[_0x395bc1(0x1dc)](sendInstrumentationEvent,_0x12616d,_0x31f76c[_0x395bc1(0x1f0)],messageTypes[_0x395bc1(0x19d)],_0x31f76c['wuJsc'],_0x16c314,_0x12616d),process['exit'](0x1);}_0x31f76c[_0x395bc1(0x1fc)](_0x3473fa[_0x395bc1(0x1a4)],0x191)&&(console['error'](_0x31f76c[_0x395bc1(0x1e6)]),await _0x31f76c[_0x395bc1(0x1dc)](sendInstrumentationEvent,_0x12616d,_0x31f76c[_0x395bc1(0x1f0)],messageTypes[_0x395bc1(0x19d)],_0x31f76c[_0x395bc1(0x19e)],null,_0x12616d),process[_0x395bc1(0x1d7)](0x1)),console[_0x395bc1(0x1ee)](_0x395bc1(0x1af)+JSON[_0x395bc1(0x1f4)](_0x3473fa)),await _0x31f76c[_0x395bc1(0x1fd)](sendInstrumentationEvent,_0x12616d,_0x31f76c[_0x395bc1(0x1f0)],messageTypes[_0x395bc1(0x19d)],_0x31f76c[_0x395bc1(0x1cf)],_0x3473fa,_0x12616d),process[_0x395bc1(0x1d7)](0x1);}catch(_0x58ddab){console[_0x395bc1(0x1ee)](_0x395bc1(0x1b5)+_0x58ddab['stack']),await _0x31f76c['zMVtG'](sendInstrumentationEvent,_0x12616d,_0x31f76c[_0x395bc1(0x1f0)],messageTypes['ERROR'],_0x31f76c[_0x395bc1(0x1b3)],_0x58ddab,_0x12616d),process[_0x395bc1(0x1d7)](0x1);}};